2004-12-08  Zoltan Varga  <vargaz@freemail.hu>

	* CodeGenerator.cs: Call new DefineInternalDynamicAssembly method to prevent a race
	condition in the setting of the CorlibInternal flag.

2004-12-06  Zoltan Varga  <vargaz@freemail.hu>

	* CodeGenerator.cs: Mark the created assembly builder as internal.

2004-11-29  Lluis Sanchez Gual  <lluis@ximian.com>

	* CodeGenerator.cs: Addded EnumToUnderlying method to get the underlying
	type of an enum. This fixes bug #69753.

2004-07-02  Lluis Sanchez Gual  <lluis@ximian.com>

	* BinaryCommon.cs: Added CheckSerializable method.
	* ObjectWriter.cs: Check for type serializability even for members with
	  null values.
	
2004-05-29  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* ObjectWriter.cs: reduce contention in GetObjectData.

2004-05-14  Vladimir Vukicevic  <vladimir@pobox.com>

	* binary_serialization_format.htm: renamed filename from having
	  spaces to _'s (checked with lluis)

2004-05-13  Lluis Sanchez Gual  <lluis@ximian.com>

	* ObjectWriter.cs: Fixed and Simplified WriteGenericArray and 
	  WriteSingleDimensionArrayElements. This also fixes bug #58345.

2004-05-03  Lluis Sanchez Gual  <lluis@ximian.com>

	* MessageFormatter.cs: In the all-are-primitive case, serialize Args, 
	  not OutArgs.

2004-04-28  Lluis Sanchez Gual <lluis@ximian.com>

	* MessageFormatter.cs: Serialize Args, not OutArgs, like in MS.NET.

2004-04-26  Lluis Sanchez Gual <lluis@ximian.com>

	* ObjectReader.cs, ObjectWriter.cs: FIXME cleaning.

2004-04-20  Lluis Sanchez Gual <lluis@ximian.com>

	* CodeGenerator.cs, ObjectReader.cs, ObjectWriter.cs: Serialize decimals
	  as strings, like in MS.NET. This fixes bug #57186.

2004-02-23  Lluis Sanchez Gual <lluis@ximian.com>

	* BinaryCommon.cs: Added UseReflectionSerialization property.
	* CodeGenerator.cs, ObjectWriter.cs: When serializing the name of an 
	  inherited field, prefix the name with the class name. This fixes #54439.
	  Moved check for reflection serialization variable to BinaryCommon.
	
2004-02-17  Lluis Sanchez Gual <lluis@ximian.com>

	* ObjectWriter.cs: Factorized some serialization code in new classes, so it
	  is now possible to use fast IL generated classes that use direct access
	  to class fields instead of using reflection.
	* CodeGenerator.cs: New file. Has several methods used by ObjectWriter to 
	  generate serialization code.

2004-02-05  Lluis Sanchez Gual <lluis@ximian.com>

	* ObjectWriter.cs: Get the assembly of a member from the member's type, not
	  from the type of the value, because that is the type written in the
	  metadata section of the object.

2003-12-23  Lluis Sanchez Gual <lluis@ximian.com>

	* ObjectReader.cs: Field names can include the type name if the field
	  belongs to a base type. Take this into account.

2003-11-26  Lluis Sanchez Gual <lluis@ximian.com>

	* BinaryFormatter.cs: Added missing methods.

2003-11-20  Lluis Sanchez Gual <lluis@ximian.com>

	* BinaryFormatter.cs, MessageFormatter.cs, ObjectReader.cs: Added support
	  for TypeFilter property.

2003-11-16  Lluis Sanchez Gual <lluis@ximian.com>

	* BinaryFormatter.cs, MessageFormatter.cs, ObjectWriter.cs: 
	  Implemented support for AssemblyFormat property.

2003-11-12  Lluis Sanchez Gual <lluis@ximian.com>

	* ObjectReader.cs, ObjectWriter.cs: Changed some GetType calls to "is" checks.

2003-07-28  Duncan Mak  <duncan@ximian.com>

	* BinaryFormatter.cs (WriteBinaryHeader): changed from public to
	private.

2003-07-25  Lluis Sanchez Gual <lluis@ximian.com>

    * MessageFormatter.cs: WriteMethodCall(): It must write all parameters,
      including ref and out.

2003-07-24  Lluis Sanchez Gual <lluis@ximian.com>

    * ObjectReader.cs, ObjectWriter.cs, BinaryCommon.cs: Fixed bug #45970.

2003-07-17  Lluis Sanchez Gual <lluis@ximian.com>

    * ObjectReader.cs: Keep MemberInfo members in type's metadata object, so it is
      not necessary to query them for every object.
    * ObjectWriter.cs: If the value being serialized is a value type (not boxed)
      then there is no need to register it in the ObjectIDGenerator, because it is
      not possible to have two references to the same value type object.

2003-05-13  Lluis Sanchez Gual <lluis@ideary.com>

    * ObjectReader.cs: Changed signature of ReadObjectGraph, so now it returns the
      deserialized object and the headers.
    * MessageFormatter.cs: The result of the call to the HeaderHandler delegate is
      now interpreted as the uri of the target object. This seems to be MS.NET
      behavior.
	* BinaryFormatter.cs: Deserialize now calls the HeaderHandler delegate,
	  if provided.

2003-02-25  Lluis Sanchez Gual <lluis@ideary.com>

	* BinaryFormatter.cs: Implemented support for binders.
    * MessageFormatter.cs: Implemented support for binders.
    * ObjectReader.cs: Implemented support for binders.

2003-02-04  Lluis Sanchez Gual <lluis@ideary.com>

    * MessageFormatter.cs: Fixed bug in serialization of arguments.
    * ObjectReader.cs: Fixed bug causing array of structs to fail.

2003-02-11  Patrik Torstensson

    * ObjectReader.cs: Fixed root object bug causing object reader to return root object 
	  before fixup. Closes bug #37842.

2003-02-04  Lluis Sanchez Gual <lluis@ideary.com>

    * MessageFormatter.cs: Corrected some bugs that affected serialization of exceptions

2003-02-04  Lluis Sanchez Gual <lluis@ideary.com>

    * MessageFormatter.cs: Implemented serialization of message properties.

2003-01-24  Martin Baulig  <martin@ximian.com>

	* ObjectReader.cs (ReadNextObject): Call
	RaiseDeserializationEvent() on the ObjectManager when we're done
	reading the whole graph.

2003-01-24  Lluis Sanchez Gual <lluis@ideary.com>

    * ObjectWriter.cs, ObjectReader.cs: Added suport for headers. 
      Corrected encoding of primitive types. Corrected a bug about zero-length arrays. 
    * MessageFormatter.cs: Added. Implements serialization of messages.
    * BinaryFormatter.cs: Added serialization of messages.
    * BinaryCommon.cs: Added enum of codes of primitive types.

2003-01-17  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* ObjectWriter.cs: make the exception message more useful.

2003-01-16  Lluis Sanchez Gual <lluis@ideary.com>

    * BinaryFormatter.cs: implemented Serialize and Deserialize methods.
    * ObjectReader.cs: added.
    * ObjectWriter.cs: added.
    * BinaryCommon.cs. added.

2002-08-22  Nick Drochak  <ndrochak@gol.com>

	* BinaryArrayTypeEnum.cs: Removed Non-existent enum (must have been
	from beta days)

2002-08-18  Dick Porter  <dick@ximian.com>

	* BinaryFormatter.cs: Stubbed out
