2004-09-19  Sureshkumar T <tsureshkumar@novell.com>
	* DataRow.cs : while deserialization of dataset, adding a current row precedes the original row.
		       hence, adding a row cache is necessary if the original row happens to be current.
		       fixed bug #63097

2004-08-23  Martin Baulig  <martin@ximian.com>

	* XmlDataInferenceLoader.cs (Driver): Make this class internal,
	not public.

2004-08-18 Umadevi S <sumadevi@novell.com>
	* DataView.cs - Completed most of the event handling. 
	Thanks to Punit Todi <punit_todi@da-iict.org> for implementing most of it.
	Thanks to Boris Kirzner <borisk@mainsoft.com> for commenting and suggesting changes to the implementation.
	* DataTable.cs - Changed Access modifiers of class/methods since it was used by DataView.

2004-08-06  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : DataSet's ExtendedProperties were not XmlConverted.

2004-08-05  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlConstants.cs : Added constants for "msprop" support.
	* DataSet.cs : ExtendedProperties should be written in the schema.
	  This fixes bug #61233.

2004-07-27  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : on serialization to XmlWriter, XmlConvert should be
	  used. There were also some culture dependency problems to write int.

2004-06-27  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataInferenceLoader.cs : It was not always filling relation
	  child table information correctly. This fixes bug #60742.

2004-06-23 Umadevi S <sumadevi@novell.com>
	* UniqueConstraint.cs :changed a ifdef true to ifdef NET_1_1

2004-06-22  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : Fixed ReadXml(). When ReadMode is ReadSchema and the
	  schema is inside the document element (as created in XmlWriteMode
	  .WriteSchema), it should read schema from that non-document element.
	  This fixes one case reported in bug #60470.

2004-06-20  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataInferenceLoader.cs : Kindly reject xml schema document as a
	  inference target. For bug #60470. (MS does not support schema
	  document inference and results in unconsistent dataset structure.)

2004-06-20  Atsushi Enomoto  <atsushi@ximian.com>

	* DataTableCollection.cs : reset the table's DataSet to null when
	  removing a table from this collection.
	* DataTable.cs : When Namespace is not specified explicitly, its
	  Namespace property reflects DataSet's Namespace if exist.
	  This fixes bug #60469.

2004-06-18  Gert Driesen <drieseng@users.sourceforge.net>

	* DBConcurrentcyException.cs: CRLF to LF
	* DataViewSetting.cs: CRLF to LF

2004-06-18  Gert Driesen <drieseng@users.sourceforge.net>

        * DataViewSetting.cs: renamed fields to match MS.NET

2004-06-18  Gert Driesen <drieseng@users.sourceforge.net>

        * DBConcurrencyException.cs: fixed serialization compatibility with
        MS.NET

2004-06-17  Boris Kirzner  <borisk@mainsoft.com>

	* ChangeLog : Fix for misspelled words.

2004-06-17  Boris Kirzner  <borisk@mainsoft.com>

	* DataRowCollection.cs : Removed onColumnRemoved since it is not in use.
	
2004-06-17  Boris Kirzner  <borisk@mainsoft.com>

	* DataTable.cs :
	  - Table stores default values for columns in special default values row. 
	  It is allocated once (in NewRow).
	  - DataTable.Copy rewrited. It works with uninitialized rows for better perfomance.
	  - OnRemoveColumn has nothing to perform by now.

2004-06-17  Boris Kirzner  <borisk@mainsoft.com>

	* DataRow.cs : 
	  - Changed access of original, current and proposed indexes to internal.
	  - ColumnErrors reviewed : now column errors stored in ArrayList and allocated on demand only.
	  - Added new DataRow constructor that creates uninitialized DataRow (used in DataTable.Copy).
	  - Use DataContainer.CopyValue and default values row for faster set of default values in row.
	  - SetColumnValue become CheckValue. Now it does not changes the value, but only checks for its correctness.
	  Care about Null and DBNull values is now in DataContainer.
	  - Use DataColumn.AutoIncrementValue and GetInt64 for faster set of autoincrement value.
	  - Use Datacontainer.CopyValue and default values row to speed up CheckChildRows.
	  - Fix in CopyState : clone column errors.
	  - Removed CollectionChanged and onColumnRemoved since we are not using both of them anymore.

2004-06-17  Boris Kirzner  <borisk@mainsoft.com>

	* DataColumnCollection.cs : 
	  - Fix : Add()	now delegates to Add(DataColumn).
	  - autoIncrement list holds DataColumn objects, and not just column names.

2004-06-17  Boris Kirzner  <borisk@mainsoft.com>

	* DataColumn.cs : 
	  - AutoIncrementValue fixes. Now AutoIncrement uses DataContainer.GetInt64 to avoid boxing.
	  - DefaultValue fixes. Default value from now on is also stored in special record in 
	  DataTable, so we're able to set default value for the column faster (typed).
	
	
2004-06-15  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : children of non-root rows were not properly written.
	  Fixed bug #53959.

2004-06-10 Umadevi S <sumadevi@novell.com>
	* DataRelation.cs - Constructor
	- The datatypes of the parentcolumn(s) and the childcolumn(s) should match

2004-06-06  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlSchemaDataImporter.cs : We should fill Namespace for DataTable.

2004-06-04  Gert Driesen <drieseng@users.sourceforge.net>

	* Constraint.cs: marked methods internal to fix public API
	* ConstraintCollection.cs: to fix public API, use 
	DataTable.fInitInProgress to check whether initialization 
	of DataTable is in progress
	* DataColumn.cs: added stubs for missing methods
	* DataRowBuilder.cs: marked Table property internal to
	fix public API
	* DataSet.cs: removed extra empty destructor, marked 
	OnMergeFailed internal to fix public API
	* DataTable.cs: use fInitInProgress field to hold init
	status, to match MS.NET
	* DataView.cs: added missing attributes on IsOpen

2004-06-03  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : Use NameTable.Get() before calling LookupNamespace()
	  in XmlNamespaceManager.

2004-06-03  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : complex table content child was not properly added
	  when it is the only one child in the parent table. Fixed bug #53959.

2004-06-02  Gert Driesen <drieseng@users.sourceforge.net>
       * DataTableTypeConverter.cs: added
       * DataView.cs: added missing attribute on Table property
       * DataViewManager.cs: moved attribute to correct property
       * UniqueConstraint.cs: removed extra ReadOnly attribute from
        IsPrimaryKey property

2004-06-01  Atsushi Enomoto  <atsushi@ximian.com>

	* DataRow.cs : ColumnsChanged event is not required in .ctor().

2004-06-01  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataReader.cs : type change is required before setting value
	  string to row item.

2004-05-31  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : Loop-break of the last fix was incorrect.

2004-05-31  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : When a row has no parent row but the table has parent
	  relation(s), that row had been always ignored.

2004-05-31  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataInferenceLoader.cs : Fixed GetMappedTable() that incorrectly
	  rejected same-named tables in different hierarchy. Thanks to Boris.

2004-05-31  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDiffLoader.cs : Added some Skip() that is required not to go to
	  infinite loop. Thanks to Boris for this fix.

2004-05-31  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataInferenceLoader.cs : XmlSchema elements should not be infered.
	  Thanks to Boris for this fix.

2004-05-30  Atsushi Enomoto  <atsushi@ximian.com>

	* DataTable.cs : serialization .ctor() should use XmlReadMode.DiffGram
	  for ReadXml(). Thanks to Boris.

2004-05-27  Boris Kirzner  <borisk@mainsoft.com>
	* DataRow.cs : 
		- CheckReadOnlyStatus : use typed (and faster comparing).
		- EndEdit : bug fix - do not dispose record if it holds original version.
		- SetValuesFromDataRecord : Take care about autoincrement columns.
		

2004-05-27  Atsushi Enomoto  <atsushi@ximian.com>

	* MergeManager.cs : don't output debug message to Console.

2004-05-27  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataInferenceLoader.cs : Namespace are not imported to the table
	  structure. Thanks to Boris Kirzner for the fix.

2004-05-27  Umadevi S <sumadevi@novell.com>
         * DataRelationCollection.cs - fixed nunit test errors

2004-05-27  Umadevi S <sumadevi@novell.com>
	 * DataTableCollection.cs - fixed nunit test errors

2004-05-21  Atsushi Enomoto  <atsushi@ximian.com>

	* DataColumnCollection.cs : NullReferenceException was thrown when
	  the table was not found.
	* DataRowCollection.cs :
	  Find() just returns null for null value under MS.NET 1.1.
	  RemoveAt() should also avoid to call AcceptChanges() like Remove().
	* UniqueConstraint.cs : in AssertConstraint() throw ConstraintException
	  directly under MS.NET (for nunit test).

2004-05-21  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlSchemaDataImporter.cs : Setting startindex in LastIndexOf() 
	  caused problem on qualified name to get schema Field name.

2004-05-21  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataReader.cs : Now data reader is namespace aware in all places.
	  When table's namespace is different, it entered to infinite loop.

2004-05-19  Boris Kirzner  <borisk@mainsoft.com>
	* MergeManager.cs : AdjustSchema now updates by reference new created table,
	so in Merge you do not need to lookup for it (were unable to do this for unnamed tables).
	Code styling.
	
2004-05-19  Boris Kirzner  <borisk@mainsoft.com>

	* DataColumn.cs : In set_Item[int] - if autoincrement, adjust next autoincrement value.
	* DataColumnCollection.cs : fixed parantethes.
	* DataRow.cs : 
		- AcceptChanges : do nothing if row state is unchanged.
		- GetChildRows, GetParentRows  : bug fix (use correct index).
	* DataRowCollection.cs : bug fix (compare all row's values).
	* DataTable.cs : bug fix (use correct row version).
	
2004-05-20  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlSchemaDataImporter.cs : xs:positiveInteger is mapped to ulong.
	  When content type is Mixed, text column is not required (it is
	  required only when the complex type has no particle). 
	  "Repeated element" column is also created (considering maxOccurs=0 
	  and complex content extension).

2004-05-20  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlSchemaDataImporter.cs : XmlSchemaGroupBase was not handled 
	  properly.

2004-05-20  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlSchemaDataImporter.cs : Removed unused code and extra MonoTODO.
	  Fixed relation inference to consider attribute XPath.

2004-05-19  Atsushi Enomoto  <atsushi@ximian.com>

	* DataColumn.cs : Fixed set_Item[int]. Convert.ToInt64(DBNull.Value)
	  always fails.

2004-05-19  Boris Kirzner  <borisk@mainsoft.com>

	* DataColumn.cs - removed default member attribute.

2004-05-19  Boris Kirzner  <borisk@mainsoft.com>

	* DataColumn.cs,
	  DataColumnChangeEventArgs.cs,
	  DataColumnCollection.cs,
	  DataRow.cs,
	  DataRowCollection.cs,
	  DataTable.cs,
	  Index.cs : Data storage in the row is redesigned. Now data is stored in 
	  typed containers inside DataColumn. Row holds its versions as indexes inside
	  each of data container, accessed through the row that holds it.

2004-05-19  Boris Kirzner  <borisk@mainsoft.com>

	* UniqueConstraint.cs - added comment.
	
2004-05-19  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataInferenceLoader.cs : Don't add already-existing DataTable to
	  DataSet.

2004-05-17  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs,
	  XmlDataInferenceLoader.cs,
	  XmlDataReader.cs,
	  XmlSchemaDataImporter.cs : XmlDecode every local name to read and
	  XmlEncode every local name to write. This should fix bug #58268.

2004-05-17  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : Implemented ignored namespaces in InferXmlSchema().
	  Supported repeated elements. Removed MonoTODOs.
	* XmlDataInferenceLoader.cs : Design change to support ignored
	  namespace and repeated elements.
	* XmlSchemaDataImporter.cs : Added mapping support classes.

2004-05-15  Atsushi Enomoto  <atsushi@ximian.com>

	* CustomDataClassGenerator.cs :
	  Added property parent "[foo]Row" and children "Get[foo]Row" support
	  for custom DataRow classes.
	  Fixed DataColumn property accessibility (public --> internal).

2004-05-14  Atsushi Enomoto  <atsushi@ximian.com>

	* CustomDataClassGenerator.cs :
	  - Put classes inside custom DataSet class.
	  - Added automatic DataRelation creation support.
	  - Added Constraints creation support. That is done separate from
	    relations, since they might be independently created.
	  - Added non-MS public DataRelation fields.
	  - Removed extraneous "DataRelation type generation" code.
	  - Fixed custom_dataset.Initialize() not to create "c" field that
	    was created more than once.
	  - Implemented AddxxxRow() that takes parameters for every column.

2004-05-14  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlSchemaDataImporter.cs : When primary key is used more than once,
	  DataRelation borked because of empty parent column name.

2004-05-14  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlSchemaDataImporter.cs : When Creating constraints with related
	  to DataRelation creation, also set PrimaryKey to the parent table.

2004-05-14  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlSchemaDataImporter.cs : 
	  Design change to add indirect table and relation structures.
	  Support for "relation" annotation for local element.
	  Support for repeatable simple element column (maxOccurs > 1).
	  Fixed handling of Nested property on DataRelation (for globally
	  annotated relation, Nested is false).

2004-05-13  Atsushi Enomoto  <atsushi@ximian.com>

	* DataRow.cs : Added DataElement property to avoid storing every row-
	  element mapping. It stored even for nodes that should be removed.

2004-05-13  Umadevi S <sumadevi@novell.com>

	* RelationshipConverter.cs - Stubbed this class
	* DataRelation.cs - added TypeConveterAttribute

2004-05-13  Umadevi S  <sumadevi@novell.com>

	* DataColumnCollection.cs - Added ResDescriptionAttribute
	* DataRelation.cs - Added TypeConverterAttribute
	* DataRelationCollection.cs - Added DefaultPropertyAttribute
	* DataRowView.cs - Added GetHashCode method with a TODO tag
        * DataSet.cs - Added DesignerAttribute
	* DataView.cs - Added DesignerAttribute
        * DataViewManager.cs - Added DesignerAttribute
 	* DataViewSetting.cs - Added TypeConverterAttribute
	
2004-05-12  Atsushi Enomoto  <atsushi@ximian.com>

	* DataRow.cs : Added XmlDataElement initialization code.

2004-05-11  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataInferenceLoader.cs :
	  It now requires XmlDocument as input.  Improved identification of
	  DataSet element.  Removed extra lines.
	  Moved boresome design notes to bottom of the source and
	  added standalone runnable driver (not included on build).
	* DataSet.cs :
	  Update with related to the change above.
	  WriteXml() should call Flush() after writing. This fixes bug #58327.
	* XmlSchemaDataImporter.cs :
	  Improved indentification of DataSet element.

2004-05-11  Gert Driesen (drieseng@users.sourceforge.net)
	* DataTable: marked initStatus enum internal

2004-05-09  Gert Driesen (drieseng@users.sourceforge.net)
	* DataTable.cs: removed TypeConverterAttribute, marked RowsExist
	methods internal
	* DataRowView.cs: removed extra Error property
	* DataRow.cs: reduced accessibility of CollectionChanged method 
	to private
	* DataColumnPropertyDescriptor.cs: made class internal
	* DataColumn.cs: removed extra TypeConvertorAttribute
	* ConstrainCollection.cs: marked PostEndInit method internal

2004-05-07  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : 
	  In WriteXmlSchema(), when complex type contains simple type content
	  attributes must not added to XmlSchemaComplexType directly. It
	  causes schema compilation error.
	  DataRelation should not be output when related columns are hidden.

2004-05-07  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataInferenceReader.cs : Added. It does InferXmlSchema() (it is
	  also expected to do ReadXml(), but I will remove that feature and
	  support column reordering).
	* XmlSchemaDataImporter.cs : Always initialize dataset name.
	  Always set Nested and primary key for parent table.
	* XmlDataReader.cs : Now it is used.
	  Top level element might not match to dataset name nor any table 
	  name, but still possible to read content tables.
	  Handle empty element correctly in some places.
	  Handle Fragment mode (read up XmlReader to the end).
	* DataSet.cs : Modified InferXmlSchema() and ReadXml() to use
	  XmlDataInferenceLoader and XmlDataReader.

2004-05-06  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs :
	  Eliminated CRLF injection.
	  More clear message in Clear().
	  Updates reflecting XmlSchemaDataImporter change.
	  Added duplicate check for XmlSerializerNamespaces in BuildSchema().
	  Don't use xmlns attribute for UnhandledAttributes (its not mandatory
	  but that depends on different behavior from ms.net).
	  Set locale also for DataTable.
	  Add xs:element only when target namespace matches to the
	  element's namespace. Otherwise, add xs:import for external namespace.
	  Put xs:sequence for dataset element's particle _only when_ actual
	  contents exist.

2004-05-06  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataReader.cs : Added. This class will work better when our
	  schema inference and schema read engine gets improved. (It contains
	  standalone testable Driver class.)

2004-05-06  Atsushi Enomoto  <atsushi@ximian.com>

	* ForeignKeyConstraint.cs : Check step change. Existence then column
	  validity. just for tests.
	* XmlSchemaDataImporter.cs : code simplification. reduced extraneous
	  fields.

2004-05-05  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : Ignore empty content only when output type is diffgram.

2004-05-05  Atsushi Enomoto  <atsushi@ximian.com>

	* CustomDataClassGenerator.cs : Modified that DataSet contains each
	  DataTable field so that each table property can access them directly.
	  (plus, modified standalone code driver code: shouldn't affect)

2004-05-05  Boris Kirzner  <borisk@mainsoft.com>

	* DataView.cs , DataRowView.cs : Added implementation to basic methods and properties.
	  
2004-05-05  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlSchemaDataImporter.cs : 
	  SimpleContent column support.
	  Annotated relation support.
	  Top-level element is counted only when its type is complex.
	  xs:anyType is no longer treated as complex type.
	  dataset existence is mandatory now. 
	  Improved DataType and DefaultValue support.
	  Attribute namespace is properly handled now.
	  Prohibited attribute is now treated as hidden column.
	  Reject list or union simple type.

	  Still incomplete 1) to read relationship in some cases, 2) to 
	  determine whether an element is dataset or table, 3) thus to
	  exclude extraneous column, 4) to remove extraneous *_Id column.

2004-05-05  Atsushi Enomoto  <atsushi@ximian.com>

	* DataTable.cs :
	  We had better reuse DataSet's ReadXmlSchema() and ReadXml() in
	  serialization .ctor() (thus schema read/inference should be easier).
	  DataRowSorter should consider Table's Locale.

2004-05-05  Atsushi Enomoto  <atsushi@ximian.com>

	* DataColumnCollection.cs : We already had AutoIncrementValue(), so
	  use it instead of duplicating logic.

2004-05-05  Atsushi Enomoto  <atsushi@ximian.com>

	* ConstraintCollection.cs :
	  Use Table.CaseSensitive and Table.Locale to compare strings.
	  Duplicate constraint name exception does not occur under .NET 1.1.

2004-05-04  Lluis Sanchez Gual  <lluis@ximian.com>

	* XmlSchemaDataImporter.cs: Added little type check.

2004-05-04  Lluis Sanchez Gual  <lluis@ximian.com>

	* DataSet.cs: Implemented support for runtime serialization. Fixed support
	  for xml serialization.
	* XmlDiffLoader.cs: Skip diffgram element when it is empty.

2004-04-30  Umadevi S  <sumadevi@novell.com>
	* DataColumnCollection.cs : Fixed nunit test errors, removed TODOs
	* DataTableCollection.cs  : Tested and removed TODO
	* TypedDataSetGeneratorException.cs : Fixed a couple of TODOs	

2004-04-29  Atsushi Enomoto  <atsushi@ximian.com>

	* DataRow.cs : My previous patch unintentionally reverted Boris patch.

2004-04-29  Boris Kirzner <borisk@mainsoft.com>

	* UniqueConstraint.cs : Constraint columns becaomes unique after adding constraint ifand only if 
	constraint is defined on single column.

2004-04-29  Atsushi Enomoto  <atsushi@ximian.com>

	* DataRowCollection.cs : .NET 1.1 throws InvalidConstaintException,
	  not ArgumentException (maybe changed after 1.1).

2004-04-29  Atsushi Enomoto  <atsushi@ximian.com>

	* DataRow.cs : When Column was added and it was AutoIncrement column,
	  it extended the item object array incorrectly.
	  (Plus tiny comment and incorrect indentation fix.)

2004-04-29  Boris Kirzner <borisk@mainsoft.com>

	* MergeManager.cs : added ( incomplete yet ) support for merging DataSet schema.

2004-04-29  Boris Kirzner <borisk@mainsoft.com>

	* DataRow.cs : Bug fix in CopyValuesToRow().
	
2004-04-29  Boris Kirzner <borisk@mainsoft.com>

	* UniqueConstraint.cs : There is no reason to mark constraint's columns as unique, because
	  each of the columns should not be unique, but only all the constraint's columns together.
	
2004-04-28  Boris Kirzner <borisk@mainsoft.com>
	* DataRow.cs :
	  - Perfomance fixes: 
		- Added using of list of autoIncrement columns
		- SetColumnValue receives also DataColumn to avoid duplicate lookup in DatacolumnCollection
	  - Fix in CheckNullConstraints
	  - Fix in this[] and HasVersion() : when evaluating an expression deleted rows values can be accessed.
	  - Fix in SetColumnValue() , added CanAccess() method to avoid case of accessing internal array values berore it actually allocated.
	  - Added onColumnRemoved() method to threat column removal accurately.
	
	* DataRowCollection.cs :
	  - Added using of DataRow._nullConstraintViolation (for perfomance fix in EndLoadData())
	  - Added method onColumnRemoved() - calls each row's onColumnRemoved() (to ensure column removal is treated accurately)
	
	* DataTable.cs :
	  - Call DataRowCollection.onColumnRemoved() in OnRemoveColumn() (to ensure column removal is treated accurately)
	
	* DataColumnCollection.cs :
	  - Perfomance fixes :
		- collection holds a list of its autoIncrement columns (avoids unnesessary lookup through whole collection)
		- collection holds mapping from column names to DataColumn objects (avoids lookup through whole collection).
		- automatic creation of column names rewrited (bug fixes + perfomance improvement)
	
	* DataColumn.cs :
	  - Uses autoincrement list of a table

2004-04-27  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataLoader.cs : Even when it should ignore schema, it was 
	  infering schema.
	* XmlSchemaDataImporter.cs : DataRelation creation support.
	  Improved "DataSet" element handing. When attributes are on the
	  element, it is not a "DataSet" element.
	  Fixed parent key column name.
	  Unique name creation is not required. Just raise an error.
	  Fill facet also for attribute types.

2004-04-27  Atsushi Enomoto  <atsushi@ximian.com>

	* DataRow.cs : Null check for CheckReadOnlyStatus() and
	  CheckNullConstraints(), with some coding guideline fixes.
	  Type check should be done by Type instance comparison.

2004-04-27  Atsushi Enomoto  <atsushi@ximian.com>

	* DataColumnCollection.cs : When add a column to the collection, fill
	  auto-increment column.

2004-04-26  Boris Kirzner <borisk@mainsoft.com>

	* DataColumn.cs : Small perfomance fix (avoid unnesessary string concatenation).
	
2004-04-26  Atsushi Enomoto  <atsushi@ximian.com>

	* CustomDataClassGenerator.cs : Added.
	* TypedDataSetGenerator.cs : Implemented Generate().
	  Changed GenerateIdName() to call CustomDataClassGenerator.MakeSafeName
	* XmlSchemaDataImporter.cs : Table Locale should be supplied.

2004-04-25  Boris Kirzner <borisk@mainsoft.com>

	* DataTable.cs : Small perfomance fix (avoid unnesessary string concatenation).
	
2004-04-25  Boris Kirzner <borisk@mainsoft.com>

	* Constraint.cs : Small perfomance fix (avoid unnesessary string concatenation).

2004-04-23 Umadevi S (sumadevi@novell.com)
	*  DataRow.cs: Checked BeginEdit,EndEdit,CancelEdit and Delete methods
	   - Added error handling to the above methods

2004-04-22  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : Data should be read when mode is IgnoreSchema (well,
	  the support is incomplete yet).
	* XmlDataLoader.cs : 
	  Reverted ReadModeSchema() argument change. XmlReadMode would be 
	  useful to handle IgnoreSchema.
	  Don't overwrite DataSetName when mode is not such kind.
	  Set Prefix and Namespace as well as DataSetName.
	  AllowDBNull looks set false by default for element column.
	  Set unique constraint as primary key when infering the table schema.

2004-04-21  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs : 
	  Never set null string for Prefix and Namespace.
	  In InferXmlSchema() when null XmlReader is passed, just do nothing.
	  In WriteXmlSchema(string), earlier try block.
	  In BuildSchema(), try to add serialization namespaces for each
	  namespaces in DataSet/DataTable/DataColumn.
	  Removed namespace argument from WriteColumnAsElement() and don't
	  overwrite when namespace is "". This fixes bug #57330.
	* DataColumn.cs : For Namespace and Prefix, never set null.

2004-04-21  Boris Kirzner <borisk@mainsoft.com>

	* XmlSchemaMapper.cs : Check for not null unique constraint in ReadXmlSchemaKeyref()
	  before creating and adding foreign key constraint and relation. 

2004-04-21  Boris Kirzner <borisk@mainsoft.com>

	* MergeManager.cs : In AdjustSchema() source table clone should be added
	  and not the table itself. 

2004-04-21  Boris Kirzner <borisk@mainsoft.com>

	* DataSet.cs : 
	  - CaseSensitive : Additional fix (removed unnesessary assignment).
	  - CopyProperties : Do not try to copy ExtendedProperties if the collection is empty.

2004-04-21  Boris Kirzner <borisk@mainsoft.com>

	* DataTable.cs : Ensure that DataSet property is not null before using it in Clear().
	  
2004-04-20  Boris Kirzner <borisk@mainsoft.com>

	* DataTable.cs : 
	  - EndLoadData() : perfomance fix in case of null constraint violation
	    during data load (also in DataRow.cs).
	  - CaseSensitive : If DataTable belongs to DataSet it should always use
	    DataSet.CaseSensitive untill explicitly changed.
	  - CopyProperties() : do not try to copy ExtendedProperties if the collection is empty.
	  
	* DataRow.cs :
	  - Pefromance fix in case of null constraint violation
	    during data load (also in DataTable.cs).
	  - CollectionChanged() : use correct column number after new DataColumn was added
	    (differs in case some DataColumn was previosly removed).
	  - EndEdit() - throw away  proposed values only after CheckChildRows() complete.

2004-04-20  Boris Kirzner <borisk@mainsoft.com>

	* DataColumnCollection.cs : Since unique constraint is added now
	  in DataColumn.SetTable() the additional creation of constraint in 
	  DataColumnCollection.Add() is redundant and causes exception - fixed.
	  
2004-04-19  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataLoader.cs : Added "never add data rows" mode.
	  Removed unused code. However, it is temporary fixes to unify
	  ReadXml() and InferXmlSchema().
	* DataSet.cs : Implemented InferXmlSchema(), though it is incomplete.

	  I'll create another XmlDataLoader since there are many problems
	  such that 1) it is too waste to read the entire xml into an
	  XmlDocument, 2) it does not handle attributes correctly, and 3) it
	  must handle "ignored namespaces".

2004-04-19  Atsushi Enomoto  <atsushi@ximian.com>

	* Added XmlSchemaDataImporter.cs (new schema reader).
	* DataSet.cs : Use XmlSchemaDataImporter (right now for DataSet only)
	  for ReadXmlSchema().
	  Let schema reading work to ReadXmlSchema().
	  Don't return ReadSchema when argument read mode was DiffGram.

2004-04-15 Umadevi S (sumadevi@novell.com)
	*  Updated Clone/Copy methods in DataSet along with Testcase
	*  ForeignKeyConstraint.cs - special ctor implemented 
	    Logic : ParentTable in the ctor - Since only name is given (not the DataTable object), we cannot associate any DataTable or DataSet right now.  So, only possible way is to do it when AddRange() is called. The ParentTable is searched in the DataSet  to which the calling DataTable belongs. And make the calling DataTable as ChildTable. In the PostAddRange() method check is addedd to perform the assignment of parent and child data columns once the information becomes available (When AddRange is called).
	* Changes in  ConstraintCollection.cs for the above
        Add (Constraint) - A check is performed to see if the constraint is ForeignKeyConstraint and whether data columns  are validated.  If no, whether it is called with AddRange(), If no, an Exception is thrown. AddRange() - PostAddRange() is called on the ForeignKeyConstraint object with the "table" as argument. Thanks to Deepak for the patch.
	

2004-04-15  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlSchemaMapper.cs : set parent key and foreign key info to 
	  DataRelation when reading refkey constraints.
	  Supply constraint name for fkey.

2004-04-15  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDataLoader.cs : Don't overwrite existing DataSetName. When read
	  mode is Auto, just ignore the schema if there is already schema info.
	* DataSet.cs : Similarly ignore schema info for XmlReadMode = Auto.

2004-04-14  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs :
	  - In MS output, XML declaration looks to have standalone decl (yes).
	  - ReadXml(reader) just calls to ReadXml(reader, XmlReadMode.Auto)
	  - ReadXml(reader, mode)
	    1) return originally specified mode, instead of (always) Auto. 
	    2) Check empty reader.
	    3) Check diffgram schema and content separately.
	    4) When diffgram exists, remaining (the same-level) contents 
	       won't be consumed. 
	    5) Similar fact should be applied, but somewhat different. 
	       InferSchema and IgnoreSchema just skips, Fragment reads both
	       schema and content, others just reads schema.
	  - Removed unused code.
	* XmlDataLoader.cs :
	  - Read() should skip in some ReadMode.
	  - Don't compare schema element name as case-insensitive (well,
	    should schemas be checked here?)
	  - Avoided BuildDocument() not to create confusing DataSet
	    document element.
	  - Don't add any tables when reader has single element.
	* XmlDiffLoader.cs :
	  When target table was not found, MS.NET doesn't raise an error.
	* XmlSchemaMapper.cs :
	  When XmlSchema.Read() left xml reader at </xs:schema>, read once.

2004-04-13  Atsushi Enomoto  <atsushi@ximian.com>

	* DataSet.cs :
	  - InferXmlSchema(): Throw explicit NotImplementedException now.
	  - Don't put XML declaration everywhere. Write just for filename arg.
	  - xmlns="" should not be written. Maybe WebService problem is 
	    because default namespace is overwritten. This patch will keep
	    the WS problem away and actually fixes some unit tests (i.e. use
	    explicit String.Empty for null namespace in WriteStartElement()).
	  - MoveToContent() should always be called, not only when 
	    LocalName="xml". It will ignore prolog (DTD, PI, comment etc.).
	  - Even XmlReadMode is DiffGram, reader might not be "diffgram"
	    element. As to MSDN, diffgram does not contain schema.

2004-04-13  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* DataTable.cs: made _initStatus private so that System.Data is CLS
	compliant.

2004-04-13 Umadevi S   <sumadevi@novell.com>
	*  UniqueConstraint.cs:
	*  ConstraintCollection.cs:
	*  DataTable.cs:
	- Implemented a Constructor for UniqueConstraint.cs
	- Used  EndInit on DataTable  to call a delegate which adds the
	  constraints passed to the most recent call of AddRange().Used
	  AddRange() on ConstraintCollection to check whether
	  DataTable.BeginInit has occurred.  If yes, save the argument
	  constraint collection passed, then return.  If no, Check whether the
	  constraints are of type UniqueConstraint and initialized with the
	  special constructor  If yes Initialized the table property of this
	  UniqueConstraint object with table assosciated with the current
	  instance of ConstraintCollection class.

2004-04-07  Marek Safar  <marek.safar@seznam.cz>

	* Constraint.cs: changed ClsCompliant to CLSCompliant, build fix.

2004-04-06  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Constraint.cs:
	* DataColumnCollection.cs:
	* DataRelationCollection.cs:
	* DataRowCollection.cs:
	* DataTableCollection.cs:
	* InternalDataCollectionBase.cs:
	* Node.cs: CLS compliance for System.Data. Patch by Gert Driesen.
	Fixes bug #56557.

2004-04-05  Jackson Harper  <jackson@ximian.com>

	* DataTable.cs: Add rows to the row list if there is no filter.
	
2004-03-31  Juraj Skripsky <juraj@hotfeet.ch>

	* DataColumn.cs : Setting Caption to null sets it to the empty string
	(ms.net behaviour, testcase is in DataColumnTest).
	
	* DataRow.cs : Evaluate DataColumn.Expression when such a column's
	value is requested.

2004-03-30 Lluis Sanchez Gual <lluis@ximian.com>

	* DataColumn.cs: In Expression setter, set the expression member even if 
	  it is an empty string.
	* DataSet.cs: Support serialization of byte[] columns.
	* XmlDataLoader.cs: Support deserialization  of Guid columns. 
	  Set MappingType.Attribute to columns infered from attributes.

2004-03-29  Juraj Skripsky <juraj@hotfeet.ch>

	* ExpressionElements.cs : remove
	* DataColumn.cs, DataRelationCollection.cs, DataTable.cs :
	Integration of new Mono.Data.SqlExpressions classes used in
	DataTable.{Select, Compute}.
	Fixes bug #55503 and lots of failures in DataTableTest.cs.

2004-03-28  Juraj Skripsky <juraj@hotfeet.ch>

	* Index.cs: Simple fix in ComparePartialRowNonUnique.
	This fixes bugs #56129 and #56014.

2004-03-25 Lluis Sanchez Gual <lluis@ximian.com>

	* DataSet.cs: In WriteXml (string filename, XmlWriteMode mode), close the
	  stream after writing the dataset. This fixes bug #52581.
	  Also added several writer.Close into finally blocks, so writers are properly
	  closed in case of an exception.

2004-03-12  Andreas Nahr <ClassDevelopment@A-SoftTech.com>

	* Constraint.cs: DO NOT USE the consts scheme if types can be referenced directly!
	* DataColumn.cs: DO NOT USE the consts scheme if types can be referenced directly!
	* ColumnTypeConverter.cs: Added stub
	* DefaultValueTypeConverter: Added stub
	* ConstraintConverter.cs: Added stub

2004-03-04 Eran Domb <erand@mainsoft.com>

	* XmlDataLoader.cs : Xml reading reviewed. Added support for additional xml formats as described
	in MS.NET documentation (missing DataSet element etc).

2004-03-04 Eran Domb <erand@mainsoft.com>

	* Node.cs : Added.
	* Index.cs : Rollback last changes.
	
2004-03-03  Atsushi Enomoto <atsushi@ximian.com>

	* Index.cs : justa build fix.

2004-03-03 Eran Domb <erand@mainsoft.com>
	
	* Index.cs : Added.
	* Constraint.cs, ForeignKeyConstraint.cs, UniqueConstraint, ConstraintCollection.cs, DataColumn.cs,
	DataRow.cs, DataRowCollection.cs, DataSet.cs, DataTable.cs : Changes made for using indexes on tables.
	This changes made for performance improvement.

2004-02-08 Eran Domb <erand@mainsoft.com>

	* XmlSchemaMapper.cs : Read columns is they were written as SimpleContent or as Attributes.

2004-02-08 Eran Domb <erand@mainsoft.com>

	* DataSet.cs: Fix some bugs in ReadXml().

2004-02-04 Lluis Sanchez Gual <lluis@ximian.com>

	* DataSet.cs: Added missing method that broke the build.

2004-02-04 Eran Domb <erand@mainsoft.com>

	* DataRowCollection.cs (InsertAt): Add a check for null row. Replace check of IndexOf with RowId for
	better performance.
	* DataSet.cs (GetTableSchema) : Add supprot for simple content columns. Change the condition for a case
	when all column are attributes (elements count is 0), we still want to add the relations. No relations
	can be on simple contents.
	(AddUniqueConstraints) Check that the column of the constraint are not hidden.
	(AddForeignKeys) Check that the relation has constraints attach to it.
	* XmlConstants.cs : Added constant.

2004-02-04 Eran Domb <erand@mainsoft.com>
	
	* DataSet.cs : GetSchemaSerializable() return null and not BuildSchema().
	DoWriteXmlSchema calls BuildSchema ().

2004-02-04 Lluis Sanchez Gual <lluis@ximian.com>

	* DataRow.cs: Added SetOriginalValue(), which is used to set the original
	  value of a column.
	* DataRowCollection.cs: In InsertAt(), perform the correct checks and
	  attach the row.
	* DataSet.cs: Fixed method GetChanges(): Parent rows of modified rows must
	  also be added to the dataset.
	  In WriteTable(), do not write unchanged rows when writing the original
	  version of the table.
	  Added WriteIndividualTableContent(), for writing the contents of a single
	  table.
	  Changed BuildSchema and related methods, so it can generate a schema for
	  any set of tables, not just the tables of the dataset (needed for 
	  single datatable serialization).
	* DataTable.cs: Implemented serialization constructor and GetObjectData method.
	  Also implemented some ReadXmlSchema methods.
	* XmlDiffLoader.cs: Read and process the xml document directly from XmlReader,
	  instead of loading the full dataset in an XmlDocument. It is faster and
	  saves memory. Also fixed several problems when generating the changes.
	* XmlSchemaMapper.cs: Support reading schemas for single tables (used by
	  table serialization).

2004-02-02 Eran Domb <erand@mainsoft.com>

	* DataSet.cs : Add indentation to the xml serialization only if we create the XmlWriter.
	Add the namespace attribute even if namespace is an empty string for inteoperability with MS.NET.
	* DataTable.cs (NewRow): Create only one DataRowBuilder.
	Initiate new row with row id -1.
	* DataRow.cs : Add RowId property.
	* DataRowBuilder.cs : Add _rowId member.
	* DataRowCollection.cs (Add) : Use the RowId property of the new row to check if it is already exists in the collection.

2004-01-26 Eran Domb <erand@mainsoft.com>

	* XmlConstants.cs : Added some constants.
	* DataColumn.cs : Added a method to retrive AutoIncrement value.
	* XmlDataLoader.cs : Set the value of the foriegn key column, according to the value of the
	parent table column.
	* XmlDiffLoader.cs : Convert the value comming from the xml.
	* XmlSchemaMapper.cs (Read) : Set the DataSet namespace.
	 (ReadXmlSchemaSequence) : Change the logic that decides if this element is a column or a table.
	 (ReadXmlSchemaElement) : Set the locale of the dataset.
	 (ReadColumn) : Set the column type. Find if the column is AutoIncrement.
	 (GetColumnType) : New method to get the column type from the attribute value.
	 (ReadXmlSchemaUnique) : Improve parsing of XPath. Set the constraint as a PK if needed,
	 and add the constraint to the table.
	 (ReadXmlSchemaKeyref) : Improve parsing of XPath. Create the FK constraint and add it to
	 the table.
	* DataSet.cs : Improving writing of unique constraints, and foriegn key constraint. Givving them the correct names.
	 Writing more information to the schema for interoperability with ms.net.
	 Improve diffgarm writing mode.
	 

2004-01-21 Atsushi Enomoto <atsushi@ximian.com>

	* TypedDataSetGenerator.cs : Implemented GenerateIdName().

2004-01-21 Eran Domb <erand@mainsoft.com>

	* XmlDataLoader.cs (AddRowToTable) : Give thre new relation correct name.
	Do not set the child column to be AutoIncrement.
	Create the new column for the relation as MappingType.Hidden so they will not be serialized
	when writing the dataset to xml.

2004-01-20 Atsushi Enomoto <atsushi@ximian.com>

	* Added missing TypedDataSetGenerator.cs.

2004-01-08 Eran Domb <erand@mainsoft.com>

	* XmlSchemaMapper.cs : Fix a bug. Check if table already in DataSet before adding it.
	* DataSet.cs (ReadXml) : Fix bugs. Read correctly the xml file with XmlReadMode of DiffGram, 
	InferSchema, ReadSchema and IgnoreSchema.
	* XmlDataLoader.cs : All modes use the same logic.
	* XmlDiffLoader.cs : Adding BuildXmlDocument method to the class.

2004-01-06 Eran Domb <erand@mainsoft.com>

	* DataRelationCollection.cs : Use IndexOf in indexer.
	* DataSet.cs : Adding support for WriteXml with diffgram. Code style changes.
	* XmlDataLoader.cs : Set the DataSet.enforceConstraints to false before loading the tables.
	* XmlDiffLoader.cs : Reading nested tables.
	* XmlSchemaMapper.cs : Reading the relation.
	* XmlConstants.cs : Adding some constants.

2004-01-05  Jackson Harper <jackson@ximian.com>

	* DataView.cs: Set readonly property of property descriptor. This
	fixes bug #52598.
	
2004-01-01  Sanjay Gupta <gsanjay@novell.com>

	* DataRelationCollection.cs : Fixed incorrect generation of default 
	  Relation name.
	* DataSet.cs : Added missing functionality in WriteXml().
        * XmlConstants.cs : Added new constants.
 
2003-12-27  Atsushi Enomoto <atsushi@ximian.com>

	* DataSet.cs : Fixed incorrect WriteXml() signature.

2003-12-18  Jackson Harper <jackson@ximian.com>

	* DataView.cs: Implement AddNew, Delete, and OnListChanged.
	
2003-12-17  Atsushi Enomoto <atsushi@ximian.com>

	* DataSet.cs, XmlDataLoader.cs : Table name should be encoded before
	  they take shape of xml. This fixed bug #52240

2003-12-16  Tim Coleman <tim@timcoleman.com>
	* KeyRestrictionBehavior.cs:
		New stubs added for .NET 1.2
	* DataTable.cs:
		Changes for 1.2

2003-12-08 Eran Domb <erand@mainsoft.com>
	* DataColumn.cs (Expression) : Validate the expression.
	
	* DataRelationCollection.cs (IndexOf) : Added new method sensetive to case differences in relation name.
	(Contains, IndexOf, this[], Add) : Call new IndexOf when needed.
	
	* DataRow.cs (this[]) : Fix the condition for throwing RowNotInTableException.
	(RejectChanges) : Detach row when state was Added.
	(CollectionChanged) : Fix a bug.
	
	* ExpressionElement (ValidateExpression) : Fix a bug.
	
	* ForeignKeyConstraint.cs (AssertConstraint) : Added implementation. Check all rows from child table have
	a parent row in the parent table.
	(_validateColumns) : Fix bugs.
	
	* MergeManager.cs (AdjustSchema) : Fix a bug.
	
	* XmlDataLoader.cs (ReadModeInferSchema) : Change implementation. Now we can read nested xml, and we generate the relations
	between the tables.

2003-11-30 Eran Domb <erand@mainsoft.com>
	* DataColumnCollection.cs (this[string name]) : Use IndexOf to find the column.
	(Add) : Find if the new column name is the same as the one found in IndexOf.
	(IndexOf) : New method.
	(Contains) : Use new IndexOf.
	(IndexOf) : Use new IndexOf.
	
	* DataRelationCollection.cs (DataRelationCollection.AddCore) : Add The Relation to the collection.
	(DataSetRelationCollection.AddCore) : First add the UniqueConstraint.
	
	* DataRow.cs (this[int columnIndex, DataRowVersion version]) : Change exceptions.
	(Delete) : Detach row if the RowState was Added.
	(GetChildRows) : Get the array form the ChildTable.
	(GetParentRows) : Get the array from the ParenTable.
	
	* DataRowCollection.cs (Remove) : Check if row state is Detached to avoid exception.
	
	* DataSet.cs (IXmlSerializable.ReadXml) : Do not call MoveToContent and ReadEndElement - the XmlSerializationReader does it.
	
	* DataTable.cs (PrimaryKey) : Fix bugs.
	(Compute) : First call Select. Then create ExpressionAggregate to aggregate the Select result.
	
	* DataTableCollection.cs (Add) : Fix a bug.
	
	* ExpressionElement.cs (ValidateExpression) : Turning ValidateExpression to static.
	(Result) : Added new interface to AggregateExpression that get DataRow[] as a param.
	Some code style changes (tab instead of whit spaces, alignment, etc...).
	
	* ForeignKeyConstraint.cs (_validateColumns) : Throw correct exception.
	
	* MergeManager.cs (AdjustSchema) : Fix a bug.
	
	

2003-11-26  Miguel de Icaza  <miguel@ximian.com>

	* DataSet.cs: Add a few more missing methods, code style updated
	to Mono style.

2003-11-26  Tim Coleman <tim@timcoleman.com>
	
	* ConflictOptions.cs DataAdapterException.cs DataTableReader.cs
	* DbMetaData.cs FillOptions.cs IDataReader2.cs IDataRecord2.cs
	* IDataUpdatableRecord.cs IDbAsyncCommand.cs IDbAsyncConnection.cs
	* IDbExecutionContext.cs IGetTypedData.cs ISetTypedData.cs
	* LoadOption.cs OperationAbortedException.cs ResultSetOptions.cs
	* ResultSetSensitivity.cs StatementCompletedEventArgs.cs 
	* StatementCompletedEventHandler.cs UpdateOptions.cs:
		New classes added for NET_2_0
	* DBConcurrencyException.cs DataRelation.cs DataSet.cs DataTable.cs
	* DataTableCollection.cs DataView.cs ForeignKeyConstraint.cs:
		Modifications to add new NET_2_0 functions

2003-11-25  Tim Coleman <tim@timcoleman.com>
	* IDataSources.cs:
		New 1.2 class added

2003-11-21  Pedro Martínez Juliá  <yoros@wanadoo.es>

	* DataRow.cs: Detached row can be accesible (new rows from data
	table are detached). Closes but #51263.

2003-11-19  Eran Domb  <erand@mainsoft.com>
	* DataRow.cs : Throw exceptions if Row is Detached. 
	(EndEdit) : Check that we are not in middle of ChangeEvent.
	(AcceptChanges) : Detach the row.
	
	* DataRelation.cs : throw correct exception.
	*UniqueConstraint.cs : throw correct exception.
	

2003-11-09  Pedro Martínez Juliá  <yoros@wanadoo.es>

	* DataRow.cs: Use RemoveInternal instead of Remove because the last
	one uses Delete and AcceptChanges.

	* DataRowCollection.cs: When removing, Delete and AcceptChanges
	method from the row are called. Added an internal method that will
	be used by DataRow to "physically" remove the row from the list.

2003-11-09  Pedro Martínez Juliá  <yoros@wanadoo.es>

	* DataRowCollection.cs: To follow the specification: Remove and
	RemoveAt should remove the row. But needed to call DeletingDataRow
	to prepare the deleting.

	* DataRow.cs: Don't call DeletingDataRow when it is called by the
	method Table.Rows.Remove.

2003-11-09  Pedro Martínez Juliá  <yoros@wanadoo.es>

	* DataRowCollection.cs: Make the row be deleted by itself. If not,
	it fails because we need to call OnRowDeleting and OnRowDeleted. It
	is full implemented inside DataRow.

2003-11-05  Eran Domb  <erand@mainsoft.com>
	* DataView.cs (ctor) : Changing default RowStateFilter to CurrentRow.

2003-11-04  Eran Domb  <erand@mainsoft.com>
	* DataRow.cs (CheckChildRows) : Improving the implementation - checking child for all FK, and not
	on all Relations.
	(GetChildRows) : Adding some checks.
	(GetParentRows) : Adding some checks. Fix a bug in implementation.
	(SetParentRow) : Added implementation.
	
	* DataRowCollection.cs (Add) : Added more checks on the row added to the collection.
	* DataTable.cs (Copy) : Set the During Loading flag to save unnecessary assertions.
	* ForeignKeyConstraint.cs (AssertConstraint) : Fixing bugs in implementation. Checking for DBNull values in the row.
	* MergeManager.cs : Check that the target table is not null.

2003-10-27  Eran Domb  <erand@mainsoft.com>
	* DataColumn.cs (DefaultValue) : Changing null value to DBNull. Checking that the type of the new default value 
	can be converted to the column type.
	
	* DataRelationCollection.cs (AddCore) : Give the new FK the name of the relation.
	
	* DataRow.cs (EndEdit) : Check if we need to validate the constraints.
	(GetParentRows, GetChildRows) : Checking that the row has the wanted version, before accessing the row's value.
	
	* DataRowCollection.cs (Add) : Fixing a bug. 
	(Clear) : Before clearing the array check that there is no violation of FK constraint.
	
	* DataSet.cs (Prefix) : If value is null chage it to empty string.
	(GetXml) : Removing the Processing Instructions from the xml string as in MS ADO.NET.
	
	* ExpressionElement : Adding support for IN expresion.
	
	* DataTable (CopyConstraints) : New method that copy the tables constraints to the copy table.
	(Select) : Adding support for DataViewwRowState.
	
	* ForeignKeyConstraint.cs (AssertConstraint) : Adding implementation.
	
	* MergeManager.cs (MergeRow) : Fix bugs.
	
2003-10-27  Eran Domb  <erand@mainsoft.com>
	* DataRow.cs (SetColumnValue): Donot check null value when in midle of loading data.
	check null values when ending loading data.
	
	* DataSet.cs (RejectChanges) : Imlementation.
	(Prefix) : If prefix was changed fire event. Check that the prefix is not null - if null, 
	change it to empty string.
	
	* DataTable.cs (BeginLoadData, EndLoadData) : Impemantation.
	
2003-10-22  Eran Domb  <erand@mainsoft.com>
	* MergeManager.cs : Fixing bugs. Adding check for PrimaryKey matching.
	
	* ConstraintCollection.cs (RamoveAt): Change implemntation.
	
	* DataTableCollection (CanRemove): Removing cast to Constraint.

2003-10-22  Eran Domb  <erand@mainsoft.com>
	* DataRelationCollection.cs (AddCore): The unique constraint was added even if the createConstraints flag was false.
	(Clear): The collection was cleared without removing the relation from the parent and child tables.
	
	* DataSet.cs (Copy, Clone): The Relations of the DataSet were not copy.
	(HasChanges, Reset): Imlementation.
	
	* DataTable.cs (HasErrors): There is no flag for errors, instead the table ask her row if they have any errors.
	This is because the we do not no when to turn off the flag.
	(Locale): Changing implementation to behave like ADO.NET.
	(AcceptChanges): Fix bug.
	(Clear): Check that this table is not referenced from a foreign key constraint.
	(Copy): Do not try to access a deleted row.
	(CopyProperties): Copy the PrimaryKey.
	(GetChanges, ImportRow): Implementation.
	(LoadDataRow): Adding implementation if the table has PrimaryKey.
	(ToString): Changing implementation to behave like ADO.NET.
	
	* UniqueConstraint.cs (AssertConstraint): support for Multiple DataColumns in the constraint.
	
	* DataRow.cs (Ctor): In the constructor we initiate the current array, but we should initiate only the proposed array for new rows.
	(HasErrors): Implementation.
	(Delete): Added checking for child rows of the deleted row.
	(EndEdit): Added checking for child row and firing events.
	(GetColumnError): Added a check that the method will not return null, as in ADO.NET(an empty string is returned).
	(GetColumnsInError): Added a check for null values in column error.
	(HasVersion): Added special treatment for special RowState.
	(CollectionChanged): More checks to avoid NullReferenceException.
	
	* DataRowCollection.cs (Remove): Fix a bug.


2003-10-01  Duncan Mak  <duncan@ximian.com>

	More patches from Eran Domb <erand@mainsoft.com>.

	* MergeManager.cs: New file.

	* DataRelationCollection.cs (AddCore): Check that a
	UniqueConstraint is already exists. It loops over the Relations
	instead of the Constraints.
	(Add, AddCore): The relation was added twice.

	* DataSet.cs (Merge, GetChanges, HasChanges): Implemented.	

2003-09-30  Duncan Mak  <duncan@ximian.com>        

	Patches from Eran Domb <erand@mainsoft.com>.

	* DataRelation.cs (constructor): When the name of the relation is
	null, it should return an empty, not "Relation".
	
	* DataRow.cs (AcceptChanges): Added special case for
	RowState.Detached.
	(CancelEdit): Set editing flag to false.
	(IsNull): Check that the value is DBNull.

	* DataRowCollection.cs (Add): There was no check that the table of
	the collection is owned by a DataSet.

	* DataSet.cs (OnMergeFailed): Added.	

	* UniqueConstraint.cs (AssertConstraint): There was no check that
	values in the row are not null, where it is a primary key
	column. Also check that the row has a proposed version, if not,
	get the current version when we compare the rows.

2003-09-25  Duncan Mak  <duncan@ximian.com>

        Patches from Eran Domb <erand@mainsoft.com>.

	* DataColumn.cs (Unique): Implemented.
	
	* DataTable.cs:
	* ConstraintCollection.cs:
	* ForeignKeyConstraint.cs (_ensureUniqueConstraintExists): Fixes
	an Exception thrown. Details:
	http://lists.ximian.com/archives/public/mono-devel-list/2003-September/002130.html
	
	* DataRowCollection.cs (Add): There is no checking that there is
	no violation of the unique constrains.

	* UniqueConstraint.cs (AssertConstraint): There is no checking on
	all columns in the constraint.

	* DataTableCollection (Add): Correctly throw an Exception, more
	details here:
	http://lists.ximian.com/archives/public/mono-devel-list/2003-September/002117.html
	(Remove, RemoveAt): Implemented.

2003-07-31  Duncan Mak  <duncan@ximian.com>

	* DBConcurrencyException.cs: Added new NET_1_1 no-param constructor.

2003-07-25  Ravi Pratap  <ravi@ximian.com>

	* DataRelation.cs (OnPropertyChanging): Calling the 'Invoke'
	method on a delegate is disallowed - fix this.

2003-07-22  Lluis Sanchez Gual  <lluis@ximian.com>

	* DataSet.cs: Implemented IXmlSerializable interface. Added basic support for
	  xml serialization. Modified method of writing schema. Now it creates
	  a XmlSchema object and serializes it using XmlSerializer.
	* XmlConstants.cs: Added constants for data type names.
	* XmlDataLoader.cs: Fixed deserialization of data. Now converts data to the
	  type specified in the column.

2003-04-20  Alan Tam <Tam@SiuLung.com>

	* DataRelationCollection.cs: Fix a bug that prevent relations
	from being added via DataSet.

2003-04-12  Ville Palo <vi64pa@kolumbus.fi>

	* UniqueConstraint.cs: one tiny fix.
	
2003-04-05  Ville Palo <vi64pa@kolumbus.fi>

	* DataTable.cs: Remove UniqueConstraints when adding new ones
	
2003-04-04  Ville Palo <vi64pa@kolumbus.fi>

	* DataColumnCollection.cs: Little 'case sensitive' fix
	
2003-04-04  Ville Palo <vi64pa@kolumbus.fi>

	* DataRow.cs: AutoIncrement handling to Constructor
	* DataRowCollection.cs: This doesnt need anymore AutoIncrements
	
2003-03-27  Ville Palo <vi64pa@kolumbus.fi>

	* DataTable.cs: Some fixes to PrimaryKey etc...
	* UniqueConstraint.cs: Little clean up
	
2003-03-27  Ville Palo <vi64pa@kolumbus.fi>

	* DataTable.cs: Tiny fix to ToString () -method
	
2003-03-27  Ville Palo <vi64pa@kolumbus.fi>

	* ConstraintCollection.cs: Little fix.
	* DataColumn.cs: Added new internal method SetUnique()
	* UniqueConstraint.cs: some little fixes
	
2003-03-26  Ville Palo <vi64pa@kolumbus.fi>

	* DataRowCollection.cs: Bugfixes, implementation,...
	
2003-03-26  Ville Palo <vi64pa@kolumbus.fi>

	* DataColumn.cs: If DataType if set to something else than short, int
	or long and AutoIncrement is true, AutoIncrement is must set to false.
	
2003-03-26  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* DataRow.cs:
	(BeginEdit): fixed array bound problem when a column has been added.
	(EndEdit): just assign proposed to current as proposed is set to null.
	This also fixes another array boudn problem.

2003-03-21  Alan Tam <Tam@SiuLung.com>

	* DataRow.cs: Fixed problems in accessers, BeginEdit, CancelEdit,
	EndEdit and AcceptChanges to act correctly according to DataRowState
	and DataRowVersion.
	* DataRowCollection.cs: Call AttachRow and DetachRow when a row is
	attached and detached from the collection.

2003-03-20  Alan Tam <Tam@SiuLung.com>

	* DataColumn.cs: Store empty string for Expression when null is passed in.
	Classes generated by XSD.exe passes null by default.

2003-03-16  Ville Palo <vi64pa@kolumbus.fi>

	* DataColumnCollection.cs: Tiny clean up

2003-03-16  Ville Palo <vi64pa@kolumbus.fi>

	* DataColumn.cs: little fixes.
	* DataColumnCollection.cs: Lots of little fixes and improvments.
	
2003-03-12  Alan Tam <Tam@SiuLung.com>

	* DataSet.cs: Fixed a bug that the file written does not close correctly.

2003-03-08  Alan Tam <Tam@SiuLung.com>

	* DataRelationCollection.cs: Removed the mis-overridden methods
	* DataRow.cs: Fixed an attribute
	* DataSet.cs: Fixed the modifiers

2003-03-06  Aleksey Demakov <avd@openlinksw.com>

	* DataTableCollection.cs: The Contains (string name),
	IndexOf (string name) methods, and item[string name] indexer
	now behave more like .NET with respect to case-sensitivity.
	That is if there is an exactly matching item then this one is used.
	If there is only one item differing in case then it used.
	If there are more than one item differing in case then
	Contains returns false, IndexOf returns -1, and item[]
	throws an ArgumentException.

2003-02-28  Ville Palo <vi64pa@kolumbus.fi>

	* ExpressionElement.cs: More implementation. 
	
2003-02-28  Alan Tam <Tam@SiuLung.com>
	* DataSet.cs: Changed WriteTable so that it now calls the newly written
	WriteObjectXml to direct the call to the respective XmlConvert method.
	This fixes the wrong format written to XML files of bool, float,
	double, DateTime and TimeSpan types.

2003-02-25  Alan Tam <Tam@SiuLung.com>

	* DataRelation.cs: Added SetDataSet for DataSetRelationCollection to use.
	* DataRelationCollection.cs: Implemented AddRange and Contains.
	Implemented AddRange, Clear, List and RemoveCore for DataSetRelationColletion.
	Implemented AddCore, List and RemoveCore for DataTableRelationCollection.
	Reimplemented most Add methods to eliminate duplicated checks.
	Centralized RelationName generation procedure in GetNextDefaultRelationName.

2003-02-25  Alan Tam <Tam@SiuLung.com>

	* DataColumn.cs: Fixed wrong storage representation of Expression
	(using empty string instead of null) so that ToString() returns nothing.
	* DataColumnCollection.cs: Reimplemented GetNextDefaultColumnName so that
	auto column naming now works as expected. Reimplemented some Add methods
	to eliminate code duplication.

2003-02-19  Ville Palo <vi64pa@kolumbus.fi>

	* DataTable.cs: DataTable.CaseSensitive follows parent 
	DataSet.CaseSensitive property if DataTable.CaseSensitive has never
	been changed directly from DataTable
	
2003-02-19  Ville Palo <vi64pa@kolumbus.fi>

	* DataSet.cs: When CaseSensitive property is changed all of the Tables
	of DataSet have to change too
	
2003-02-19  Daniel Morgan <danmorg@sc.rr.com>

	* InternalDataCollectionBase.cs: revert change to field
	to fix build
	
	* DataViewManager.cs
	* DataView.cs
	* DataTable.cs
	* DataSet.cs: commented use of DesignerAttribute
	because it broke the build.  According to MSDN,
	DesignerAttribute does not have a zero-argument constructor

2003-02-18  Ville Palo <vi64pa@kolumbus.fi>

	* DataColumnCollectin.cs: Little fix for indexer and case sensitivity
	
2003-02-18  Alan Tam <Tam@SiuLung.com>

	* DataRow.cs: Implemented GetParentRow and GetParentRows.
	* DataSet.cs: Added stub for HasChanges, InferXmlSchema,
		      OnPropertyChanging, OnRemoveRelation, OnRemoveTable,
		      RaisePropertyChanging.
	* DataTable.cs: Implemented NewRowArray.
	* DataTablePropertyDescriptor: Fixed a modifier.
	* InternalDataCollectionBase.cs: Fixed modifiers. Implemented SyncRoot.
	* PropertyCollection.cs: Minor fix.
	* ConstraintCollection.cs DataColumn.cs DataColumnCollection.cs 
	* DataRelation.cs DataRelationCollection.cs DataRow.cs
	* DataRowCollection.cs DataRowState.cs DataSet.cs DataTable.cs
	* DataTableCollection.cs DataTablePropertyDescriptor.cs DataView.cs
	* DataViewManager.cs DataViewRowState.cs DataViewSettingCollection.cs
	* ForeignKeyConstraint.cs InternalDataCollectionBase.cs
	* PropertyCollection.cs UniqueConstraint.cs: Added missing attributes
	
2003-02-08  Ville Palo <vi64pa@koti.soon.fi>

	* ExpressionElement.cs: More implementation
	
2003-02-05  Alan Tam <Tam@SiuLung.com>

	* DataSet.cs: Added framework for DataSet.Update Implemented missing 
	methods GetSchemaSerializable, GetSerializationData, 
	ReadXmlSerializable, ShouldSerializeRelations and ShouldSerializeTables
	for DataSet
	* DataTable.cs: Implemented missing methods CreateInstance and 
	GetRowType for DataTable
	
2003-02-03  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs: Implemented private method MapType for 
	mapping datatypes for XmlSchema
	
2003-02-03  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* DataView.cs: implemented Dispose.

2003-01-30  Ville Palo <vi64pa@koti.soon.fi>

	* ExpressionElement.cs: Added new file. This file is for parsing
	  and DataData.Select () -methods and DataColumn.Expression -property
	* DataTable.cs: Implemented Select(string) -method	
	
2003-01-28  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs: One little fix to writing xml
	
2003-01-27  Ville Palo <vi64pa@koti.soon.fi>

	* XmlSchemaMapper.cs: Some fixes.
	* DatSet.cs: Some XmlFixes and BeginInit ()/ EndInit () -fix

		
2003-01-24  Ville Palo <vi64pa@koti.soon.fi>

	* UniqueConstraint.cs: Do not set columns Unique property true 
	as a default.
	* ForeignKeyConstraint.cs: Add UniqueConstraint to parent Table
	
2003-01-18  Ville Palo <vi64pa@koti.soon.fi>

	* DataTableCollection.cs: Now names new DataTable if it doesn't 
	already have a name.
	
2003-01-17  Ville Palo <vi64pa@koti.soon.fi>

	* XmlSchemaMapper.cs: Improvments.
	* XmlConstaints.cs: Added more constants.
	* DataSet.cs: Improvments of reading and writing xml
	* DataColumn.cs: Added default values of properties.
		
2003-01-14  Ville Palo <vi64pa@koti.soon.fi>

	* XmlSchemaMapper.cs: Some improvments
	
2003-01-13  Ville Palo <vi64pa@koti.soon.fi>

	* DataRowCollection.cs: Added IndexOutOfRangeException
	* DataTableCollection.cs: Added OnCollectionChanging and 
	OnCollectionChanged events.
	* DataSet.cs: Many fixes. Implemented Clone () and Copy () -methods
	* DataTable.cs: Implemented Copy () and Clone () methods.
	* XmlDataLoader.cs: some fixes.
	* XmlSchemaMapper.cs: comments.
	
2003-01-08  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* DataColumnPropertyDescriptor.cs: store columnIndex in the .ctor.

2003-01-08  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* DataColumnPropertyDescriptor.cs: fixed typo.
	* DataViewManagerListItemTypeDescriptor.cs: added new internal property
	to get the DataViewManager and removed TablePD class.
	* DataTablePropertyDescriptor.cs: TablePD class is now this one as
	suggested by danmorg.

2003-01-06  Ville Palo <vi64pa@koti.soon.fi>

	* XmlDataLoader.cs: Moved diffgram stuff to new internal class
	XmlDiffLoader.
	* XmlDiffLoader.cs: new class for diffgrams. Added handling of 
	diffgr:Errors and some fixes and changed XmlReader to XPathNavigator.
	
2003-01-06  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* DataView.cs: made dataViewManager internal.
	* DataViewManager.cs: use ICustomTypeDescriptor. We don't want the
	properties of the object, but the values of the columns present in a
	row.
	
	* DataViewManagerListItemTypeDescriptor.cs: implemented GetProperties,
	which returns a PropertyDescriptorCollection. Created a new class
	derived from PropertyDescriptor that treats Table as an object whose
	properties are DataRowView.

2003-01-04  Ville Palo <vi64pa@koti.soon.fi>

	* XmlSchemaMapper.cs: Added handling for Constraints, Attributes.
	
2003-01-04  Ville Palo <vi64pa@koti.soon.fi>

	* DataColumn.cs: ExtendedProperties is by default !null-
	
2003-01-04  Ville Palo <vi64pa@koti.soon.fi>

	* DataColumnCollection.cs: Add (DataColumn Column) -method didn't 
	set column's ordinal.
	
2003-01-02  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs: 
	* XmlDataLoader.cs: XmlReader closing fixes.
	* XmlSchemaReader.cs: Added support for ref=
	
2003-01-01  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs: 
	  - Added XmlReader and XmlWriter Closing.
	  - Moved ReadXmlSchema stuff to new internal class XmlSchemaMapper.
	* XmlSchemaMapper.cs
	  - Much better way IMHO  to map xmlschema than the old one in 
	    DataSet.cs. Its, more flexible, cleaner, ...
	   		
2002-12-29  Ville Palo <vi64pa@koti.soon.fi>

	* XmlDataLoader.cs: Reading diffgrams.
	
2002-12-29  Ville Palo <vi64pa@koti.soon.fi>

	* DataRow.cs: Little fix to indexer and DataColumnCang* trigger fixes.
	* DataTable.cs: Added ChanginDataColumn () for triggering 
	DataColumnChanging event
	
2002-12-28  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs: Indentations to WriteXmlSchema () and one little fix
	
2002-12-28  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs: Indentations to WriteXml ()
	
2002-12-27  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs:
	* XmlDataLoader.cs: Moved ReadXml -stuff from DataSet.cs to new
	class XmlDataLoader.cs
	
2002-12-19  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs Implemented ReadXml with XmlReadMode.ReadSchema
	
2002-12-18  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs: Started to implement ReadXml-methods.
	
2002-12-17  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* DataSet.cs: implemented DefaultViewManager and GetList.

	* DataViewManager.cs: a bit of work on IList and ITypedList needed by
	DataList in System.Web.

	* DataViewManagerListItemTypeDescriptor.cs: custom type descriptor for
	DataViewManager.

2002-12-16  Ville Palo <vi64pa@koti.soon.fi>

	* DataRow.cs
	* DataTable.cs: Fixed NullException (rollback -event)
	* DataSet.cs: WriteXml -method does not anymore write <?xml... row.
	
2002-12-15  Ville Palo <vi64pa@koti.soon.fi>

	* DataRow.cs:
	* DataRowCollection.cs: Moved event triggering from DataRow to
	DataRowCollection.
	
2002-12-09  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs: Little fix to WriteTable () -method 
	and DoReadXmlSchema () -method.
	
2002-12-06  Ville Palo <vi64pa@koti.soon.fi>

	* DataSet.cs: Clean up to reading xmlschema. This looks much better 
	now (work better too), but it not working correctly yet.
	
2002-12-04  Ville Palo <vi64pa@koti.soon.fi>

	* DataRow.cs: 
	* DataRowCollection.cs: Added some event handlins stuff.
	* DataSet.cs: Some fixes.
	* DataTable.cs: Added event handlers.
	
2002-11-30  Ville Palo <vi64pa@koti.soon.fi>

	* DataRowChangeEventArgs.cs: Implemented Action and Row properties 
	
2002-11-30  Ville Palo <vi64pa@koti.soon.fi>

	* System.Data/DataRow.cs: Added internal property XmlDataID
	
2002-11-29  Ville Palo <vi64pa@koti.soon.fi>

	* DataSystem.Data.DataTableCollection.cs:
	Removed HashTable. There could be situations where DataTable
	is added to collection before it hava TableName. So using 
	HashTable is impossible.
	
2002-11-19  Carlos Guzmán Álvarez <carlosga@telefonica.net>

	* DataRow.cs: an object that is equal to null 
	should be allowed to be set in this indexer too
	to be like .NET

2002-11-06  Daniel Morgan <danmorg@sc.rr.com>

	* DataColumnPropertyDescriptor.cs: added file
	
	* System.Data/DataRowView.cs: started implementation
	
	* DataTable.cs: stubbed more interfaces.  Implemented
	IListSource.GetList()
	
	* DataView.cs: stubbed more interfaces.  Implemented
	some properties and methods: GetEnumerator(), 
	ITypedList.GetItemProperties, Item indexer, CopyTo()

2002-05-18  Nick Drochak  <ndrochak@gol.com>

	* DataRow.cs: Fix typo.
