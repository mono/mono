2005-05-08 Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Uri.cs:
	(EscapeString): no need to turn the string into a char[] when calling
	GetBytes.

2005-03-20 Joshua Tauberer <tauberer@for.net>

	* Uri.cs: Some pedantic changes to the text of a few exceptions.

2005-03-05 Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Uri.cs: when unescaping in stages, handle the case when the next
	substring is not a escaped sequence or the string ends. Fixes bug
	#73316.

2005-01-20  Miguel de Icaza  <miguel@ximian.com>

	* Uri.cs: Set the UriSchemNews port default to 119 as well.
	Fixes bug #71050.

	When dealing with fragments use the `dontEscape' flag passed to
	the Uri constructor to decide whether the fragment must or must
	not be escaped, fixes 71051.

2004-06-22  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : Such ctor arg string that starts with "//" should be 
	  regarded as a local file path that will be condensed to single "/",
	  so handle such path differently under Windows and under *nix.
	  Since '\\' is a valid path character on Unix, so we should not
	  replace it with '/' in LocalPath.

2004-06-17  Jackson Harper  <jackson@ximian.com>

	* Uri.cs: Use invariant culture.
	
2004-06-16  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : Fixed LocalPath. In that condition, path is always UNC.

2004-06-16  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : Reimplemented HexUnescape() (It was too broken to handle
	  multi-byte utf-8 characters.)

2004-06-11  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs :
	  - We don't have to mind '\\'.
	  - Fixed bug #58301. When path starts with "///" and not more than
	    "////" and not "///*:", handle it as unix path and set Host as
	    empty string. In absolute path case, port should not be parsed
	    and LocalPath should start with '/'.
	  - Handle fragment in prior to path. 

2004-06-11  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : Handle Windows UNC. Now we could simplify Parse(). Don't
	  escape windows path twice. Check scheme name as defined in RFC2396.

2004-06-11  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : Reverted some changes. '#' should be handled when the input
	  string is NOT raw file path. So handle raw file paths differently.
	  (right now except for Windows UNC).
	  Cache LocalPath and don't compute every time.

2004-06-10  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : Don't escape '#' in file URI paths. This fixes bug #47691.
	  Some code simplification.

2004-06-09  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : 
	  - Now Parse() is properly implemented. If overriden, the overriding
	    Parse() is used _instead of_ this class's parsing logic.
	  - AbsoluteUri does not escape URI string at all.
	  - ToString() should unescape Query. But should not unescape fragment.
	    And all all parts should be unescaped individually to keep ? and #.
	  - In relative .ctor(), handle Windows UNC as an absolute file URI.
	  - In some cases, hosts and paths were not properly escaped in
	    relative .ctor().
	  - Removed unused isWindowsPath.
	  - Escape Query.
	* UriBuilder.cs : Fragment and Query aren't escaped when they are set.

2004-05-12  Dick Porter  <dick@ximian.com>

	* Uri.cs: Reduce(string) is not in the public API.

2004-04-22  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* UriBuilder.cs: ignore empty Query. Fixes bug #57082.

2004-03-21  Jackson Harper  <jackson@ximian.com>

	* Uri.cs: Equals should be case insensitive for all parts except
	the path.

2004-02-11  Jackson Harper  <jackson@ximian.com>

	* Uri.cs: If we are sure we have a windows path use \ instead of
	/ for directory separating.
	
2004-02-11  Jackson Harper  <jackson@ximian.com>

	* Uri.cs: If the relative uri passed to Uri (base_uri,
	relative_uri) is an absolute uri do not combine the uris. The base
	uri is dropped.
	
2004-02-10  Jackson Harper  <jackson@ximian.com>

	* Uri.cs: Preserve the trailing / if there is one when reducing
	paths.
	
2004-02-08  Jackson Harper  <jackson@ximian.com>

	* Uri.cs: IsLoopback has different behavoir then
	IPAddress::IsLoopback. It will only return true for ipv4 addresses
	if they are 127.0.0.1, localhost, or loopback. 
	
2004-02-06  Jackson Harper  <jackson@ximian.com>

	* Uri.cs: Do not escape querys or fragements. Only reduce certain
	schemes.
	
2004-02-06  Jackson Harper  <jackson@ximian.com>

	* Uri.cs: Use UTF8 characters when escaping. Reduce paths. This
	method is taken from System.Web.Utils.UrlUtils.
	* UriBuilder.cs: Do not escape fragments or queries, but do a utf8
	switch on them. Do not prepend a "/" to Paths. Do not use
	IPEndPoint to determine if a port is valid, UriBuilder allows
	ports to be any	positive integer, IPEndPoint does not. Use the
	ToString () method for generate a uri in get_Uri. Only set the
	port in ToString () if it is greater then 0.
	
2004-02-05  Jackson Harper  <jackson@ximian.com>

	* UriBuilder.cs: Do not call Uri::ToString for uri builders
	ToString. UriBuilder's ToString is a little more primitive.
	
2004-01-12  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : should not escape already-escaped string (Patch by 
	  Boris Kirzner).  File LocalPath should unespace return value.
	  ToString() should be unescaped only when it is not an UNC path.
	  (UNC looks not to be unescaped).

2004-01-06  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : quick fix on local file relative uri.

2004-01-06  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : Fixed Parse(). Should not allow relative URIs.

2004-01-05  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : fixed IsBadFileSystemCharacter() to reject more characters
	  based on MS.NET experiment.

2003-12-08  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : more fixes. More presice UNC handling, opaque part 
	  handling for non-standard uri (e.g. urn:go-mono.com), ToString()
	  fix (that returns AbsoluteUri, which is not escaped any more),
	  and so on.

2003-12-08  Atsushi Enomoto  <atsushi@ximian.com>

	* Uri.cs : Several fixes, including Unc problem, Host and LocalPath
	  fixes, null reference check for .ctor(Uri, string). This fixes
	  bug #51844.

2003-12-04  John Luke  <jluke@cfl.rr.com>
	
	* Uri.cs: applied patch from Chris Masters <neeeeeep@bigpond.com>
	fixes bug #51510.  ftp uses port 21, https uses 443 and 
	parse the host name properly for UNC path.
	
2003-10-10  Pedro Martínez Juliá  <yoros@wanadoo.es>

	* Uri.cs: fixed a problem with some URIs like file://some_file.txt
	It used to return "/some_file.txt/" instead of "some_file.txt" in
	LocalPath. Fix handling of full path files and SMB addresses.

2003-08-12  Duncan Mak  <duncan@ximian.com>

	* Uri.cs (constructor): Properly implement RFC 2396, Par. 5.2,
	part 6a, which says:
	
		In other words, any characters after the last (right-most)
		slash character, if any, are excluded.

        Previously, when merging "a://foo.com/foo" with "bar", we yield
	the result "a://foo.com/foobar", instead of the correct
	"a://foo.com/bar".

	This fixes bug #45614.

2003-07-27  Andreas Nahr <ClassDevelopment@A-SoftTech.com>

	* SRDescriptionAttribute.cs: Moved from System.Diagnostics directory

2003-07-18  Andreas Nahr <ClassDevelopment@A-SoftTech.com>

	* Uri.cs: Added MonoTODO'd members, implemented member, fixed signature

2003-05-22  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* TempFileCollection.cs: fixed the build under windows.
	
2003-05-07  Ben Maurer <bmaurer@users.sourceforge.net>
	* Uri.cs: Checked in code to fix bug #41998. Some
	code from Ian MacLean.
	
2003-03-19  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Uri.cs: reworked Segment. Small fix in MakeRelative. Throw exception
	in Parse when host length is 0 and the Uri is not a file.

2003-03-19  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* Uri.cs:
	(CheckSchemeName): fixed bug #28549. Thanks to Eric Runquist.

2003-02-01  Miguel de Icaza  <miguel@ximian.com>

	* Uri.cs (LocalPath): Local path should return un-escaped
	strings.  Patch from tum@veridicus.com (Thong (Tum) Nguyen)

2002-09-16  Duncan Mak  <duncan@ximian.com>

	* Uri.cs (GetObjectData):
	(Uri): The key should be "AbsoluteUri", not "Uri".

2002-09-16  Miguel de Icaza  <miguel@ximian.com>

	* Uri.cs: Implemented a few of the protected methods. 

Mon Jun 17 15:05:05 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* Uri.cs: workaround for mcs bug.

2002-05-28  Lawrence Pit <loz@cable.a2000.nl>

	* Uri.cs: Implemented ctor UriTest (baseUri, relativeUri)
	* Uri.cs: Fixed bug in internal method GetSchemeDelimiter

2002-05-22  Lawrence Pit <loz@cable.a2000.nl>

	* Uri.cs: implemented MakeRelative, improved GetLeftPart
	* UriBuilder.cs: removed Serializable attribute
	* UriHostNameType.cs: added Basic

2002-05-12  Lawrence Pit <loz@cable.a2000.nl>

	* Uri.LocalPath and Uri.AbsoluteUri modified to support both w32 
	and *nix filepaths

2002-05-09  Lawrence Pit <loz@cable.a2000.nl>

	* Uri.GetLeftPart fixed for mailto and news schemes.

2002-05-05  Lawrence Pit <loz@cable.a2000.nl>

	* UriBuilder.cs: Implemented.
	
	* Uri.cs: Complete new reimplementation. 

2002-02-08  Duncan Mak  <duncan@ximian.com>

	* UriFormatException.cs: Removed TODO attribute, the docs are
	probably wrong here. In any case, this code compiles and should work.

2002-01-31  Duncan Mak  <duncan@ximian.com>

	* UriFormatException.cs: Added bits for serialization.

2002-01-05  Ravi Pratap  <ravi@ximian.com>

	* ChangeLog : Add to this directory.

	* Uri.cs, UriFormatException.cs : Decorate bits with MonoTODO attribute.
