2004-12-06  Atsushi Enomoto <atsushi@ximian.com>

	* XmlWriter.cs : WriteQualifiedNameInternal() should consider the case
	  ns is null, and don't lookup prefix for empty namespace.

2004-12-03 Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextReader.cs: don't use \0 as buffer terminator.
	* XmlInputStream.cs: s/Array.Copy/Buffer.BlockCopy/.

2004-11-30  Atsushi Enomoto <atsushi@ximian.com>

	* DTDReader.cs : Consideration on parameter entity was missing for 
	  attribute default value. Fixed bug #70008.

2004-11-26  Atsushi Enomoto <atsushi@ximian.com>

	* XmlReader.cs : not fixage, just explicitly formatted code a bit.
	* XmlTextReader.cs,
	  XmlEntity.cs,
	  XmlAttributeCollection.cs,
	  XmlTextWriter.cs,
	  XmlElement.cs,
	  XmlNode.cs,
	  DTDObjectModel.cs,
	  XmlParserInput.cs,
	  DTDReader.cs,
	  XmlDocument.cs : warning removal.

2004-11-25  Atsushi Enomoto <atsushi@ximian.com>

	* XmlQualifiedNameTable.cs : oops, it was not implemented.

2004-11-24  Atsushi Enomoto <atsushi@ximian.com>

	* XmlQualifiedName.cs : in 2.0 it is [Serializable].
	* XmlTextReader.cs : removed unused local variable.
	* XmlTextWriter.cs : Improved some exception messages.
	  moved some private fields into #if NET_2_0.
	* XmlValidatingReader.cs : rename specifiedResolver to
	  resolverSpecified and use it in internal get_Resolver().
	  Added [Obsolete] for ReadTypedValue() whose base is obsoleted.

2004-11-22  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs : Now attribute normalization is handled on Read(),
	  not on get_Value. This caused a problem when we use
	  XmlValidatingReader that value is not always normalized expectedly.

2004-11-22  Atsushi Enomoto <atsushi@ximian.com>

	* XmlReader.cs : removed old ReadValueAsXXX() and added new
	  ReadContentAsXXX() and ReadElementContentAsXXX().
	* XmlTextReader.cs : removed old ReadValueAsXXX() (no overrides now).
	* XmlTextWriter.cs : added indentation on Comment nodes.
	* XmlDateTimeSerializationMode.cs : updated.
	* XmlResolver.cs : added 2.0 NameTable field.
	* ValidationType.cs : added ObsoleteAttributes on some members.

2004-11-18  Atsushi Enomoto <atsushi@ximian.com>

	* XmlParserContext.cs : the fix was not checked in :(

2004-11-17  Atsushi Enomoto <atsushi@ximian.com>

	* XQueryConvert.cs : moved from System.Xml.Query.

2004-11-14  Atsushi Enomoto <atsushi@ximian.com>

	* XmlWriter.cs : after WriteAttributes(), argument XmlReader must
	  move to element. This fixes bug #69350.

2004-11-10  Atsushi Enomoto <atsushi@ximian.com>

	* XmlParserContext.cs : PushScope() was accessing list out of range.

2004-11-09  Atsushi Enomoto <atsushi@ximian.com>

	* DTDValidatingReader.cs, XmlTextReader.cs :
	  needed more changes wrt XmlException.

2004-11-08  Atsushi Enomoto <atsushi@ximian.com>

	* DTDObjectModel.cs,
	  DTDReader.cs,
	  XmlReader.cs,
	  XmlTextReader.cs,
	  XmlException.cs :

	  Added support for 2.0 XmlException.SourceUri property. Improved
	  exception handling to contain BaseURI everywhere in the parser.

2004-11-08  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader2.cs : added. It is used to serve public API, plus
	  entity handling support.

	* DTDObjectModel.cs,
	  DTDValidatingReader.cs,
	  XmlDocumentType.cs,
	  XmlParserContext.cs,
	  XmlTextReader.cs :
	  Implemented XmlTextReader.EntityHandling and ResolveEntity(). To
	  implement them, XmlTextReader in 2.0 itself is in XmlTextReader2.cs
	  and XmlTextReader.cs contains Mono.Xml2.XmlTextReader which is the
	  same as 1.x XmlTextReader. XmlTextReader2 switches entity reader and
	  source reader, and never handles tokenization. 
	  The reason for "Mono.Xml2" is to avoid large changes in constructor.f

2004-11-08  Atsushi Enomoto <atsushi@ximian.com>

	* XmlAttribute.cs, XmlElement.cs : get_Name should consider name table.
	* XmlDocument.cs : use NameTable in Load() and LoadXml().
	* XmlReader.cs : In Create(), use NameTable in XmlReaderSettings.

2004-11-05  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocumentNavigator.cs : create rarely-used ArrayList later. This
	  significantly improves XmlDocument-based XPath performance.

2004-11-04  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs : Manually expanded some of AppendValueChar() and
	  XmlChar.IsWhitespace() which are on critical points on performance
	  (marked as FIXME, but it depends on JIT).

2004-11-04  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs : Search xml:* attributes more efficiently.

2004-11-04  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs : Reduced NameTable.Add() for prefixed names. First,
	  ReadName() now returns atomized LocalName and Prefix. Second, to
	  avoid extraneous split, SetProperties() now takes prefix and
	  localName that might be given from ReadName(). Third, removed 
	  FillNames(). This optimizes "namespace-aware and prefixed document"
	  parsing 10-20% faster.

2004-11-03  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs :
	  With related to AddNamespace(), there was extra string.StartsWith()
	  calls. Now AttributeTokenInfo.FillNames() is splitted into
	  FillPrefixAndXmlns() and FillNamespace(), and AddNamespace() is done
	  at FillPrefixAndXmlns().

2004-11-03  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs :
	  Reduces LookupNamespace() call in FillNames(). This improves 6-7%
	  speedup in some scenario.
	  Code refactory; Removed unused code. AddAttribute() is used only for
	  DTD, so renamed to AddDtdAttribute(). For PUBLIC and SYSTEM ids,
	  FillNames() is not required. Two SetProperties() are ambiguous, so
	  renamed one (that takes TokenInfo) as SetTokenProperties().

2004-11-03  Atsushi Enomoto <atsushi@ximian.com>

	* XmlParserContext.cs : rewrote; especially to avoid XmlSpace boxing.

2004-11-03  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs : LookupNamespace() don't have to be called in
	  ReadStartTag() to check prefix, since NamespaceURI is filled in
	  FillNames(). 10% performance up by avoiding this extra check.

2004-10-29  Atsushi Enomoto <atsushi@ximian.com>

	* XmlValidatingReader.cs : fixed incorrect recursion between
	  indexer and GetAttribute().

2004-10-29  Atsushi Enomoto <atsushi@ximian.com>

	* DTDReader.cs, DTDValidatingReader.cs, XmlTextReader.cs :
	  When XmlTextReader is created with NodeType Element or Attribute,
	  skip possible text declaration (that might be used for resolving
	  entities) that specifies text encoding. With this fix, bug #61274
	  must be regarded as fixed.

2004-10-29  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNodeReader.cs : Reimplemented ResolveEntity(). It does not use
	  XmlTextReader trick anymore. XmlNodeReader itself is used instead.

2004-10-29  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNodeReader.cs : for NET_1_0 ReadInnerXml(), just use
	  XmlReader.ReadInnerXmlInternal(). It should work fine.
	  Ditto for ReadOuterXml().

2004-10-29  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNodeReader.cs : removed unused/unreachable code. Simplify
	  namespace lookup.

2004-10-29  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocument.cs, XmlNodeReader.cs, XmlTextReader.cs,
	  XmlValidatingReader.cs : Those readers could just implement internal
	  interface IHasXmlParserContext.
	* XmlTextReader.cs, XmlValidatingReader.cs : this[] disappeared in 2.0.
	  (XmlReader has them as virtual.)
	* XmlReader.cs : ReadAsObject() disappeared.
	* XmlWriter.cs : WriteFromObject() disappeared.

2004-10-29  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocumentNavigator.cs : GetNode() should consider namespace nodes.
	* XmlNode.cs : dustclean.

2004-10-28  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocument.cs : use XPathEditableDocument again.
	* XmlNode.cs : To be compatible with XPathEditableDocument, it should
	  not cast XPathNavigator to XmlDocumentNavigator but to IHasXmlNode.

2004-10-28  Atsushi Enomoto <atsushi@ximian.com>

	* XmlChar.cs, XmlConstructs.cs :
	  Switched again, for reducing per-process memory consumption.
	* XmlInputStream.cs :
	  Just 64 bytes of buffer would be enough, for example like
	  <?xml version="1.0" encoding="iso-8859-15" standalone="yes" ?>

2004-10-28  Atsushi Enomoto <atsushi@ximian.com>

	* IXmlDataEvidence.cs : disappeared.
	* XmlConvertDateTimeSerializationMode.cs : incorrect filename. removed.
	* XmlDateTimeSerializationMode.cs : added
	* NewLineHandling.cs : added
	* IXmlNamespaceResolver.cs, XmlNamespaceManager.cs :
	  now 'atomizedNames' is obsolete.
	* XmlReaderSettings.cs, XmlWriterSettings.cs :
	  Should not be sealed. Should not be ICloneable.

2004-10-28  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocument.cs : XPathEditableDocument looks broken. Just reverted
	  to fix 2.0 corcompare.

2004-10-26  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs : Don't create attribute Value string on Read()
	  (i.e. create string when get_Value() is invoked.) This optimizes
	  some kind of XmlTextReader usage significantly such as Skip().

2004-10-22  Atsushi Enomoto <atsushi@ximian.com>

	* XmlConvertDateTimeSerializationMode.cs : added.
	* XmlConvertDateTimeOption.cs : removed.

2004-10-22  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocument.cs :
	  For net_2_0, CreateNavigator() returns editable XPathNavigator.
	* XmlReader.cs, XmlTextReader.cs, XmlValidatingReader.cs :
	  They do not implement IXmlDataEvidence anymore.

2004-10-18  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlTextReader.cs :
	  Fixed CheckCharacters setter that always set false.
	  CheckCharacters check is also required for ReadText(). This fixes
	  bug #68449.

2004-10-15  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlTextReader.cs : Inside DTD, '<' character inside XML comment 
	  is regatded as invalid. This fixes bug #68410. (Error message was
	  also not correct.)

2004-10-14  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlWriter.cs : CreateTextWriter() is private.

2004-10-09  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlNodeReader.cs : LookupPrefix() was only after 2.0.

2004-10-08  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlNamespaceManager.cs : GetNamespacesInScope() caused
	  IndexOutOfRangeException (miscounted indexes).

2004-10-04  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlWriter.cs : WriteNode(XPathNavigator,bool) should check null arg.
	  For attribute nodes, it should not use WriteSubtree() which does not
	  support attribute nodes.

2004-09-20  Gert Driesen <drieseng@users.sourceforge.net>
	
	* XmlValidatingReader.cs: Added deprecation message.

2004-09-14  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlTextWriter.cs : Close() should not Flush() when the output is
	  already closed. bug #65918 is fixed.

2004-09-12  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlTextWriter.cs : CloseOutput must be true by default.

2004-09-08  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlWriter.cs, XmlTextWriter.cs, XmlWriterSettings.cs :
	  Implemented CheckCharacters and CloseOutput support.

2004-09-08  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlReader.cs : evidence is always provided.
	* XmlWriter.cs, XmlTextWriter.cs :
	  added support for ConformanceLevel and OmitXmlDeclaration.

2004-09-08  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlTextReader.cs : Console.WriteLine() injected :(
	* XmlTextWriter.cs : It it partly supports XmlWriterSettings.
	* XmlWriter.cs : implemented Create().
	* XmlWriterSettings.cs : removed EncodeXmlBinary (deprecated).

2004-09-07  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlFactory.cs : removed (obsolete).

2004-09-07  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlNamespaceManager.cs : GetNamespacesInScope() ignored default
	  namespace when scope is .ExcludeXml or .All.
	* XmlReader.cs : Implemented ValueType, SchemaInfo, ReadAsObject().
	  Fixed ReadTypedValue() to call ReadValueAs().

2004-09-07  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlNamespaceManager.cs : Fixed GetNamespacesInScope() that returned
	  inconsistent namespace pairs.

2004-09-07  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlReader.cs, XmlTextReader.cs :
	  Added NET_2_0 CheckCharacters support.

2004-09-06  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlNode.cs : GetEnumerator() does not have to create ChildNodes
	  every time. Removed unused StringBuilder field.

2004-09-06  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlWriter.cs : on reader.NodeType is None, WriteNode() still tries
	  to read more (and might result in an error).

2004-09-03  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlTextReader.cs : When Normalization is true, CRLF and CR should
	  be converted to single LF. This should fix part of bug #62076.

2004-08-30  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlWriter.cs : implemented WriteValue(object) for known types.

2004-08-30  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlElement.cs : XmlAttributeCollection doesn't have to be created
	  every time until the actual use. This sometimes optimizes
	  attribute-less XML performance siginificantly.

2004-08-27  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlAttribute.cs : some property getters threw NullReferenceException
	  when the attribute is not added to an element.
	* XmlNode.cs : When a node is not appended to another node, BaseURI
	  is empty. Bug #64120 is fixed.

2004-08-26  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlTextWriter.cs : In CheckState(), don't create indentation string
	  at every time. WriteIndent() now handles the indentation without
	  recomputation.

2004-08-23  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlReader.cs, XmlTextReader.cs, XmlWriter.cs :
	  eliminate MS.Internal.Xml.* classes.

2004-08-21  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlElement.cs : set_InnerText was removing children incompletely.
	  This fixes bug #63574.

2004-08-20  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlTextReader.cs : Fixed EOF not to return true when it is just
	  closed. Element and EndElement location is now adjusted to be the
	  same as MS.NET does. This fixes bug #63505 and #63507.
	  ResetState() now throws InvalidOperationException() as MS.NET does.

	* WriteState.cs : added missing 2_0 enumeration.
	* XmlReader.cs : ReadTypedValue() is virtual.
	* XmlValidatingReader.cs : ReadTypedValue() is override under 2_0.

2004-08-10  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlValidatingReader.cs : Replaced XmlSchemaCollection with
	  XmlSchemaSet. Added Settings property override

2004-08-10  Atsushi Enomoto  <atsushi@ximian.com>

	* DTDReader.cs : Replacing XmlSchemaDatatype .FromName(string) with
	  .FromName(string, string) [going to remove former one; it is not
	  good to support xdt:blah datatypes].

2004-08-03  Atsushi Enomoto  <atsushi@ximian.com>

	* DTDValidatingReader.cs,
	  XmlValidatingReader.cs : implemented IXmlNamespaceResolver.
	* XmlNamespaceManager.cs,
	  XmlNodeReader.cs : implemented GetNamespacesInScope().

2004-08-03  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlCharacterData.cs,
	  XmlDocument.cs,
	  XmlNodeChangedEventArgs.cs : 
	  Implemented XmlNodeChangedEventArgs.OldValue and .NewValue.

2004-08-03  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlWriter.cs : implemented settings-less Create().
	* XmlWriterSettings.cs : added some comments.

2004-07-29  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlWriter.cs : implemented WriteNode(XPathNavigator, bool) 
	  incompletely, using XPathNavigator.ReadSubtree().

2004-07-29  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlReader.cs : Implemented new 2.0 virtual members that used to be
	  abstract in 1.x. Implemented ReadSubtree().

2004-07-28  Lluis Sanchez Gual  <lluis@novell.com>

	* XmlTextReader.cs: Stop parsing when a null character is found.

2004-07-28  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlReader.cs : Implemented missing MoveToNextSibling() and
	  MoveToDescendant().
	* XmlTextReader.cs : Added missing ReadValueAs() override (hmm...
	  are they really worth overriding?)

2004-07-28  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlWriter.cs : Added new WriteStartAttribute(string).

2004-07-28  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlConvert.cs : Added 2.0 VerifyNMTOKEN() and internal WriteBinHex().
	* XmlQualifiedName.cs : Added internal static Parse().
	* XmlReader.cs : use XmlQualifiedName.Parse().
	* XmlTextWriter.cs : use new XmlWriter.WriteNameInternal() etc.
	* XmlWriter.cs : Added 2.0 Settings and WriteFromObject().
	  Implemented 2.0 virtual methods that used to be abstract in 1.x.

2004-07-26  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlReader.cs : Implemented ReadValueAsXxx() except for
	  ReadValueAsList().
	* XmlTextReader.cs : implemented them as well, just invoking 
	  base.ReadValueAsXxx ().
	* XmlWriter.cs : implemented some WriteValue() methods.

2004-07-21  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlConvert.cs : added internal ToBinHexString() (BTW according to
	  MSDN documentation it should be public).
	* XmlReader.cs : fixed one incorrect Create() overload. Added
	  LookupNamespace (string, bool) (public for 2.0, internal for 1.x).
	* XmlTextReader.cs : Mostly implemented IXmlNamespaceResolver
	  interface. Fixed HasLineInfo() access modifier on 2.0.
	* XmlNodeReader.cs : Mostly implemented IXmlNamespaceResolver
	  interface. Wrote common namespace node lookup method and rewrote
	  existing LookupNamespace().
	* XmlValidatingReader.cs : Fixed 2.0 IXmlLineInfo members' signatures.

2004-07-20  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlNode.cs : When the argument node being inserted is the existing
	  document element, it should not result in an error (since it should
	  be first removed from document, thus no error should happen).

2004-07-16  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlTextReader.cs : Fixed several problems on ReadBase64();
	  Whitespaces should be ignored, and '=' was not skipped correctly.
	  It caused "unexpected end of document" error at immediate close tag.

2004-07-13  Atsushi Enomoto  <atsushi@ximian.com>

	* Added MonoFIXAttribute.cs

2004-07-13  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlWriter.cs : Added Create() stubs.
	* XmlWriterSettings.cs : Added missing property setters.
	* XmlValidatingReader.cs : added internal schemas setter.
	* XmlTextReader.cs : added internal XmlReaderSettings property setter.
	* XmlReader.cs :  Halfly implemented Create().
	* DTDValidatingReader.cs : author information was missing.

2004-07-11  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlConvertDateTimeOption.cs : it is NET_2_0.
	* IXmlNamespaceResolver.cs,
	  XmlNamespaceScope.cs : Compile it in .net 1.1 (as internal).
	* XmlNamespaceManager.cs : Implement IXmlNamespaceResolver.

2004-07-09  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlConvertDateTimeOption.cs : Forgot to change the content...

2004-07-09  Atsushi Enomoto  <atsushi@ximian.com>

	* ConformanceLevel.cs : Fixed integer value.
	* Added XmlConvertDateTimeOption.cs.
	* Removed XmlItemView.cs and XmlItemViewCollection.cs.

2004-07-09  Atsushi Enomoto  <atsushi@ximian.com>

	* IXmlNamespaceResolver.cs :
	  Fixed return value of GetNamespacesInScope().
	* IXmlDataEvidence.cs,
	  XmlReader.cs,
	  XmlTextReader.cs,
	  XmlValidatingReader.cs : fixed Evidence (it is not array anymore).
	* XmlReader.cs :
	  Implemented virtual indexers, QuoteChar, and Dispose() (2.0 stuff).
	* XmlNodeReader.cs,
	  In net_2_0, indexers vanished from XmlNodeReader.
	  In net_2_0, overriden QuoteChar vanished.
	* XmlReaderSettings.cs : set_NameTable is missing.
	* XmlTextReader.cs : Implemented ProhibitDtd.

2004-07-09  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlAttributeCollection.cs : In .net 2.0, it became sealed class.
	* IXmlDataEvidence.cs : not "Evidences" but "Evidence".
	* XmlInputStream.cs : new csc rejected implicit int->char cast.
	* XmlNamespaceManager.cs : In net_2_0, LookupNamespace(string) and
	  LookupPrefix(string) does not require argument string as atomized.
	  Added HasNamespace (string, bool).
	* XmlReader.cs : Added Settings and SchemaInfo properties.
	* XmlReaderSettings.cs : Added NameTable. Throw XmlException when
	  attempt to set Schemas.
	* XmlTextReader.cs : Fixed "Evidences" to "Evidence". new csc rejected
	  implicit int->char cast.
	* XmlValidatingReader.cs : Fixed "Evidences" to "Evidence".

2004-06-27  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDocument.cs:
	  Close XmlReader only when it is created. This fixes bug #60809.

2004-06-18  Atsushi Enomoto <atsushi@ximian.com>

	* DTDObjectModel.cs, DTDReader.cs, XmlConvert.cs, XmlDocument.cs,
	  XmlException.cs, XmlParserInput.cs, XmlTextReader.cs,
	  XmlTextWriter.cs : Globalization.
	* XmlNode.cs : Fixed error message that confused node type.

2004-06-14  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocumentNavigator.cs : MoveToNext() should skip concatenating
	  text/cdata/whitespace nodes.

2004-06-14  Atsushi Enomoto <atsushi@ximian.com>

	* XmlInputStream.cs : Fixed encoding detection detected in xslt
	  standalone tests. Removed extraneous code.

2004-06-13  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs : Character range check is always done. It is only
	  character references for which check is not done when Normalization
	  is false.
	  A bit more kind error message for multiple document element error.
	* XmlTextWriter.cs : Check if character is valid and entitize when
	  it was invalid.

2004-06-09  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNamespaceManager.cs : The error message was improper.
	  Fix for bug #59880.

2004-06-07  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlInputStream.cs: Initialize reads a larger buffer now when trying
	to guess the encoding.

2004-06-06  Atsushi Enomoto <atsushi@ximian.com>

	* NameTable.cs : Fixed incorrect hash computation. Thanks to Ben.
	* XmlTextWriter.cs : Fixed remaining LookupNamespace() atom problem
	  shown in xslt standalone tests.

2004-06-06  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextWriter.cs : Improved indenting. For children of a mixed 
	  content element, it won't be indented.

2004-06-06  Atsushi Enomoto <atsushi@ximian.com>

	* DTDObjectModel.cs,
	  XmlDocument.cs : Close stream always.
	* XmlNodeReader.cs : don't expect atomized name in LookupNamespace().
	* XmlTextReader.cs : Namespace check was not done. Some tests depends
	  on this failure and to be fixed.

2004-06-03  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNamespaceManagre.cs : Fixed LookupNamespace() and LookupPrefix().
	  They require that names are *already* atomized.
	* XmlNodeReader.cs,
	  XmlTextWriter.cs : use safe overload of LookupXXX().

2004-05-30  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs : Fixed version mismatch; ProhibitDtd should be
	  NET_2_0.

2004-05-29  Gert Driesen (drieseng@users.sourceforge.net)
	
	* XmlTextReader.cs: Added ProhibitDtd property for NET 1.1 to match
	public API in MS.NET 1.1

2004-05-27  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocument.cs : Save() should indent only when PreserveWhitespace
	  is false. Fixed bug #59155.
	  Modified comment lines a bit.

2004-05-27  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextWriter.cs : WriteRaw() looks to proceed WriteState to Prolog
	  (if it is Start). Fixed bug #59154.

2004-05-27  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs : simplified ReadCharsInternal(); use ReadEndTag()
	  and don't bork against <foo></foo>. Also mofidied this method to skip
	  <foo/>. Fixed bug #59142.
	  Modified some comments on the code (FIXME->LAMESPEC et al).

2004-05-24  Atsushi Enomoto <atsushi@ximian.com>

	* DTDReader.cs : When sequential PE references exist, the reader only
	  expands the first one and in some cases the parser complaints the
	  content (such like expecting name character but found '%').
	  This fixes bug #58818.

2004-05-23  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNode.cs : RemoveChild() should check null argument.
	  Normalize() was broken in some cases.

2004-05-22  Atsushi Enomoto <atsushi@ximian.com>

	* ConformanceLevel.cs : added.

2004-05-22  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNodeChangedEventArgs.cs : the last patch looks true 
	  ONLY AFTER .NET 2.0.

2004-05-22  Atsushi Enomoto <atsushi@ximian.com>

	* XmlReaderSettings.cs, XmlWriterSettings.cs : NET_2_0 were missed.

2004-05-22  Atsushi Enomoto <atsushi@ximian.com>

	* XmlFactory.cs,
	  XmlItemView.cs,
	  XmlItemViewCollection.cs,
	  XmlReaderSettings.cs,
	  XmlWriterSettings.cs : added new .NET 2.0 classes.

	* AsyncXmlTextWriter.cs,
	  IXPathChangeNavigator.cs,
	  IXPathEditor.cs,
	  IXPathNavigator.cs,
	  XmlChangeFilters.cs,
	  XmlInfoItemType.cs,
	  XmlNodeChangeType.cs,
	  XPathChangeNavigator.cs,
	  XPathDocument2.cs,
	  XPathDocument2ChangedEventAction.cs,
	  XPathDocument2ChangedEventHandler.cs,
	  XPathEditor.cs,
	  XPathNavigator2.cs : removed. (They are only in .NET 1.2)

	* XmlWriter.cs : added new NET_2_0 WriteElementString().

2004-05-22  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNodeChangedEventArgs.cs : not properly inherited from EventArgs.

2004-05-17  Atsushi Enomoto <atsushi@ximian.com>

	* XmlConvert.cs : Fixed ToString(TimeSpan) that didn't handle Hour 
	  correctly. This fixes bug #57786.

2004-05-13  Atsushi Enomoto <atsushi@ximian.com>

	* XmlValidatingReader.cs : explicitly mark as MonoTODO for XDR (not
	  supported).

2004-05-12  Atsushi Enomoto <atsushi@ximian.com>

	* DTDObjectModel.cs,
	  DTDReader.cs,
	  XmlDocument.cs,
	  XmlInputStream.cs,
	  XmlParserInput.cs,
	  XmlTextReader.cs,
	  XmlUrlResolver.cs : removed reference to Mono.Xml.
	  Made Mono.Xml.* classes internal.
	* XmlDocument.cs : output xml declaration for TextWriter output in Save()
	* XmlElement.cs : Name character check should be done in .ctor().
	* XmlNamespaceManager.cs : Removed dangerous internal .ctor()

2004-05-10  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNodeReader.cs : renamed ownerElement to ownerLinkedNode (text
	  node can be it as well) and added check for Attributes existence
	  in GetAttribute() and MoveTo*Attribute().

2004-05-10  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextWriter.cs : comment not in the content state is indented.
	  This fixes bug #58247.

2004-05-07  Lluis Sanchez Gual  <lluis@ximian.com>

	* XmlTextWriter.cs: In WriteStartAttribute, when the prefix is xmlns and
	  the name is empty, convert it to a xmlns attribute.

2004-04-27  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs : don't use NET_1_0.

2004-04-24  Atsushi Enomoto <atsushi@ximian.com>

	* XmlComment.cs. XmlProcessingInstruction.cs : missing commits.

2004-04-24  Atsushi Enomoto <atsushi@ximian.com>

	W3C DOM compliant read-only check support (buggy part in MS.NET).
	* XmlAttribute.cs,
	  XmlCDataSection.cs,
	  XmlCharacterData.cs,
	  XmlDocument.cs,
	  XmlElement.cs,
	  XmlNode.cs,
	  XmlSignificantWhitespace.cs,
	  XmlText.cs
	  : CloneNode() - set read-only when copied node is read-only.
	    Check IsReadOnly on attempt to modify value.
	* XmlEntity.cs,
	  XmlEntityReference.cs : Set descendant nodes read-only.
	* XmlAttributeCollection.cs,
	  XmlNode.cs
	  : Fixed incompatible exception type.
	* XmlEntityReference.cs : CloneNode() should not pass an empty string
	  as its name.
	* XmlEntityReference.cs,
	  XmlProcessingInstruction.cs : Check XML name validity.
	* XmlText.cs : CloneNode() does not have to check children.

2004-04-24  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDeclaration.cs : More strict check on InnerText and Value.

2004-04-24  Atsushi Enomoto <atsushi@ximian.com>

	* DTDReader.cs, XmlConvert.cs, XmlDeclaration.cs, XmlImplementation.cs,
	  XmlNode.cs : Culture independency fix.

2004-04-22  Atsushi Enomoto <atsushi@ximian.com>

	* XmlEntityReference.cs : Added XPathNodeType (just for workaround).
	  This should really fix bug #57248.

2004-04-20  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocumentNavigator.cs : MoveToFirstChild() failed when there is
	  only an EntityReference (not navigatable) child. Bug #57248 fixed.
	* XmlWriter.cs : Modified WriteNode() to use MoveToAttribute(int)
	  instead of WriteAttributes() only for MS.NET behavior compatibility.
	  This change makes SgmlReader usable (due to SgmlReader bug).

2004-04-10  Atsushi Enomoto <atsushi@ximian.com>

	* XmlParserContext.cs : Fixed .ctor() not to reference null namespace
	  manager. This fixes bug #56770.

2004-04-06  Atsushi Enomoto <atsushi@ximian.com>

	* DTDReader.cs : In ProcessDTDSubset(), 1)error message was 
	  generated with incorrect stream character, 2)entity nest check 
	  should not depend on line info which might not be supplied, 3)
	  empty PE should be skipped.
	* XmlParserInput.cs : use index for StringBuilder instead of calling
	  Remove() many times. This highly optimizes DTD parser.

	* XmlAttribute.cs : removed commented code.
	* XmlEntity.cs : removed unused field.

2004-04-05  Atsushi Enomoto <atsushi@ximian.com>

	* DTDObjectModel.cs : (DTDAttributeDefinition) create ArrayList 
	  only when they are required.
	* DTDReader.cs,
	  XmlParserInput.cs : raw tag string now don't have to be kept, while
	  it cost so much. Removed unused code. 20% to 30% memory got saved.
	* XmlNotation.cs : removed unused code.
	* XmlTextReader.cs : Removed unused code. ReadString() now uses 
	  XmlReader's internal method. Fixed BaseURI to be conformant with
	  W3C XML InfoSet and (subsequently) xml:base specification (i.e. 
	  reflect xml:base attribute correctly).

2004-04-05  Atsushi Enomoto <atsushi@ximian.com>

	* XmlAttribute.cs : get_Value should return all children's value.
	* XmlCharacterData.cs : DOM's substring does not raise an error when
	  startIndex + count exceeds the length of Data.
	* XmlNamedNodeMap.cs : SetNamedItem() returns the new child when it
	  does not replace another named item.
	* XmlElement.cs : with related to the XmlNamedNodeMap change, 
	  SetAttributeNode() is required to fix as to return null when it does
	  not replace existing attribute.

2004-03-31  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocumentNavigator.cs : When this instance is created from xmlns 
	  attributes, it should be Namespace node.

2004-03-27  Atsushi Enomoto <atsushi@ximian.com>

	* XmlReader.cs : ReadInnerXml() should progress reader when it is on
	  an empty element. This fixes bug #56064.

2004-03-27  Atsushi Enomoto <atsushi@ximian.com>

	* DTDReader.cs : In some places sequential parameter entity was
	  incorrectly skipped (and caused invalid result).

2004-03-24  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocumentNavigator.cs : MoveTo*Namespace() should not iterate
	  namespace nodes which has the same name as already-iterated nodes.
	  Also xmlns='' should not be selected, and once it appeared, default 
	  namespace should not be selected anymore.

2004-03-24  Atsushi Enomoto <atsushi@ximian.com>

	* XmlCharacterData.cs : ReplaceData() should reject negative integer
	  value for count argument.
	* XmlAttribute.cs, XmlAttributeCollection.cs, XmlNamedNodeMap.cs :
	  On RemoveNamedItem(), default attribute value should be restored.

2004-03-24  Atsushi Enomoto <atsushi@ximian.com>

	* XmlAttributeCollection.cs : Remove() should throw an exception when
	  target attribute is not included in the collection.
	* XmlDocument.cs : ImportNode() should reject null node.
	* XmlNode.cs : Fixed type of exception for invalid insertion.
	  It should throw an exception not only when the owner document of the
	  reference element is different but its parent element is different.
	  Some error message improvement.

2004-03-21  Atsushi Enomoto <atsushi@ximian.com>

	* XmlReader.cs : ReadInnerXml() incorrectly tried to get output xml.
	  This fixes bug #55856.

2004-03-20  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextWriter.cs : Fixed indentation on CDATA. This fixes bug #55828.

2004-03-19  Atsushi Enomoto <atsushi@ximian.com>

	* XmlImplementation.cs : HasFeature() returns true when strVersion
	  is null.

2004-03-16  Atsushi Enomoto <atsushi@ximian.com>

	* XmlWhitespace.cs : Fixed WriteTo(). Whitespace nodes should be 
	  written regardless of document's PreserveWhitespace.

2004-03-16  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocumentNavigator.cs : Value should return concatenated string for 
	  sequential text nodes. Considered detached nodes, the result of 
	  MoveToParent() should be checked.

2004-03-15  Atsushi Enomoto <atsushi@ximian.com>

	* XmlReader.cs : ReadInnerXml()/ReadOuterXml() should not bork when
	  the reader is on EndElement. Patch by Jean-Marc Andre.

2004-03-14  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocumentNavigator.cs : as for namespace node "xml", MS.NET seems
	  to return attribute node. It affects on IHasXmlNode.GetNode() and
	  SelectNodes()/SelectSingleNode().

2004-03-04  Atsushi Enomoto <atsushi@ximian.com>

	* XmlImplementation.cs : fixity fix (I need NUnit runnable ;)

2004-03-04  Atsushi Enomoto <atsushi@ximian.com>

	* XmlImplementation.cs : forgot to commit (renaming internal case)

2004-03-04  Atsushi Enomoto <atsushi@ximian.com>

	* XmlDocument.cs : Implementation should not return null.

2004-02-25  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextWriterOpenElement.cs : Reset() should reset _all_ fields.
	  This fixes indentation bug.

2004-02-19  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextWriter.cs : Fixed bugzilla #54554 (incorrent end tag output).

2004-02-16  Atsushi Enomoto <atsushi@ximian.com>

	* DTDAutomata.cs,
	  DTDObjectModel.cs,
	  DTDReader.cs,
	  DTDValidatingReader.cs : made classes internal.
	* XmlDocument.cs : removed extra FIXMEs.
	* XmlNamedNodeMap.cs,
	  XmlResolver.cs,
	  XmlUrlResolver.cs : 
	  Fixed incorrect method signature.

2004-02-13  Atsushi Enomoto <atsushi@ximian.com>

	* DTDObjectModel.cs, DTDReader.cs, DTDValidatingReader.cs : 
	  say goodbye to sys.collections.specialized.
	  (replaced the classes in that namespace with ArrayList or Hashtable)

2004-02-12  Atsushi Enomoto <atsushi@ximian.com>

	* XmlReader.cs : For performance reason, XmlTextReader now uses
	  base ReadInnerXml() and don't store currentTag array unnecessarily.
	* XmlTextReader.cs :
	  - Fixed GetAttribute(int) that might cause index out of range.
	  - Now it consumes the text reader by reading blocks, as MS.NET does.
	    Modified GetRemainder(), PeekChar(), ReadChar() and so on.
	  - Now it doesn't create Value string for linked nodes, unless it 
	    is actually required.
	  - some code refactory.

2004-02-11  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextWriter.cs, XmlTextWriterOpenElement.cs :
	  Reduced creation of openlElement. It also saves much memory.

2004-02-10  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNode.cs : ChildNodes should not create XmlNodeListChildren
	  every time. This fix heavily improved performance.

2004-02-10  Atsushi Enomoto <atsushi@ximian.com>

	* XmlAttributeCollection.cs : set owner element as parent on removal
	  events (though they are not "parent" in infoset or dom context)
	* XmlElement.cs : Don't remove attributes twice (raises extraneous
	  removal events).
	* XmlNamespaceManager.cs, XmlNodeChangedEventArgs :
	  Added NET_2_0 members.

2004-02-08  Atsushi Enomoto <atsushi@ximian.com>

	* DTDObjectModel.cs : Limit external entity reference from DTD by 256.
	  foreach elimination.  DTDParameterEntityDeclaration should set Root.
	  Compute attribute default value without raising an error.
	  (for non-error reporting reader)
	* DTDReader.cs : Fixes for the above fixes. foreach elimination.
	* DTDValidatingReader.cs, NameTable.cs, XmlAttribute.cs,
	  XmlAttributeCollection.cs, XmlChar.cs, XmlConstruct.cs,
	  XmlDocumentFragment.cs, XmlDocumentNavigator.cs, XmlElement.cs,
	  XmlEntityReference.cs, XmlNamedNodeMap.cs, XmlNode.cs,
	  XmlText.cs : foreach elimination.
	* XmlDocument.cs, XmlSignificantWhitespace.cs, XmlWhitespace.cs :
	  foreach elimination. Removed unnecesary methods.
	* XmlTextReader.cs : code format refactory. Optimized some methods.
	  foreach elimination. Replaced Stack with string array.
	  Replaced StringBuilder with char array. Removed unnecessary methods.

2004-02-06  Atsushi Enomoto <atsushi@ximian.com>

	* DTDValidatingReader.cs : Fixed MoveToElement() that causes incorrect
	  IsDefault and Depth.
	* XmlAttribute.cs : Fixed .ctor(). Omit more namespace check when 
	  checkNamespace = false.
	* XmlNamedNodeMap.cs : Fixed SetNamedItem() to raise events.
	* XmlAttributeCollection.cs : Reimplemented InsertAfter to use
	  InsertBefore() (similar to XmlNode).
	* XmlDocument.cs : Added internal .ctor().  Reimplemented ReadNode()
	  as recursive, to make event order compatible.
	* XmlDocumentType.cs : Use SetNamedItem() (to raise events).
	* XmlElement.cs : Some refactory.  Fixed SetAttributeNode() with 
	  string name to block prefixed name.
	* XmlEntity.cs : Don't raise events on setting contents.
	* XmlNode.cs : Some refactory. Added raiseEvent argument to internal
	  InsertBefore().
	* XmlEntityReference.cs : related fix for XmlNode change.
	* XmlTextReader.cs : When the reader is on "attributes" of xmldecl or
	  doctype, Depth 1 lower than usual attribute. Split large function.

2004-02-05  Atsushi Enomoto <atsushi@ximian.com>

	* XmlConvert.cs : ToSingle() and ToDouble() should be culture 
	  independent. Patch by Rodolfo Campero.

2004-02-04  Atsushi Enomoto <atsushi@ximian.com>

	* DTDObjectModel.cs : Never expand entity on ScanEntityValue().
	* DTDValidatingReader.cs : XmlDeclaration node requires attributes
	  to be movable.
	* XmlAttribute.cs,
	  XmlDocument.cs,
	  XmlDocumentFragment.cs,
	  XmlElement.cs,
	  XmlEntity.cs,
	  XmlLinkedNode.cs,
	  XmlNode.cs,
	  XmlNotation.cs : 
	  Added namespace checking flag (required for such xml readers
	  that holds Namespaces=false). Now only XmlNode holds LastLinkedNode.
	* XmlDocumentType.cs,
	  XmlEntity.cs,
	  XmlEntityReference.cs : The children of Entity and EntityReference
	  became correct. They now holds parsed nodes, but it is only when
	  they are appended to the document.
	* XmlNode.cs : Modified insertBeforeIntern() to InsertBefore() with
	  boolean checkNodeType argument.  This method also tries to create
	  Entity's and EntityReference's child nodes.  Also added internal
	  RemoveChild() with boolean checkNodeType argument.
	* XmlNodeReader.cs : Quick hack for ResolveEntity() that became 
	  broken with these changes. use InnerXml as input to entityReader.
	* XmlTextReader.cs : XmlDeclaration's value LocalName should be the
	  same as Name.  The names of DTD's pseudo attributes should be empty.
	  Fixed DTD node's Depth (was regarded as attribute value's depth).

2004-02-03  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextReader.cs, DTDReader.cs : fixity fix ;)

2004-02-03  Atsushi Enomoto <atsushi@ximian.com>

	* ChangeLog : Fixed incorrect description that should be written for
	  DTDValidatingReader.cs but written for DTDReader.cs.
	* DTDValidatingReader.cs : Fixes described in the last DTDReader fix.

	* XmlChar.cs,
	  XmlConstructs.cs : Made XmlChar and XmlConstructs equivalent and
	  replaced XmlChar with XmlConstruts, renaming "XmlChar" to 
	  "XmlCharCompact" and "XmlConstructs" to "XmlChar". 
	  (XmlChar will be used for compact framework.)
	* DTDReader.cs, XmlParserInput.cs, XmlTextReader.cs : 
	  XmlChar related changes.  Support for surrogate pair.
	  It cannot use TextReader's peek anymore (for surrogate pair).
	  Character range check for PI value, attribute value, text
	* XmlTextWriter.cs : Change openElements from Stack to ArrayList.
	  (It calls ToArray() every time.)

2004-02-03  Alon Gazit <along@mainsoft.com>
	* XmlNamedNodeMap - now Item(int index) returns null for nodeList.Count
	  instead of throwing ArgumentOutOfRangeException.

2004-02-03  Atsushi Enomoto <atsushi@ximian.com>

	* XmlChar.cs : now GetPredefinedEntity() returns int and -1 for not
	  predefined entity names.
	* DTDObjectModel.cs : DTDxxxCollection now derives from 
	  - DTDCollectionBase that derives from DictionaryBase.
	  - "Literal value" and "replacement text" are handled differently.
	  - Throw XmlException when external entity could not be resolved. 
	  - Return ReplacementText for EntityValue.
	* DTDReader.cs :
	  - Support IXmlLineInfo.
	  - Fixed IGNORE section handling to be more strict.
	  - Compute replacement text on reading entity declarations.
	  - Don't expand char references before getting literal entity value.
	  - Check not allowed parameter entity inside internal subset.
	* DTDValidatingReader.cs :
	  - Added ValidateWhitespaceNode() to check whitespace's Validity
	    Constraints on external elementdecl and standalone document.
	  - When invalid data against its datatype was found, don't throw
	    parse error.
	  - Other code refactory.
	* XmlTextReader.cs : 
	  - Check for invalid Text pattern "]]>" should not depend on line 
	    info since it might not be supported.
	  - Check referenced character's validity (WFC).

2004-01-28  Atsushi Enomoto <atsushi@ximian.com>

	* DTDReader.cs : Added Normalization.  Parameter Entity declaration
	  should block invalid characters. (GEDecl should be fixed as well.)
	* XmlConstruct.cs : Should allow surrogate chars.
	* XmlNotation.cs : When prefix is empty (i.e. almost all cases) 
	  Name should not add ':'. Patch by Boris Kirzner.
	* XmlTextReader.cs : Modified private ReadCharacterReference() to
	  return the character (or -1 when should not return anything).
	  Now Text character reference are checked their character range.
	  Set DTDReader.Normalization as well as the reader itself.

2004-01-28  Atsushi Enomoto <atsushi@ximian.com>

	* DTDReader.cs : Make sure that parameter entities are not allowed
	  inside internal subset unless it appears as a markupdecl.
	* DTDValidatingReader.cs : ENTITY or ENTITIES type attributes must have
	  a value that indicates *unparsed* entity (i.e. NDATA required).

2004-01-26  Atsushi Enomoto <atsushi@ximian.com>

	* XmlTextWriter.cs : quick performance fix.
	  Reduced memoty allocation (e.g. 12% when writing XMLSchema.xsd.)

2004-01-26  Atsushi Enomoto <atsushi@ximian.com>

	* DTDObjectModel.cs :
	  - DTDNode's BaseURI should not always refer to that of DTD's.
	  - Use absolute URI's .ToString() instead of AbsolutePath.
	* DTDReader.cs : Throw XmlException for illegal character references.
	* DTDValidatingReader.cs :
	  - Share XmlResolver when the actual reader is XmlTextReader.
	    (MS's XmlValidatingReader and XmlTextReader do this.)
	  - Added its own EntityHandling property.
	* XmlValidatingReader.cs : Share XmlResolver with XmlTextReader.
	* XmlReader.cs,
	  XmlTextReader.cs : Added new NET_2_0 members.
	* XmlElement.cs : Removed extra lines (caused by XmlTextWriter bugs).
	* XmlEntityReference.cs : Forgot to add, the real fix by Boris.

2004-01-23  Atsushi Enomoto <atsushi@ximian.com>

	* XmlWriter.cs, XmlTextWriter.cs :
	  Several namespace related fixes.
	  - Current element's NamespaceURI should be immediately available
	    after the call of WriteStartElement() for LookupPrefix(), so 
	    AddMissingElementXmlns() only affects on output. This is 
	    now identified by shouldCheckElementXmlns field.
	  - Attribute's overraped xmlns should be ignored for LookupPrefix(),
	    Especially, when the owner element is written with the default
	    namespace. HOWEVER, the attribute should be *written*. This is
	    identified by shouldAddSavedNsToManager field.
	  - In AddMissingElementXmlns(), non-empty prefix namespace was not
	    checked user-written attributes.
	  - XmlWriter.WriteAttributeString() never supplies namespace URI for
	    xmlns attributes for other versions than NET_1_0. Instead, added
	    ns check logic in WriteStartAttribute() only with NET_1_0.
	  - WriteEndAttribute() should reject zero-length namespace for 
	    non-default xmlns declarations.
	  - LookupPrefix() should reject argument null and empty.

	(added 2004-01-24 : forgot to mention more)
	  - WriteAttributeString() w/o namespace should supply null, not ""
	  - Added .NET 1.2 members.
	  - Regard any name with "xml" prefix as in "namespace for XML".

2004-01-22  Atsushi Enomoto <atsushi@ximian.com>

	* XmlElement.cs : Reverted previous fix since it broke monodoc web 
	  service.

2004-01-20  Atsushi Enomoto <atsushi@ximian.com>

	* XmlNode.cs : When adding a node to child list, it should reject its
	  ancestors. Patch by Boris Kirzner.
	* XmlNodeReader.cs : Related fix to the fix above. It should not move
	  to children of XmlEntityReference nodes.
	* XmlTextWriter.cs : FixedWriteStartElement() not to write default
	  namespace when ns is null (while ns is "", it writes default ns).
	* XmlElement.cs : Fixed WriteTo() to call WriteStartElement(localName)
	  when NamespaceURI is an empty string.

2004-01-14  Atsushi Enomoto <atsushi@ximian.com>

	* XmlAttribute.cs : when set a value, it is no longer default 
	  (even if the value is the same as default value).
	* XmlAttributeCollection.cs : Remove() should recover default attribute
	  value to default, not specified value.
	  Patch by Boris Kirzner (modified a bit)
	* XmlDocument.cs : Reference to undeclared entity is not allowed in
	  Load(), while allowed in ReadNode(). Added such distinguishing logic.

2004-01-13  Atsushi Enomoto <atsushi@ximian.com>

	* XmlValidatingReader.cs : Throw exception only in case of errors.
	  Added NET_2_0 Evidences property.

2004-01-12  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlElement.cs : Fixed .ctor(). Default attribute was not treated as
	  Specified = false. Patch by Boris Kirzner.

2004-01-11  Atsushi Enomoto <atsushi@ximian.com>

	* XmlException.cs : Fixed incorrect .ctor signature.
	* XmlParserInput.cs : Fixed in sync with the above fix.

2004-01-08  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlAttribute.cs, XmlElement.cs : 
	  Fixed incorrect protected .ctor modification.

2004-01-08  Nick Drochak <ndrochak@ieee.org>

	* DTDValidatingReader.cs: Removed unused variable
	
2004-01-07  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlNamespaceManager.cs : Implemented .NET 1.2 methods that take
	  atomizedNames argument.
	* XmlTextReader.cs : Use new namespace manager methods.
	  Reduced NameTable.Add().
	* DTDObjectModel.cs : fixed incorrectly commented-out line.

2004-01-07  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlAttribute.cs, XmlDocument.cs, XmlElement.cs :
	  set_Prefix should atomize to name table.
	  Avoided extraneous atomization attempt a bit.

2004-01-07  Atsushi Enomoto  <atsushi@ximian.com>

	* DTDObjectModel.cs, DTDReader.cs, XmlSecureResolver.cs :
	  avoiding obvious exception.
	* DTDReader.cs, XmlTextReader.cs : Some optimization. 
	  Avoided extraneous PeekChar() and reduced name string creation.

2004-01-05  David Sheldon <dave-mono@earth.li>
  
  * XmlTextReader.cs: Fixed constructors taking string url to not
    loose the absolute part of the path.

2004-01-04  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlDocument.cs : Fixed Load() to set XmlResolver correctly. Patch
	  by Benjamin Jemlich.
	  Assure closing XmlTextReader which are internally used.

2004-01-03  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlTextWriter.cs : trivial character-case fix
	* XmlUrlResolver.cs : It downloads network stream content at 
	  GetEntity() call. You can try like below:
	    for (int i=0;i<100;i++) u.GetEntity(url, null, typeof(Stream));

2003-12-23  Atsushi Enomoto  <atsushi@ximian.com>

	* XmlNamedNodeMap.cs : Fixed internal SetNamedItem(node, pos) to set
	  replacing node correctly. This fixes bug #52453.

2003-12-21  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs, XmlElement.cs, XmlNode.cs :
	  GetElementsByTagName() - Fixed bugzilla #52419, refactored, 
	  and moved private implementation methods to XmlNode class.

2003-12-20  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriter.cs :
	  Element's namespace should be escaped as usual attribute.

2003-12-18  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriter.cs : Indentation between xmldecl and doctype.
	* DTDValidatingReader.cs : AttList null reference fix.

2003-12-16  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs : Validity check and entity expansion were
	  incorrectly mixed.
	* DTDObjectModel.cs, DTDReader.cs, XmlInputStream.cs :
	  Going to remove XmlInputStream. XmlStreamReader might be replacable.

2003-12-15  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XPathDocument2ChangedEventHandler.cs : fixed incorrect argument.
	* Moved UpdateEventHandler.cs and XmlUpdateEventArgs.cs to sqlxml.

2003-12-15  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : BaseURI was broken. This fixes bug #52098.

2003-12-15  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlUrlResolver.cs : GetEntity() does not return direct network stream
	  that may hold up connection. Now it reads up all the content stream.

2003-12-12  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlAttributeCollection.cs,
	  XmlElement.cs : Fixed bug #51415.
	  When adding attribute to an element using Attributes, it failed.

2003-12-11  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : Fixed ReadNode() to call AppendChild() to document
	  after setting all attribute nodes. Modified ReadNode() to handle
	  Depth comparison and error handling (!= to <). It allows MS's
	  SgmlReader bug that returns incorrect Depth.

2003-12-11  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentNavigator.cs : Fixed MoveToNextAttribute (and 
	  MoveToNextNamespace) that might result in NullReferenceException.
	  patch by Sanjay Gupta. This fixed bug #51941 (and possibly #51415)

2003-12-07  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlUrlResolver.cs : Update with recent System.Uri change. This fixes
	  bugzilla #51808 (patch by Jeroen Zwartepoorte, a bit modified).

2003-12-04  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriter.cs : WriteComment() should block "--", not full "-->".
	* XmlDocumentNavigator.cs : Added null check in MoveToNextAttribute().
	  This may fix bug #51415.

2003-11-28  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlAttribute.cs : set_Prefix checks value when existing is "xmlns".

2003-11-28  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlWriter.cs : patch by Gonzalo (I modified a bit). WriteNode()
	  shouldn't expect non-empty element content. This will fix bug #48287.

2003-11-28  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriter.cs : When element's namespace should be overwritten by
	  one of its attribute, if exist as such. This fixes bug #51305.

2003-11-24  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs : Fixed ReadContent() which may result in 
	  invalid additional Text node.

2003-11-24  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriter.cs : 
	  On WriteProcessingInstruction(), ArgumentException() is expected ;-)

2003-11-24  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriter.cs :
	  WriteProcessingInstruction() should check name validity.
	  AddMissingElementXmlns() should allow namespace emission even if it
	  is identical to existing one.

2003-11-22  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : Fixed ReadInnerXml(). This fixes bug #51267.

2003-11-20 Eran Domb <erand@mainsoft.com>

	* XmlTextWriter.cs (WriteStartAttribute) : Check if the ket already exists in the newAttributeNamespaces table 
	  before trying to add it to the table.

2003-11-19  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs : Replaced entity should not treat whitespaces
	  as significant.
	* XmlNode.cs : Removed extraneous MonoTODOs.

2003-11-17  Jackson Harper  <jackson@ximian.com>

	* XPathEditor.cs: .net 1.2 only
	
2003-11-17  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* AsyncXmlTextWriter.cs, IXPathChangeNavigator.cs, IXPathEditor.cs,
	  IXPathNavigator.cs, IXmlDataEvidence.cs, IXmlNamespaceResolver.cs,
	  UpdateEventHandler.cs, XPathChangeNavigator.cs, XPathDocument2.cs,
	  XPathDocument2ChangedEventAction.cs, 
	  XPathDocument2ChangedEventHandler.cs, XPathEditor.cs,
	  XPathNavigator2.cs, XmlChangeFilters.cs, XmlInfoItemType.cs,
	  XmlNamespaceScope.cs, XmlNodeChangeType.cs, XmlQualifiedNameTable,cs,
	  XmlQueryDialect.cs, XmlUpdateEventArgs.cs
	  : Added .NET 1.2 classes (for convenience of ObjectSpaces stubbing).

2003-11-02  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentNavigator.cs : Fixed MoveToFirstChild() and MoveToNext()
	  to skip XmlEntityReference.
	* XmlTextWriter.cs : Fixed AddMissingElements() and 
	  WriteStartAttribute() not to emit extraneous xmlns.

2003-11-02  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriter.cs : Skip multiple xmlns when element and any of 
	  attributes have the same xmlns values.
	  WriteEndElement() allows open attribute (calles WriteEndAttribute()).
	  Indentation should be inserted between ">" and "</xxx>" .

2003-11-02  Pedro Martnez Juli  <yoros@wanadoo.es>

	* XmlConvert.cs: Only parse INF/-INF/NaN. Other Infinty or NAN
	numbers are parsed with the respective ::Parse method.

2003-11-01  Pedro Martnez Juli  <yoros@wanadoo.es>

	* XmlConvert.cs: Revert my last change. INF and -INF must be
	processed here because Double::Parse and Single::Parse doesn't
	understand anything of parsing [-]INF.

2003-11-01  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : Save(Stream) should not close the stream.

2003-10-25  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDReader.cs, DTDValidatingReader.cs, XmlInputStream.cs,
	  XmlTextReader.cs : More cleanup.
	* XmlDocument.cs : Removed CheckName(). Code cleanup.
	* XmlElement.cs : .ctor() now adds default attributes (if required).
	* XmlAttribute.cs, XmlElement.cs, XmlEntity.cs, XmlEntityReference.cs,
	  XmlNotation.cs : Now uses OwnerDocument's NameTable.

2003-10-25  Pedro Martnez Juli  <yoros@wanadoo.es>

	* XmlConvert.cs: Support for the sign in double and single. The
	processing of the infinites and nan numbers are more complex than
	comparing to "INF" so we must let Double::Parse and Single::Parse
	doing their job.

2003-10-25  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs : Now it handles whitespace entity as
	  significant.
	* XmlConvert.cs : As to NIST testcases, exponential support on single
	  and double floating point numbers.
	* XmlValidatingReader.cs : If it IsDefault, then line number and line
	  position returns 0.

2003-10-25  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDReader.cs,
	  XmlConstructs.cs,
	  XmlTextReader.cs,
	  XmlWriter.cs : Fixed incorrect access modifier.
	* XmlTextWriter.cs : Imported state variable from XmlWriter.
	* DTDValidatingReader.cs : Removed extraneous MonoTODO.
	* XmlConvert.cs : Implemented ToTimeSpan().
	  Modified ToDateTime() to reuse the same array.

2003-10-19  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlAttributeCollection.cs : Fixed synchronization stuff.
	* XmlConvert.cs : Added two FromBinHexString() methods.
	* XmlTextReader.cs : Modified to use one of the above method.
	* XmlValidatingReader.cs : XsdValidatingReader.XmlResolver will be 
	  disabled (in the next commit), so resolver won' be set to it.
	  Attempt to validate against XDR now throws NotSupportedException.

2003-10-19  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlChar.cs : added WhitespaceChars, used in common.
	* XmlConvert.cs,
	  XmlDeclaration.cs,
	  XmlParserInput.cs,
	  XmlTextReader.cs,
	  XmlTextWriter.cs : String.Trim()
	* XmlConvert.cs : shifted XmlConstructs to XmlChar.
	* XmlTextReader.cs : Implemented Normalization.

2003-10-19  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNode.cs : GetPrefixOfNamespace() also contained a bug similar to
	  GetNamespaceOfPrefix() fixed at 2003-10-13.
	* XmlTextReader.cs : ReadBase64() should keep incomplete base64 block
	  which remained by previous call of this method.
	* XmlUrlResolver.cs : Added assertion for file Uri path's absoluteness.
	* XmlValidatingReader.cs : Notice about intention of XDR won't be
	  supported (at least in Mono 1.0).

2003-10-18  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : CloneNode() does not copy PreserveWhitespace.
	* XmlWriter.cs : Calling WriteNode() with XmlReader whose state is
	  XmlDeclaration now calls WriteProcessingInstruction(). This fixes
	  testcase XmlWriterTests.WriteNodeFullDocument().
	* XmlTextWriter.cs : Added LAMESPEC comments related to above.

2003-10-13  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : Fixed bugzilla #49607. Save() outputs XML 
	  declaration even though there is no XmlDeclaration child.
	* XmlTextReader.cs : Fixed Init() so that ResetState() should work.

2003-10-13  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriter.cs : Implemented WriteSurrogateCharEntity().
	  Reverted my recent extraneous check in WriteStartAttribute().

2003-10-13  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNode.cs : GetNamespaceOfPrefix() should check Attributes existence.
	  And it should throw ArgumentNullException.

2003-10-13  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlAttribute.cs : Fixed InnerText that did not removed its content
	  if there is two or more children.
	* XmlNode.cs : XmlNode.cs : Fixed bugzilla #49580 (1)to return "",
	  (2)not to compare NodeType for detached nodes, (3)optimization to
	  compare element's prefix.
	* XmlSecureResolver.cs : Removed extraneous members.

2003-10-09  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* Added DTDReader.cs. It is almost importation of XmlTextReader.
	* DTDObjectModel.cs :
	  - More .NET-ism. Properties took place of fields.
	  - Imported PE set from XmlTextReader. Added location info.
	  - Added DTDEntityBase common to PE and GE.
	  - More correct text declaration handling with new XmlTextReader.
	* DTDValidatingReader.cs :
	  - Now uses entity resolving XmlTextReader to validate attributes
	    correctly. Implemented standalone
	  - Standalone and default related validity constraints check.
	* XmlImplementation.cs: Implemented HasFeature().
	* XmlNode.cs : Implemented Supports().
	* XmlNodeReader.cs : Modified to use XmlTextReader.SkipTextDeclaration()
	* XmlParserInput.cs : Removed extraneous members.
	* XmlTextReader.cs :
	  - All DTD related functionality now goes to DTDReader.cs
	  - It became old simple TextReader input style.
	  - Implemented GetRemainder().
	  - Implemented ReadBase64(), ReadBinHex() and ReadChars(), using 
	    additional new private method ReadUntilEndTag().
	  - Removed incomplete MaybeTextDecl and added SkipTextDeclaration().
	    ReadXmlDeclaration() now became simple.
	  - More strict entity reference check at SetEntityReferenceProperty()
	  - Removed extraneous members.
	* XmlWriter.cs : WriteNode(XmlNodeType.None) does not raise error.

2003-10-09  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextReader.cs: when we get an unexpected EOF in ReadContent, set
	the state before throwing the exception if depth > 0.

2003-10-04  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlAttribute.cs : Removed extraneous MonoTODO.
	* XmlTextWriter.cs : Implemented WriteBinHex() and WriteChars().
	  WriteStartElement() and WriteStartAttribute() should ignore Prefix
	  if namespace uri is not specified.

2003-10-04  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentFragment.cs,
	  XmlElement.cs,
	  XmlEntityReference.cs : Removed extraneous MonoTODO.
	* XmlNode.cs : Implemented Normalize().
	* XmlNodeReader.cs :
	  - AttributeCount and HasAttributes should return its owner element's
	    value, to be consistent with XmlTextReader.
	  - Fixed Depth to reflect correct attribute/attribute-value iteration.
	  - simplified ownerElement and HasValue.
	  - Prefix won't return null.
	  - MoveToElement() should also work against attribute value nodes.
	* XmlTextReader.cs : MoveToElement() should return false if it is
	  positioned at element itself.

2003-10-04  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : Improved SignificantWhitespace handling.

2003-10-01  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlSecureResolver.cs : Implemented basic feature.

2003-10-01  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlUrlResolver.cs : Should work with null type argument.

2003-10-01  Lluis Sanchez Gual <lluis@ximian.com>

	* XmlTextWriter.cs : An attribute can require a prefix for the default
	  namespace, so we need to store the prefix as well as the namespace.

2003-09-30  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs : Simplified to use 
	  XmlSchemaUtil.GetParserContext().
	* XmlValidatingReader.cs : ValidationType.Auto should always use
	  XsdValidatingReader because xsi:schemaLocation might be used.

2003-09-30  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : Attribute value token properties were incorrectly
	  set by the linked node.

2003-09-26  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentNavigator.cs : Fix for bugzilla #48931. MoveToRoot() now
	  considers such case that target node was not adapted to the document.
	* XmlNamespaceManager.cs : GetEnumerator() missed the last pair.
	* XmlTextWriter.cs : use 'as'  instead of 'try..catch'.

2003-09-25 Ben Maurer  <bmaurer@users.sourceforge.net>

	* XmlNode.cs (XPathNodeType): Give more useful debugging message.
	* XmlDocumentNavigator.cs (MoveToPrevious): Needs same checks as
	in MoveToNext.

2003-09-23  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNamespaceManager.cs: Rewrote PopScope() because its namespace
	  recovery was still not enough. Fixed GrowScopes() (incorrect index).

2003-09-21  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : 
	  - Fix for bugzilla #48337 (containing Ben's advice on that).
	  - Added internal XmlTokenInfo classes. Nodes are now handled as token 
	    objects (linked node, attributes and attribute values). Most of the
	    node state properties and iterating methods are changed to refer to
	    the token classes (except for value builder availability). Removed
	    fields which are never used. CompileDTDSubset() is changed in
	    reflection to nodeType field removal.
	  - Fixed Depth that should vary in moving between attributes and/or
	    reading attribute values.
	  - LineNumber and LinePosition now returns more correct location.
	  - Fixed Value that should still return true if its value is an empty
	    attribute value string.
	  - EntityValue is checked WFC constraints even thoug it is not used.
	  - All .ctor() now initializes ReadState as Initial.
	  - Read() should be available for attribute value constructor.
	* XmlAttribute.cs : set_InnerXml() now calls reader's Read().

2003-09-21  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNamespaceManager.cs: PopScope() must retain those namespaces which
	  are added in the scope before PushScope() was called.

2003-09-20 Ben Maurer  <bmaurer@users.sourceforge.net>

	* XmlNamespaceManager.cs: Rewrote. Uses arrays, rather than linked
	lists and removes uses of Hashtable. Results in huge speed gains.

2003-09-19 Ben Maurer  <bmaurer@users.sourceforge.net>

	* XmlConvert.cs: NaN.ToString () != INF.

2003-09-14  Lluis Sanchez Gual  <lluis@ximian.com>

	* XmlTextWriter.cs: Attributes that have a namespace must be always
	  prefixed.

2003-09-13  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriterOpenElement.cs : Changed to receive prefix and localName
	  in .ctor().
	* XmlTextWriter.cs : Changed to use above XmlTextWriterOpenElement.
	  Changed xmlns adding scheme. In detail, 1) WriteStartElement does not
	  add Namespaces immediately, but adds at AddMissingElementXmlns so 
	  that we don't have to have extra check than namespaceManager's
	  LookupPrefix(). 2) Removed writtenAttributes for performance reason
	  since it is no more required.

2003-09-10  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : patch by Jonathan Hogg. Fixed CreateAttribute()
	  that handled xmlns attributes inproperly.

2003-09-08  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNamespaceManager.cs : GetEnumerator() should return all of the
	  available pairs (of prefix and namespace).
	* XmlQualifiedName.cs : Quick fix for NullReferenceException in case
	  of name (or ns) is null. (The description of the immediate previous 
	  changes will be inserted below.)
	* XmlTextWriter.cs : Fixed WriteDocType(). Removed CheckValidName().
	* XmlUrlResolver.cs : Changed not to call WebClient.Dispose() which
	  will release resources it had allocated.

2003-09-01 Ben Maurer  <bmaurer@users.sourceforge.net>

	* XmlDocument.cs (Save): use the encoding of the document, if
	available.

2003-08-24  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlValidatingReader.cs : Implemented SchemaType. Added support for
	  ValidationType.Schema. Added support for XmlResolver. Fixed 
	  ReadTypedValue() not to consume EndElement.

2003-08-19  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentNavigator.cs : Fixed MoveToFirstNamespace() that arose
	  infinite loop.
	* XmlNamespaceManager.cs : Renamed AtomStrEq to AtomicStringEquals.
	  Commented out Console.Error.WriteLine().
	* XmlUrlResolver.cs : Fixed ResolveUri() and GetEntity() to support
	  escape and unescape for relative URI string.

2003-08-19 Ben Maurer  <bmaurer@users.sourceforge.net>

	* XmlParserContext.cs: Make each context inherit next.

2003-08-18 Ben Maurer  <bmaurer@users.sourceforge.net>

	* XmlChar.cs (IsWhitespace): Spare enumerator allocation.
	* XmlTextWriter.cs (WriteWhitespace): Enumerators are very high in
	fat, use low-fat loops instead. Even better, call the function
	inside XmlChar for code reuse.
	* HighWaterStack.cs (added): New class that acts like a Stack, but
	helps with memory allocation.
	* XmlNamespaceManager.cs, XmlParserContext.cs: Rewrote to use
	HighWaterStack.
	* XmlTextReader.cs: Remove orderedAttributesEnumerator variable,
	use a variable that stores the position in the ArrayList.
	
2003-08-18 Ben Maurer  <bmaurer@users.sourceforge.net>

	* XmlTextWriter.cs: Begin diet. String.Format has too much
	saturated fat, lets replace with the fat-free .Write ()
	calls. Effects best seen when Paolo's StreamWriter patch is
	applied.

2003-08-14  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNodeReader.cs : Fixed ReadAttributeValue() that might result in
	  vanishing current node.

2003-08-14  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs : Added SchemaType.
	  Read() Assures to return to element.
	* DTDObjectModel.cs : Removed DTDEntityDeclaration.BaseURI.
	* XmlReader.cs : ReadString() should be virtual in NET_1_1.
	* XmlTextReader.cs : 1) Depth should consider Attribute and its values.
	  Introduced insideAttribute field to support them.
	  2) ReadAttributeValue() should consider empty string.
	* XmlValidatingReader.cs :
	  Fixed several properties which premised as if it was already read.
	  Encoding and Namespaces now throws NotSupportedException for other
	  than XmlTextReader.
	  Implemented ReadTypedValue() based on IHasXmlSchemaInfo.SchemaType.

2003-08-10  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlInputStream.cs : Reverted CanSeek as to return false anyway.

2003-08-10  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDObjectModel.cs : added XmlResolver related members. Added
	  invalid entity recursion logic. Added encodingdecl check on textdecl.
	* DTDValidatingReader.cs : It now implements IHasXmlParserContext.
	* XmlChar.cs : IsPubidChar() should not allow TAB(&#9;).
	* XmlDocumentType.cs : 1) internal CreateDocumentType() was now changed
	  to receive DTDObjectModel to support other than XmlTextReader. 
	  2) Most of its public member is now based on DTDObjectModel.
	* XmlDocument.cs : 1) Synchronous change with XmlDocumentType.
	  2) ReadNode() now considers XmlParserContext's DTDObjectModel for
	  other than XmlTextReader (such as XmlValidatingReader).
	* XmlNode.cs : code cleanup only.
	* XmlParserInput.cs : added HasPEBuffer, used to check illegal nesting.
	* XmlTextReader.cs : 1) Illegal entity reference check logic was moved 
	  from ReadContent() to SetEntityReferenceProperties(). 2) Indentation
	  change on ReadEntityReference(). 3) ReadAttribute() now checks
	  reference to external entity reference. 4) Added textdecl encoding
	  check. 5) DTDObjectModel fields are now set correctly. 6) added
	  PERef markup nest check. 7) If PEDecl was not found, it might be WFC
	  violation, not only be VC violation. 8) ReadEntityDecl() now receives
	  its declared entity itself, and this method checks IsInternalSubset.
	* XmlValidatingReader.cs : 1) Added GetInternalPerserContext().
	  2) ValidationType.None should be the same as Auto, not DTD (in the
	  future it should keep xml schema's default values).

	Pending Stuff in XmlTextReader which breaks some NUnit tests;
	  1) SetEntityReferenceProperies() has check for illegal references.
	  2) ReadAttribute(bool) has similar check for illegal references.

2003-08-09  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDAutomata.cs : Fixed (modified or added) TryEndElement() of choice,
	  sequence and oneOrMore. Fixed DTDChoiceAutomata.TryStartElement().

2003-08-09  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : Checked and fixed all TryExpandPERef() invokation 
	  and supplied SkipWhitespace() as they needed. It broke monodoc.
	  Fixed ReadEntityValueDecl() to get correct value.

2003-08-08  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlInputStream.cs :
	  Fixed Initialize() that might result in incorrect buffer.
	  CanRead and Position should consider buffer (especially when the
	  stream was EOF).
	  CanSeek should use stream's CanSeek.

	* XmlChar.cs : added GetPredefinedEntity().
	* DTDObjectModel.cs :
	  - Modified ComputeDefaultValue() to use it.
	  - Fixed NormalizedDefaultValue not to expect parsed value as string.
	  - ResolveExternalEntity now detects invalid standalone specification.
	  - DTDParameterEntityDeclaration.Value is now changed to property and
	    keep its resolved value of literal value of external value using
	    new Resolve (XmlResolver) method (called only by XmlTextReader).
	* DTDValidatingReader.cs :
	  - It now handles entity-expanded Whitespace and SignificantWhitespace
	    correctly. Does not raise unexpected text not allowed error.
	  - Fixed MoveToAttribute()s to move internal reader correctly, and
	    should be able to move in other cases than on element node.
	  - On Read()ing document type and ResolveEntity(), it now sets
	    XmlResolver on text reader.
	  - On ID constraints check and type verification, it now uses
	    normalized attribute or its tokenized value(s).
	  - Fixed ValidateAttributes() to add default values when 
	    ValidationType is Auto.
	* XmlParserContext.cs : added internal Dtd setter.
	* XmlParserInput.cs :
	  InsertParameterEntityBuffer() should add surrounding whitespaces.
	  Removed unused code block.
	* XmlTextReader.cs :
	  - Modified ReadReference(), ReadAttribute() and Dereference() to use
	    XmlChar.GetPredefinedEntity().
	  - When returning entity reference, it checks extity declaration
	    existence in certain conditions.
	  - ReadAttribute() now skips general entity replacement on reading
	    entity value.
	  - ReadText() now handles whitespace texts as XmlNodeType.Whitespace.
	  - ReadXmlDeclaration() holds isStandalone, which might be used in
	    entity reference's well-formedness check.
	  - internal 'DTD' now uses XmlParserContext.Dtd.
	  - isInternalSubset was meaningless. Now uses input stack's Count.
	  - Added some required SkipWhitespace().
	  - Several parameter entity handling changes.  Added GetPEValue(name).
	    TryExpandPERef() now uses ImportAsPERef(). ReadParameterEntityDecl()
	    now uses its Resolve() when it was external PE.  Now it uses value
	    buffer instead of currentTag, to efficiently read (included) PE.
	    CompileDeclaration() now uses ImportAsPERef instead of ExpandPERef().
	    ImportAsPERef() simply inserts the value to currentInput.
	    ReadEntityDecl() also uses value buffer.   Removed non-used methods.
	  - Default attributes are now stored in normalized form.
	  - Dereference() now considers non-expanding predefined entities.
	* XmlValidatingReader.cs : now holds Schemas, and ValidationType.Auto
	  is more correctly supported.

	* XmlAttributeCollection.cs :
	  When removing default attribute, it immediately inserts the attribute.
	  RemoveAll() should consider default (not-removable) attributes.
	* XmlDocument.cs :
	  Should have its default XmlResolver. Added Internal Resolver.
	  Some Load() should use its XmlResolver.
	  ImportNode() should copy its children in node level, not value level.
	  It also have to consider not to copy default attribute on importing
	  XmlElement.
	* XmlDocumentType.cs : Now uses document's XmlResolver to read DTD.
	* XmlAttribute.cs,
	  XmlDocumentFragment.cs.
	  XmlElement.cs : use XmlResolver on InnerXml. Removed some MonoTODO.
	* XmlNodeReader.cs : GetInternalParserConext() should provide its DTD.
	  ResolveEntity() uses XmlResolver on entityReader.

2003-08-07  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDObjectModel.cs :
	  - Added validation error check (and AddError(), Errors).
	  - Fixed ComputeDefaultValue() to handle various references correctly.
	  - DTDEntityDeclaration.EntityValue became property, and added
	    LiteralEntityValue. The new one holds resolved value.
	    Added ResolveExternalEntity(). It now required root in .ctor().
	* DTDValidatingReader.cs :
	  - Now it handles namespaced attributes (as input to xsd validator).
	  - Added XmlResolver property as usual XmlReader.
	  - Added currentEntityHandling field so that it can stand changing
	    XmlValidatingReader's EntityHandling dynamically.
	  - FilterNormalization() now requires name for getting datatypes and
	    can stand for non-current attribute normalization.
	  - Splitted ReadContent() from Read() that can be called recursively
	    when expanding entities.
	  - Now handles Entity not found error *after* resolution of entities,
	    as MS.NET does.
	  - Read()ing DTD checks its Errors and raises validation error events.
	    In some situations, DTD parsing may detect VC error, not WFC error.
	    It also strictly checks NData existence.
	  - Handling of entity-resolved text is a bit changed and Read()ing
	    element, endElement, cdata now changed to switch collecting text
	    and collected text.
	  - content type ANY should allow texts.
	  - Added enumerated attribute validity check.
	  - Added Name/Names creation rule check for ID/IDREF/IDREFS.
	  - Added entity existence check for ENTITY/ENTITIES attributes.
	  - Added NMTOKEN creation rule check for NMTOKEN/NMTOKENS.
	  - Fixed to remove extraneous #REQUIRED check.
	  - Contributing default attribute is now only applied to the case
	    ValidationType is DTD or None.
	  - ResolveEntity() now handles external entities.
	    Added Mono.Xml.IXmlParserContext interface support.
	* XmlDocumentType.cs : Fixed to use BaseURI to build DTD model.
	* XmlTextReader.cs :
	  - Fixed ReadAttributeValue() to reset returnEntityReference.
	  - Added bool MaybeTextDecl only for ResolveEntity().
	  - Fixed ReadWhitespace(). In fact its value is considered even if it
	    is in the end of the XML.
	  - Fixed ReadXmlDeclaration(). Now skips text declaration.
	  - CompileDTDSubset() now checks IGNORE/INCLUDE section end balances.
	  - ReadContentSpec() should set OrderType = OR for mixed model.
	    Fixed to set content element name correctly.
	  - ImportAsPERef() now skips Text declaration.
	  - Type of enumerated default attributes shold be string.
	  - Undeclared PE error is now handled as DTD's VC error, not
	    XmlTextReader's WFC error.
	* XmlValidatingReader.cs : BaseURI should provide that of 
	  original XmlReader's when read was not started yet.
	  Fixed XmlResolver to delegate to DTDValidatingReader.

	* XmlAttributeCollection.cs : Acquiring attList declaration is
	  insufficient especially in case of lack of elementdecl.
	* XmlChar.cs : (Maybe this is compact than XmlConstructs.)
	  added IsWhitespace(),IsNCNameChar(),IsName(),IsNCName(),IsNmToken(),
	  IsPubid(). Copies IsValidIANAEncoding() from XmlConstructs.

	* XmlInputStream.cs : Removed "version" declaration check. It should
	  be done by XmlTextReader.

	* XmlNodeReader.cs : added internal GetInternalParserContext() and now
	  it can be used in XmlValidatingReader.ResolveEntity().
	  ResolveEntity() sets XmlTextReader.MaybeTextDecl.

2003-08-05  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs :
	  Added full ExpandEntities support for text node and entity reference
	  node (although require many usage tests). Almost all methods and
	  properties now have currentTextValue != null check, that field means
	  that there are cached (entity-resolved) text.
	  Implemented default attribute aware XmlLang and XmlSpace.
	* XmlNodeReader.cs : ResolveEntity() should not require DTD.

2003-08-03  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs,
	  XmlNodeReader.cs,
	  XmlReader.cs,
	  XmlTextReader.cs,
	  XmlValidatingReader.cs : fixed pragma USE_VERSION_1_0 to NET_1_0.

2003-08-03  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDObjectModel.cs : Added BaseURI (but not used yet).
	  DTDAttListDeclaration.ctro() now requires root dtd object model.
	* DTDValidatingReader.cs : Read() now expands EntityReference if
	  entity handling of validating reader is ExpandEntities.
	* XmlReader.cs,
	  XmlTextReader.cs,
	  XmlNodeReader.cs,
	  XmlValidatingReader.cs : Implemented "virtual" ReadInnerXml and
	    ReadOuterXml which are modified in MS.NET 1.1.
	* XmlConstructs.cs : added int version of IsValid, IsInvalid,
	  IsContent, IsMarkup and IsNCNameStart.
	  Fixed int version of IsXXX() to check array index range. 
	  Added IsValidName (string).
	* XmlTextReader.cs :
	  - Read() handles document with non document element as an error.
	  - ReadText() and ReadCharacterReference() checkes illegal characters.
	  - ReadEntityReference() checks name validity.
	  - ReadProcessingInstruction() rejects such name that starts with
	    "xml" ignoring case, and checks attributes more strictly.
	  - ReadDeclaration() rejects unrecognized kind of declaration.
	  - In many places, added "required whitespace" check in DTD markup.
	  - DTD content model now disallows mixing use of '|' and ','.

2003-08-02  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentFragment.cs : I missed to add it in relation to the
	  previous XmlParserContext patch. Similar to XmlAttribute/XmlElement.
	* XmlNodeReader.cs : removed some TODO attributes.
	* DTDValidatingReader.cs,
	  XmlValidatingReader.cs : Implemented ResolveEntity().

2003-07-31  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlParserContext.cs,
	  XmlAttribute.cs,
	  XmlElement.cs : Added internal Dtd and new internal XmlParserContext
	  .ctor() that takes DTDObjectModel. And then rewrote classes which 
	  uses DTD information. Changed DocTypeName, InternalSubset, PublicId
	  and SystemId to use DTDObjectModel.
	* DTDObjectModel.cs :
	  Added DTDObjectModel.InternalSubsetHasPEReference.
	  Added DTDEntityDeclaration.IsInternalSubset.
	* XmlTextReader.cs :
	  Added internal GetInternalParserContext (to build entity reader).
	  Added private isIntSubset to check if the DTD subset is internal or
	  external, which might affect well-formedness constraints.
	  Changed GenerateDTDObjectModel to return the resulting DTD model.

	* XmlEntityReference.cs : implemented BaseURI.
	* XmlNodeReader.cs :
	  - Implemented ResolveEntity() and CanResolveEntity(). In fact
	    it leads too many changes on almost all methods and properties,
	    since they now must be aware of entityReader.
	  - fixed ownerElement that might be used to return from attribute 
	    value to the element through parent attribtues.
	  - Now changed indexer to call GetAttribute() and moved actual logic
	    to the matching GetAttribute() methods.

2003-07-29  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNode.cs : fixed internal ConstructNamespaceManager() for InnerXml
	  not to create extraneous xmlns="".

2003-07-28  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs : (Read,ValidateAttributes,ReadAttributeValue)
	  attribute declaration should be got independently of elementdecl.
	* XmlAttribute.cs :
	  Added internal SetDefault() to mark as default.
	  Removed InnerText implementation that is just the same as XmlNode.
	* XmlDocument.cs : id shouldn't be removed from table at 'trying' to
	  get matching elements.  ReadAttributeNode() now sets default mark.
	* XmlElement.cs : WriteTo() should ignore default attributes.
	* XmlTextWriter.cs : shuold allow valid name char such as digits.

2003-07-27  Piers Haken	<piersh@friskit.com>

	* XmlQualifiedName.cs : fields should never be null

2003-07-27  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentFragment.cs : added XPathNodeType indicating Root.

2003-07-27  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs (GetIdenticalAttribute): restored OwnerElement.IsRooted

2003-07-27  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlLinkedNode.cs : added internal IsRooted.

2003-07-26  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs :
	  - Added ID support in ValidateAttributes().
	  - More refined ReadAttributeValue() support for non-expanding entity
	    situation
	  - It should handle LocalName, Name, Prefix, NamespaceURI and Value
	    correctly when the reader is on each of the value nodes of an
	    attribute. Now XmlDocument.ReadNode() should work well.
	* XmlDocument.cs :
	  - added idTable, AddIdenticalAttribute(), GetIdenticalAttribute() and
	    RemoveIdenticalAttribute()
	  - Implemented GetElementById().
	* XmlAttributeCollection.cs :
	  - added private ownerDocument property and replaced
	    ownerElement.OwnerDocument with it.
	  - Added AdjustIdenticalAttribute() and it is used in SetNamedItem().
	    It calls XmlDocument.{Add|Remove}IdenticalAttribute().
	  - Added RemoveIdenticalAttribute() and it is used in Remove().
	    (I also added AddIdenticalAttribute() but is not used.)

2003-07-26  Duncan Mak  <duncan@ximian.com>

	* XmlDocument.cs (GetIdenticalAttribute): Temporarily remove test
	for OwnerElement.IsRooted to fix the build..

2003-07-26  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentType.cs :
	  modified private DTD to dtd and added internal DTD (the same thing).
	* XmlElement.cs :
	  Fixed SetAttributeNode() to check if specified attribute is already
	  set to the other element. In fact it is W3C DOM's specification but
	  MS.NET 1.0 failed to catch it.
	* XmlTextReader.cs :
	  ReadAttributeValue() should check if the value of the attribute is
	  already read when the whole value is entity reference.
	  Also, Name of text nodes should be "", not "#text"

2003-07-26  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlAttribute.cs : .ctor() shouldallow localName "xml" (not prefix)
	  with http://www.w3.org/XML/1998/namespace.
	* XmlEntity.cs : patch by Aleksey Sanin. InnerText is now supported.
	* XmlNode.cs : InnerText should handle CDATA and whitespaces.
	* XmlTextReader.cs : Should allow " (#PCDATA)* " in ReadContentSpec().
	* XmlTextWriter.cs : Quick fix for accepting (and writing) same-named
	  attributes (as MS.NET does). It isn't good way and I may change it.

2003-07-24  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDObjectModel.cs : Added DTDEntityDeclarationCollection and
	  DTDNotationDeclarationCollection and replaced Hashtables with them.
	  Added NormalizedDefaultValue property for DTDAttributeDefinition.
	* DTDValidatingReader.cs :
	  - It now reads attribute values into value collection. 
	  - Renamed consumedDefaultAttribute to consumedAttribute, and
	    inContent to insideContent.
	  - GetAttribute() should allow reader's other node state than element.
	  - MoveToNextAttribute() should move when reader is placed other than
	    the first attribute.
	  - HandleError() now supports ValidationType.None (i.e. does nothing).
	  - ValidateAttribute() now collects and resolves attribute value 
	    entity references. (On the other hand, it doesn't support
	    EntityHandling.ExpandCharEntity.)
	  - NodeType shouldn't return Attribute after ReadAttributeValue().
	    Now only Text is supported, but must also support EntityReference.
	  - Add FilterNormalization() and partially support Normalization.

2003-07-24  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs :
	  Read() now handles parser context stuff (BaseURI, XmlLang and 
	  XmlSpace) correctly for an empty element.
	  Normalization property now doesn't throw an error. Will be used soon.
	* XmlValidatingReader.cs : added ValidationType.None support (wait for
	  the next DTDValidatingReader update for "not firing event handler).
	* XmlNodeReader.cs : jun. 30th commit seems wrong. It keeps its state.

2003-07-19  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs :
	  changed base class to XmlReader and implemented IXmlLineInfo members.
	  changed .ctor() argument from event handler to validating reader.
	  Removed some #if ... #else ... #endif blocks.
	  Added validation event support for Read() using HandleError().
	* XmlValidatingReader.cs : added internal OnValidationEvent().
	* XmlDocument.cs : ReadNode() now checks reader's state more strictly.

2003-07-19  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlUrlResolver.cs : applied BenM's patch for file uri problem
	  (bug #46610).

2003-07-15  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDValidatingReader.cs :
	  added DTDObjectModel support for non-XmlTextReader XmlReader 
	  e.g. XmlNodeReader (Read() method).
	* XmlDocument.cs :
	  added internal CreateDocumentType(XmlTextReader) and moved
	  ReadDoctypeNode() to XmlDocumentType.ImportFromDTD().
	* XmlDocumentType.cs :
	  added internal .ctor(XmlTextReader, document) and ImportFromDTD().
	* XmlTextReader.cs :
	  Renamed useSbForVal (valueBuilderAvailable), valSb (valueBuilder)
	  and currentSubset (DTD).
	  Added GenerateDTDObjectModel() (for independent doctype parsing).

2003-07-15  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlAttribute.cs :
	  .ctor() should reject xml- or xmlns-prefixed node.
	* XmlNamespaceManager.cs :
	  added some xmlns validity check.
	* XmlNode.cs :
	  optimized GetNamespaceOfPrefix() and GetPrefixOfNamespace() by
	  avoiding XmlNamespaceManager creation.
	* XmlNodeReader.cs :
	  doctype node should return PUBLIC and SYSTEM for its indexer, 
	  and Value should be internal subset,

2003-07-12  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* DTDObjectModel.cs,
	  DTDValidatingReader.cs : Completely rewrote attribute handling.

2003-07-12  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlAttribute.cs,
	  XmlElement.cs : Fixed CloneNode() for bug #46129.
	* XmlDocument.cs : Fixed MakeReaderErrorMessage that specified invalid
	  String.Format arguments, and basically XmlException.ctor(
	  IXmlLineInfo, message) seems good idea to use.
	* XmlTextReader.cs :
	  - Fixed .ctor(Stream, XmlNodeType, XmlParserContext) which had
	    required non-null context which don't have to exist.
	  - Added state check. Introduced 'currentState' and 'maybeTextDecl' 
	    (for external entity) and removed hasEnteredDocument. Added 
	    state-check logic to ReadStartTag(), ReadEndTag(), ReadText(),
	    ReadCData(), ReadDoctypeDecl() and ReadWhitespace().
	  - Replaced throw ReaderError() with throw new XmlException() and
	    fixed that some error hadn't thrown, only created.
	  - ResetState() should re-initialize existing private members other 
	    than some specified fields.
	  - Private AddAttribute() should check if the same-named attribute 
	    already exists.
	* DTDObjectModel.cs : Additive declaration for ATTLIST is availabe now.

2003-07-09  Lluis Sanchez Gual <lluis@ximian.com>

	* XmlTextReader.cs : Implemented ResetState() method.

2003-07-06  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlElement.cs : IsEmpty has removed attributes since it incorrectly
	  used RemoveAll().

2003-07-06  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : Load(string filename) should close its stream.
	  Small change for the latest DTDObjectModel change.
	* XmlTextReader.cs : Changed for the latest DTDObjectModel change (all
	  changed methods are only related to DTD stuff).
	  Now uses XmlSchemaDatatype for attribute type definition.
	* XmlValidatingReader : initial (limited) support for DTD validation.
	  It can handle only XmlTextReader.
	* DTDObjectModel.cs : changed radically for initial validation support.
	* added DTDAutomata.cs and DTDValidatingReader.cs.

2003-07-06  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlElement.cs : Removed extraneous xmlns output support (it should
	  be done by XmlTextWriter).
	* XmlNode.cs : InsertBefore() now checks validity of the newChild (and
	  most of the changes are in fact indentation changes).
	* XmlWriter.cs : WriteAttributes() now can write entity references.
	  WriteNode() now writes xmldecl attributes correctly.
	  Removed namespaceManager and xmlns check logic, since it should be 
	  done by individual XmlTextWriter.
	* XmlTextWriter.cs : Patch by Jerome. AddMissingElementXmlns () has
	  written multiple xmlns declarations.
	  Moved namespaceManager from abstract XmlWriter.
	  Write{Start|End}Attribute() and WriteString() now checks xmlns 
	  attribute value. (MS.NET holds value only with this write method).

2003-07-04  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : removed xmlReader.Close() from Load(XmlReader).

2003-06-30  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentNavigator.cs : Implemented MoveTo*Namespace() and 
	  essentially changed most of the property handling (e.g. removed attribute 
	  enumerator and it now became really cloneable).
	* XmlNodeReader.cs : ReadInnerXml() changes its state as error
	  when the method is called at Initial state.

2003-06-25  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentNavigator.cs : Fixed IsEmptyElement. It treats <foo></foo>
	  as non-empty, and XmlElement's IsEmpty is designed as such.
	  Fixed MoveToFirst() and MoveToNext() not to move to xmldecl nor 
	  doctype node. 
	* XmlNode.cs : Fixed XPathNodeType. It should throw an exception
	  instead of returning undefined enum value.
	  Modified some code comments.
	* XmlWriter.cs : Fixed WriteNode () to use WriteFullEndElement() 
	  when XmlReader's node is not at empty element or at EndElement. 
	  Fixed XmlDeclaration's standalone check.

2003-06-21  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : removed CRLFs. Fixed private InitializeContext()
	  to use known Uri way (used in XmlUrlResolver) instead of UriBuilder.

2003-06-20  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlInputStream.cs : quick fix for public ctor() BaseURI bug.

2003-06-20  Ben Maurer <bmaurer@users.sourceforge.net>
	
	* XmlTextReader.cs: Reduces memory allocation when the reader is
	not queried for some values.
	* NameTable.cs: Now uses a custom hashtable to implement. As a
	result, when Get (char[], int, int) is called, a string is only
	allocated if it is actually a new entry.
	(StrEqArray) Compares a string and a char[]
	(AddEntry) Adds a new entry to the hashtable
	(Entry) Represents a hashtable entry.

2003-06-20  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlUrlResolver.cs : several ResolveUri() fix. e.g. for external URIs.

2003-06-16  Ben Maurer <bmaurer@users.sourceforge.net>
	* XmlUrlResolver.cs: really fixed #44231

2003-06-16  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNodeReader.cs : fixed MoveToNextAttribute(). In some cases 
	  this method set current node null.
	* XmlTextReader.cs : fixed GetAttribute (name, ns), which returned
	  String.Empty instead of null (expected value).
	* XmlTextReader.cs,
	  XmlUrlResolver.cs,
	  XmlInputStream.cs : fixed BaseURI problem (bug #44231).

2003-06-15  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNodeReader.cs : this [name] and this [name, ns] (and
	  GetAttribute() methods in turn) returns null instead of String.Empty.
	* XmlTextWriter.cs : WriteStartAttribute() should try to use specified
	  prefix before auto-generating prefixes.
	  Implemented WriteBase64().

2003-06-13  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNodeReader.cs : LookupNamespace () has refered invalid current
	  node for attributes. Modified to use private "document" property.

2003-06-10  Lluis Sanchez Gual <lluis@ximian.com>

	* XmlTextWriter.cs: when adding an attribute with a namespace, a prefix must be automaticaly
	  generated, and a namespace declaration must be added. 
	* XmlWriter.cs: the namespace for the prefix xmlns must be http://www.w3.org/2000/xmlns/

2003-06-10  Zoltan Varga  <vargaz@freemail.hu>

	* XmlAttribute.cs: Accept a null prefix or namespaceURI.

2003-06-10  Duncan Mak  <duncan@ximian.com>

	* XmlDocumentNavigator.cs (GetNode): Make it implement
	IHasXmlNode.

2003-06-05  Lluis Sanchez Gual <lluis@ideary.com>

	* XmlTextWriter.cs : Fixed bug. After calling for example WriteStartElement ("pref","ln","ns");
	  a call to LookupPrefix ("pref") when still writting attributes should 
	  return "ns", and it didn't.

2003-06-02  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentNavigator.cs : quick fix for MoveToFirstChild().
	* XmlConvert.cs : fixed VerifyNCName() to check correctly.

2003-06-01  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentNavigator.cs : Compute document node one time.
	  MoveToFirstChild() should move to PIs and comments.

2003-05-30  Miguel de Icaza  <miguel@ximian.com>

	* XmlReader.cs (ReadStartElement): Improve error message.  

2003-05-28  Lluis Sanchez Gual <lluis@ideary.com>

	* XmlTextReader.cs : MoveToAttribute methods must set the enumerator to the right
	  position, since MoveToNextAttribute may be called after it. 
	  SetProperties(): attributes do not "inherit" the namespace.
	* XmlDocument.cs: ReadNode(), ReadAttributeNode(): must keep the current reader position.

2003-05-27  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* NameTable.cs : Add() sets the given name string interned.
	* XmlParserContext.cs : added internal PushScope() and PopScope() to
	  hold stacks of xml:base, xml:lang and xml:space.
	* XmlTextReader.cs : implemented XmlLang and XmlSpace (only as a
	  property for stacked attributes). Renamed Initialize() to Initialize-
	  Context(). Modified to use XmlParserContext.PushScope()/PopScope().

2003-05-26  Lluis Sanchez Gual <lluis@ximian.com>

	* XmlReader.cs: Little fix to WriteAttributeString()

2003-05-24  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlAttribute.cs, XmlCharacterData.cs, XmlComment.cs, XmlDocument.cs,
	  XmlDocumentFragment.cs, XmlElement.cs, XmlEntity.cs, XmlLinkedNode.cs,
	  XmlNode.cs, XmlNotation.cs, XmlProcessingInstruction.cs, XmlReader.cs,
	  XmlSignificantWhitespace.cs, XmlText.cs, XmlWhitespace.cs:
	  Reverted the recent accessibility mistake (5/16).
	* XmlDocument.cs, XmlNode.cs : moved actual CreateNavigator() logic 
	  from XmlNode to XmlDocument.

2003-05-18  Lluis Sanchez Gual <lluis@ideary.com>

	* XmlQualifiedName.cs : Fixed bug in equality operator.

2003-05-18  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriter.cs : patch by Jonathan Hogg. Flush() does not close
	  any open attributes or elements. WriteWhitespace() checks state and
	  closes start tag.  Fixed WriteStringInternal() to replace CR/LF chars
	  when it is called inside attribute value.
	* XmlException.cs : added .NET 1.1 .ctor.
	* added XmlSecureResolver.cs (only stubbing).
	* XmlAttribute.cs : set_InnerXml() should remove children.
	* XmlAttribute.cs,
	  XmlElement.cs,
	  XmlDocumentFragment.cs,
	  XmlDocument.cs : removed XmlTextReader reuse (It was buggy stuff).
	* XmlNode.cs : RemoveAll() should also remove all attributes.
	* XmlTextRader.cs : .ctor() for attribute value reader should add
	  quotations at initialization, since it requires quote chars.
	* XmlWriter.cs : WriteAttributeString() more correct xmlns check.

2003-05-16  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* changed XPathNodeType modifier to internal *protected* override.
	* XmlAttribute.cs : .ctor() now checks name validity e.g. xmlns.
	* XmlAttribute.cs, XmlElement.cs : set_Prefix checks NCName validity.
	* XmlAttributeCollection.cs : removed some incorrect TODO attributes.
	* XmlDocument.cs ; CreateAttribute(name) now auto-completes xmlns NSURI
	  when the argument is "xmlns".
	* XmlElement.cs : more compliant IsEmpty support. See also WriteTo().
	* XmlNamespaceManager.cs : added initial "xml" and "xmlns" namespaces.
	* XmlNode.cs : ser_InnerXml() throws InvalidOperationException.
	* XmlNodeReader.cs : LookupNamespace() refactory. Fixed ReadInnerXml()
	  not to set error state for non-started XmlNodeReader.
	* XmlTextReader.cs : fixed ReadAttributeValue() not to reset state.
	  BaseURI support. Fixed Initialize() to handle Attribute correctly.
	  SetProperty for attribute auto-completes xmlns NSURI.
	  Attribute and whitespace handling became more correct.
	  Don't parse external DTD if XmlResolver is null.
	* XmlTextWriter.cs : implemented WriteEntityRef().
	  WriteStartAttribute() checks if ns does not equal to that of xmlns.
	* XmlWriter.cs : trivial refactoring (WriteNode() xmldecl output).

2003-05-05  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlConvert.cs : IsInvalid() Now uses XmlConstructs.IsName(Start).
	  EncodeName() now correctly encodes invalid names.
	  Result string of ToString(DateTime) contains "fffffff".

2003-04-29  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlElement.cs : fixed IsEmpty (removed private field isEmpty).
	* XmlNodeReader.cs : Fixed AttributeCount, each this[] (indexers),
	  MoveTo*Attribute(),
	  Fixed this[] to work correctly against XmlDeclarations.
	  Fixed ReadInnerXml() and ReadOuterXml() to call Read() correctly.
	  (which may prevent validations etc.)
	* XmlReader.cs,
	  XmlNodeReader.cs,
	  XmlTextReader.cs : Fixed ReadString() to be compliant with each
	  other.
	* XmlTextReader.cs : ReadInnerXml() now moves to next node correctly.

2003-04-27  Pedro Martnez Juli  <yoros@wanadoo.es>

	* XmlNode.cs: ensure to get a valid Uri in BaseUri when loading the
	source document from a file.

2003-04-27  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlAttribute.cs : fixed WriteTo() and WriteContentTo() to write
	  content EntityReference correctly.
	* XmlNodeReader.cs : many fix for EndElement handling (AttributeCount,
	  HasAttributes, indexers, MoveTo*Attribute() and Read() ).
	  Modified Skip() to call Read () explicitly.
	* XmlTextReader.cs :
	  Fixed ReadInnerXml() which ignored EndElement token in certain cases.
	  Implemented MoveToAttribute (local, ns), and modified GetAttribute()
	  in relation to this change.
	  Attributes for XmlDeclaration are now correctly set.
	* XmlTextWriter.cs : WriteRaw() is now different from WriteString().
	  Simplified WriteAttributes() for XmlDeclaration.

2003-04-26  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : fixed ReadInnerXml(). it was inconsistent with
	  Depth property fix.

2003-04-25  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : fixed Load() to set baseURI correctly.
	* XmlReader.cs : patch by Gonzalo. Fixed not to skip XmlDeclaration.
	* XmlTextReader.cs :
	  fixed Depth. When it's on StartElement, Depth was already incremented.
	  fixed private SaveProperty(), which moved away its saved properties
	  when MoveToElement was called repeatedly.
	* XmlTextWriter.cs : fixed WriteQualifiedName() to close start tag.
	* XmlWriter.cs :
	  WriteAttributes() refactory (for XMLDecl).
	  WriteNode() don't Read() when the reader is Initial state, let other
	  invokation to Read(). In case of Element, it should write entire
	  element. In case of Attribute, it shouldn't Read().
	  WriteStartDocument() should omit standalone decl. when there is no
	  explicit value.

2003-04-23  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlReader.cs: reverted last patch. It breaks System.Configuration 
	because 1. it considers XmlDeclaration as content and 2. always
	returns XmlNodeType.None.
	

2003-04-23  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* Added missing ChangeLog of 4/4/2003.
	* XmlTextWriter.cs : patch by Erik. fixed WriteQualifiedName.
	  (write prefix instead of ns.)
	* XmlInputStream.cs : file access mode fix (FileAccess.Read was missing)
	* XmlTextReader.cs : modified to call Read() instead of ReadContent().
	  (It may be required for decorated reader such as XmlValidatingReader.)
	  Changed Read() error message for mismatch end tag.
	* XmlDocument.cs : (ReadNode) friendly message for mismatch EndElement.
	* XmlReader.cs : Corrected misinterpreted MoveToContent() method.

2003-04-04  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : Load() now closes the given XmlReader.
	  Don't allow creation of XmlTextReader for Doctype. (workaround.)
	* XmlInputStream.cs : It now closes its internal stream explicitly.
	* XmlNode.cs : RemoveChild() bugfix for removing LastLinkedChild.
	* XmlNodeReader.cs : GetAttribute() bugfix for not-present attribute.
	* XmlParserInput.cs : added Close() method.
	* XmlReader.cs : MoveToContent() should (1) not Read in case of empty
	  element, and (2) MoveToElement() in case of attribute.
	* XmlTextReader.cs : Close() now actually closes source TextReaders.

2003-03-26  Duncan Mak  <duncan@ximian.com>

	* XmlTextWriter.cs (Write): A patch from Atsushi to fix
	prematurely ending the write, or something like that. It was
	causing us to chop off the end of the document when we're trying
	to generate XML Schemas.

2003-03-23  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : implemented ReadString().
	  fixed ctor(string, XmlNodeType, XmlParserContext) - don't raise
	  null reference exception when context is null.
	* XmlNodeReader.cs : fixed ReadString() - should ignore attributes etc.
	  fixed Read() - when positioned at EndElement, it didn't progress.
	  fixed HasAttribute - it didn't return false in all cases.
	  fixed Name and LocalName - only limited type of nodes return names.
	  fixed AttributeCount - in some cases it threw null ref exception.

2003-03-22  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextWriter.cs : WriteStartDocument doesn't set hasRoot=true, then
	  WriteEndDocument without root element now raises an error correctly.
	* XmlDocumentNavigator.cs : (MoveToFirstChild) fixed bugzilla #36672.
	  implemented BaseURI, NameTable, XmlLang, GetAttributes, GetNamespace,
	  MoveToAttribute.

2003-03-22  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlElement.cs : RemoveAttribute now don't throws when specified
	  attribute does not exist.

2003-03-21  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNode.cs : add descriptions for some node type error.

2003-03-21  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNodeArrayList.cs, XmlNodeListChildren.cs : bugzilla #39920 fix.

2003-03-19  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDeclaration.cs : quick fix, not to use regex for set_Value.

2003-03-19  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : Fixed wrong notationdecl SYSTEM id read.
	* XmlInputStream.cs : Should allow versionless input stream entity.

2003-03-18  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* added XmlParserInput.cs for multi xml document sources.
	* added DTDObjectModel.cs (maybe temporary).
	* XmlTextReader.cs :
	  + fixed ctor to use XmlStreamReader. Allowed null XmlParserContext.
	  + Some members such as LineNumber, ReadChar now uses XmlParserInput.
	  + added support for Namespaces (namespace-ignorant parse available).
	  + added support for XmlResolver.
	  + replace SetReaderContext()/SetReaderFragment() with Initialize().
	  + use NameTable in CreateNameString.
	  + fixed ReadCData(). Now reads "]]]>" correctly.
	  + support for DTD parse.
	  + Read() now throws an error when it reached EOF while Depth > 0.
	* XmlAttribute.cs,
	  XmlDocumentFragment.cs,
	  XmlElement.cs : fix related to the changes of XmlTextReader.Initialize
	* XmlDocument.cs : ReadNode() now reads DocumentType.
	* XmlDocumentType.cs : implemented Entities, Notations, WriteTo().
	* XmlEntity.cs,
	  XmlNotation.cs : added override LastLinkedChild (for doctype node).
	* XmlNamedNodeMap.cs : Remove() raises an error if target is read only.
	* XmlElement.cs : bugfix for node removal of set_InnerXml.
	* XmlNode.cs : added insertBeforeIntern() derived from InsertBefore().
	  (to append child XmlEntity into XmlDocumentType correctly.)
	* XmlInputStream.cs : fixed to access file with FileAccess.Read.

2003-03-15  Duncan Mak  <duncan@ximian.com>

	* XmlElement.cs (Name): Only append prefix + ':' when prefix is
	neither String.Empty nor null. Thanks to Simon Guindon for
	reporting the bug and Jackson for fixing this bug with me.

2003-03-15  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlConstructs.cs : fix "int IsXXX()" to reject negative value.
	* XmlDocument.cs : simplify Load(string url) to use XmlTextReader.
	  fixed ReadNode(), it should call reader.Read() only on Initial state.
	* XmlInputStream.cs : Changed namespace. Added XmlStreamReader(stream)
	  and XmlStreamReader (string). Fixed XmlInputStream(url) not to use
	  System.Net.WebClient directly.
	* XmlParserContext.cs : baseURI never be null.
	* XmlTextWriter.cs : use WebName for Encoding instead of HeaderName.
	* XmlUrlResolver.cs : namespace change for XmlInputStream.

2003-03-12  Elan Feingold <efeingold@mn.rr.com>

	* XmlTextReader.cs: When throwing a ReaderException, show what
	character was the culprit

2003-03-05  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocumentFragment.cs, XmlElement.cs :
	  modified InnerXml (fragment type from Element to DocumentFragment).

	* XmlElement.cs : fixed WriteTo() ns check.
	* XmlNamespaceManager.cs : MS.NET allows Add() used two or more times.
	* XmlNode.cs : fixed ConstructNamespaceManager().

	* XmlConstructs.cs : added IsSpace, IsName, IsNameStart, IsNCName,
	  IsPubid with an int arg.
	* XmlReader.cs : changed to use XmlChar.cs (its role is as same as
	  XmlConstructs.cs).
	* XmlTextReader.cs :
	  improved error messages with line info.
	  / checking matching start and end tags.
	  / prevents the apperance of multiple root elements. (patch by Erik)
	  fixed and refactored ReadInnerXml() and ReadOuterXml()
	  changed to use XmlChar.cs.

	* XmlTextWriter.cs : changed to put element's xmlns at CloseStartTag ()
	  (It will help c14n implementation.)
	  / blocks multiple attribute output with element node.

2003-02-28  Alan Tam <Tam@SiuLung.com>

	* XmlConvert.cs: fixed the most ToXXX(string) and ToString(XXX)
	methods to make them compatible with the XML Schema Spec from W3C
	ToString(TimeSpan) is still outstanding

2003-02-18  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlDocument.cs:
	(Load (string)): hack to workaround some issues with Uri.Parse. Once
	Parse is fixed, remove the hack.

2003-02-16  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlQualifiedName.cs : fixed GetHashCode() to avoid null reference
	* XmlTextReader.cs : fixed ReadAttributeValue() to handle 
		entity reference, and some refactory.

2003-02-16  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlUrlResolver.cs : WebClient.Credentials was not implemented yet.

2003-02-16  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlInputStream.cs : added (also contains internal XmlStreamReader).
	* XmlDocument.cs : Load () now can specify URL using XmlUrlResolver,
		and can read non-UTF-8 stream.
	* XmlTextReader.cs : related to above stream fix.
	* XmlUrlResolver.cs : implemented GetEntity ().

2003-02-03  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextWriter.cs: implemented WriteRaw (char[], int, int).

2003-02-02  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : implemented QuoteChar.

2003-01-26  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNode.cs : implemented ReplaceChild.
	  removed DocElem checking at InsertBefore.
	* XmlNodeReader.cs : fixed ReadString and Read for correct node info.
	* XmlText.cs : implemented CloneNode and SplitText.

2003-01-24  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlCharacterData.cs: added XPathNodeType property.

2003-01-22  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextWriter.cs: throw an exception if WriteEndDocument is
	called without a prior call to WriteStartDocument.

2003-01-21  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNodeReader.cs : several fix to get more compatible with MS.NET.

2003-01-19  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNamespaceManager.cs : fundamental change of LookupPrefix to return
		null when no matching uri.
	* XmlElement.cs : removed unnecessary xmlns output.
	* XmlNode.cs : GetPrefixOfNamespace fix along with the change above.
	* XmlTextWriter.cs : LookupPrefix and WriteStartElementInternal fix 
		along with the change above, and moved timing of 'xmlns' output 
		to CloseStartElement.
	* XmlWriter.cs: modified WriteStartAttribute, same as yesterday.

2003-01-18  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlWriter.cs: modified WriteStartElement (see test for detail).
	Added WriteNode.

2003-01-13  Ville Palo <vi64pa@koti.soon.fi>

	* XmlDocument.cs: Added CheckName () method to check names validity.
	
2003-01-11  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextReader.cs:
	(ReadOuterXml): use Depth property which return elementDepth, not depth.

2003-01-11  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlElement.cs : (by ville) XmlElement.set_InnerText event bugfix.
	* XmlTextReader.cs : some fix for ReadOuterXml().

2003-01-08  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : bugfix for attributes related to creation of 
	  XmlAttribute *node*.

2003-01-08  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlTextReader.cs : bugfix for attribute values which have entity
	  references.

2002-12-28  Ville Palo <vi64pa@koti.soon.fi>

	* XmlDocument.cs: XmlTextWriter.Formatting == Indented when 
	calling Save () -methods.
	
2002-12-28  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlNodeReader.cs : primitive reading implementation.

2002-12-28  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlElement.cs : quick fix for the incomplete patch of #35308 below.

2002-12-28  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : removed inconsistent line-feed output.
	* XmlElement.cs, XmlTextWriter.cs :
		fixed for bugzilla 35308 (default ns output)
	* XmlWhitespace.cs : limited output only when preserving whitespace.

2002-12-24  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlAttribute.cs, XmlDocument.cs, XmlTextReader.cs:
		Implemented XmlTextReader.ReadAttributeValue().
		Added internal ReadAttributeNodeValue().
		Fixed XmlAttribute.InnerXml to use these methods.
	
	* XmlDocument.cs, XmlDocumentFragment.cs, XmlElement.cs, XmlNode.cs:
		Implemented XmlDocument.ReadNode() and removed ConstructDOM().
		Other changes are replacing them.

2002-12-24  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs: patch by Ville (fixed default PreserveWhitespace)

2002-12-21  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlElement.cs, XmlTextWriter.cs, XmlWriter.cs:
		patch by JD Conley <jconley@winfessor.com>.
		(Fix for xmlns attribute output.)

2002-12-05  Ville Palo <vi64p@koti.soon.fi>

	* XmlQualifiedName.cs: Little fix to ToString () -method

2002-12-04  Tim Haynes  <thaynes@openlinksw.com>

        * class/System.XML/System.Xml/XmlElement.cs: Made more refined
        checks on attributeNode to fix 32262.

2002-12-03  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs (CreateNavigator(XmlNode)) : reverted
	* XmlTextWriter.cs (WriteStartElementInternal):
	  fixed when default namespace was specified, all descendants
	  fail to omit the default namespace declarations.
	* XmlAttribute.cs,
	  XmlDocument.cs,
	  XmlNode.cs (internal XmlLang/XmlSpace) : implemented(defined)
	* XmlAttribute.cs,
	  XmlDocumentFragment.cs,
	  XmlElement.cs (set_InnerXml): now uses XmlLang/XmlSpace
	* XmlElement.cs (set_IsEmpty) : implemented
	  (WriteTo) : removed my improper indenting (Writer already done)
	* XmlNode.cs (BaseURI) : fixed if ParentNode is null, NullPointerEx
	  (ConstructDOM) : implemented when xmlReader isn't XmlTextReader
	...and renamed XmlDocument.ConventionalParser to ReusableReader ;-)

2002-12-01  Atsushi Enomoto  <ginga@kit.hi-ho.ne.jp>

	* XmlNode.cs (RemoveChild):
		bugfixed when XmlNode is Document OwnerDocument is null
	* XmlDeclaration.cs (Value):
		bugfixed regular expression pattern.
	* XmlDocument.cs (CreateNavigator): bugfixed access modifier.

2002-11-24  Duncan Mak  <duncan@ximian.com>

	* XmlImplementation.cs (HasFeature): Fixed a typo. Thanks for
	Fabricio Barros Cabral (fx) on #mono for spotting it. This is his
	first patch to Mono! ;-)

2002-11-19  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlNode.cs:
	(AppendChild): readded refChild != null condition before throwing
	"cannot insert this node in this position" exception. There's probably
	a better solution. Fixes #34191.
	(RemoveAll): changed following Atsushi instructions.
	

2002-11-13  Duncan Mak  <duncan@ximian.com>

	* XmlElement.cs (IsEmpty): A temporary check-in to keep gtk-sharp
	compiling.

2002-11-14  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs : unified all constructors, added ConventionalParser,
		implemented CloneNode() and CreateEntityReference(),
	* XmlEntityReference.cs : set_Value, WriteContentTo, WriteTo
		set BaseURI to MonoTODO
	* XmlNode.cs : implemented PrependChild, modified ConstructDOM,
		bugfix InsertAfter (incorrect prepending) and InsertBefore
		(more than one DocumentElements hadn't caused errors)
	* XmlTextReader.cs : unified all constructors,
		added internal SetReaderContext(), SetReaderFragment()
		bugfix (syntax check of PUBLIC / getting internal subset)

2002-11-13  Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>

	XmlAttribute.cs : set_InnerText, set_InnerXml, some check for set_Prefix
	XmlAttributeCollection.cs : (indexer) this[localName, namespaceURI]
	XmlCharacterData.cs : exchanged Data and Value
		(for processing events and inheritance)
	XmlDocumentFragment.cs : set_InnerXml
	XmlSignificantWhitespace.cs : set_Value
	XmlTextReader.cs : ReadAttributeValue

2002-11-04  Atsushi Enomoto <gigna@kit.hi-ho.ne.jp>

	XmlAttribute.cs: fixed missing internal 'OwnerElement''SetOwnerElement'

2002-11-03  Atsushi Enomoto <gigna@kit.hi-ho.ne.jp>

	* XmlAttributeCollection.cs : checks owner element.
		implemented CopyTo, InsertAfter, InsertBefore, Prepend,
		Remove, RemoveAt, SetNamedItem.
		removed some logics that sets 'Parent' (that should be null)
	* XmlDocument.cs : set_InnerXml, [PreserveWhitespace(incomplete)]
	* XmlDocumentFragment.cs : get_InnerXml, WriteContentTo, WriteTo
	* XmlElement.cs : implemented WriteTo, set_InnerText.
		Fixed WriteTo() to add xmlns:* attributes when
		writer.LookupPrefix() returned mismatching.
	* XmlNamedNodeMap.cs : compare not only name but localname and nsuri.
		Removing different prefixes for the same uri now runs correct.
		added SetNamedItem(XmlNode node, int position_to_insert).
	* XmlNode.cs : ConstructDOM (logically) creates XmlEntityReference,
		XmlWhitespace, and XmlSignificantWhitespace

2002-10-31  Atsushi Enomoto <gigna@kit.hi-ho.ne.jp>

	* XmlDocument.cs : implemented CreateDocumentFragment()
	* XmlElement.cs, XmlLinkedNode.cs :
		moved LastLinkedChild from XmlElement to XmlLinkedNode.
	* XmlEntityReference.cs : must throw NotImplementedException.
	* XmlNode.cs :
	      + implemented InsertBefore() and then implemented InsertAfter()
		and modified AppendChild() to call it.
	      + added logic to check ReadOnly, parent document equivalence,
		and inserting any 'content' before/after DocumentElement.
	      + implemented Clone() [it is equals to CloneNode() by MS doc.]
	      + added logic in RemoveChild() to check parent of oldChild.
	      + fixed ConstructNamespaceManager() to internal only.

2002-10-29  Atsushi Enomoto <gigna@kit.hi-ho.ne.jp>

	* XmlAttribute.cs : add internal 'IsDefault' property
			    (equals to !Specified)
	* XmlImplementation.cs : added 'internalNameTable' property.
	* XmlDocument.cs :
	    + now allows "" for 'standalone' in CreateXmlDeclaration.
	    + implemented 'Implementation' property and constructor with it.
	    + added logic for appending name table (but still no use)
	    + implemented property 'DocumentType'
	      (but without internalSubset parsing. wait for next update.)
	* XmlNode.cs :
	    + modified AppendChild() and RemoveChild() to support fragment.
	    + modified AppendChild() to remove newChild from its parent
	      when newChild is already in the other place.
	    + modified RemoveChild() to set parentNode null.
	    + modified ConstructDOM() to create DocumentType,
	      and fixed access modifier ('internal protected' to 'internal')
	* XmlLinkedNode.cs : fixed 'NextSibling' to return null
		when its parent is null.
	* XmlDocumentFragment.cs : added internal override 'LastLinkedChild'
		property to enable AppendChild() for this class.
	* XmlTextReader.cs : appended private publicId and systemId fields.

2002-10-28  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextReader.cs: make it work when the underlying Stream is not
	'seekable'.

2002-10-26  Piers Haken <piersh@friskit.com>

	* XmlNode.cs: add virtual property XPathNodeType
	* XmlAttribute.cs:
	* XmlComment.cs:
	* XmlDocument.cs:
	* XmlElement.cs::
	* XmlProcessingInstruction.cs:
	* XmlSignificantWhitespace.cs:
	* XmlText.cs:
	* XmlWhitespace.cs: implement XPathNodeType property
	* XmlDocumentNavigator.cs: use XPathNodeType property instead of switch

2002-10-26  Piers Haken <piersh@friskit.com>

	* XmlDocumentNavigator.cs: return invalid XPathNodeType (-1) for unknown node types.

2002-10-23  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextReader.cs: don't increment depth for entity references.

2002-10-22  Tim Haynes <thaynes@openlinksw.com>

	* - Fixed the duplication of xmlns:xx = yy when serializing the
	XML for serialization
	
	Fixed the unnecessary parsing/serializing when adding assemblies
	for serialization 

	Avoided setting the XmlNode.InnerXml property
	(as it's not implemented) 

	Fixed the usage/implementation of
	XmlElement.GetElementsByTagName()
	
2002-10-21  Duncan Mak  <duncan@ximian.com>

	* XmlDocument.cs:
	* XmlElement.cs:
	* XmlNode.cs:
	* XmlTextReader.cs: Implementation for XmlNode.InnerXml from
	Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>.

2002-10-18  Duncan Mak  <duncan@ximian.com>

	* XmlDocument.cs: Applied a patch by Atsushi Enomoto
	<ginga@kit.hi-ho.ne.jp>.

2002-10-12  A.Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs (ImportNode): Implemented

2002-10-06  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlDocument.cs: one more Load method implemented.
	* XmlTextReader.cs: Depth now works.

2002-09-22  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlConvert.cs: IsInvalid is now internal.
	* XmlNamespaceManager.cs: implemented RemoveNamespace
	* XmlTextReader.cs: return BaseURI and Encoding from the parser.
	* XmlTextWriter.cs: implemented WriteName and WriteNmToken.

2002-09-19  Matt Hunter <mahunter@tconl.com>

	* XmlElement.cs: Implementing SetAttributeNode(localName,namespaceURI)
	* XmlAttributeCollection.cs: Implemented Append (XmlAttribute) 
	  
2002-09-19  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlConvert.cs: finished implementation.
	* XmlTextReader.cs: fixed #30239.
	* XmlTextWriter.cs: fixed #30240.

2002-09-15  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextReader.cs: line and position begin with 1.

2002-09-13  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlException.cs: added a new internal constructor for IXmlLineInfo
	and output line and position info in Message.

	* XmlReader.cs: implemented missing bits.

2002-09-12	Piers Haken <piersh@friksit.com>

	* XmlDocumentNavigator.cs: implement MoveToId()

2002-09-05  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextWriter.cs: fixed bug #29886.

2002-08-26  Ravi Pratap  <ravi@ximian.com>


	* XmlAttribute.cs (InnerText): Implement getting this property.

	* XmlNode.cs (InnerText): Ensure that we append only values of
	text nodes.

2002-08-26  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlWriter.cs: made ws and namespaceManager protected. mcs has a bug
	that allowed compiling this.
	[ FIXME: filed bug #29435. mcs should have failed on this ]

2002-08-25  Tim Coleman <tim@timcoleman.com>
        * XmlNode.cs:
                Change CreateNavigator to not be virtual.
        * XmlElement.cs:
                Add set_Prefix and InnerText accessors.
        * XmlEntityReference.cs:
                Add set_Value accessor.
        * XmlTextWriter.cs:
                Make objects which should be private private.
        * XmlWriter.cs:
                Remove WriteStartElementInternal abstract definition.
        * XmlValidatingReader.cs:
                New stubs added.

2002-08-22  Jason Diamond <jason@injektilo.org>

	* XmlAttributeCollection.cs, XmlElement.cs: Implementation of RemoveAll
	and RemoveAllAttributes courtesy of Matt Hunter <xrkune@tconl.com>.

2002-08-22  Jason Diamond <jason@injektilo.org>

	* XmlElement.cs: Correction to previous GetElementsByTagName patch
	courtesy of Matt Hunter <xrkune@tconl.com>.

2002-08-22  Jason Diamond <jason@injektilo.org>

	* XmlDocument.cs, XmlElement.cs: Added implementation of namepsace
	qualified GetElementsByTagName courtesy of Matt Hunter 
	<xrkune@tconl.com>.

2002-08-19  Jason Diamond <jason@injektilo.org>

	* XmlDocument.cs, XmlElement.cs: Added implementation of 
	GetElementsByTagName courtesy of Matt Hunter <xrkune@tconl.com>.

2002-08-16  Jason Diamond <jason@injektilo.org>

	* XmlElement.cs: Fixed writing out qualified elements courtesy of
	Marcus Brgel <marcus.buergel@gmx.de>.

2002-08-13  Tim Coleman <tim@timcoleman.com>
	* XmlTextWriter.cs:
		Partial implementation of WriteQualifiedName ().

2002-08-07  Kral Ferch <kral_ferch@hotmail.com>
	* XmlCharacterData.cs:  Implemented AppendData(), DeleteData(),
		InsertData(), and ReplaceData().  These methods fire the
		NodeChanging and NodeChanged events.
		
	* XmlDocument.cs:  Fixed bugs in onNodeChanged() and onNodeChanging().
	
	* XmlNode.cs:  AppendChild() fires NodeInserting and NodeInserted events.
		RemoveAll() and RemoveChild() fire NodeRemoving and NodeRemoved events.
	
2002-08-03  Tim Coleman <tim@timcoleman.com>
	* XmlNamespaceManager.cs:
		.Net allows the empty namespace to be redefined
		at a later point, but the current implementation
		did not.  This fixes a hashtable conflict.

2002-07-26  Tim Coleman <tim@timcoleman.com>
	* XmlTextWriter.cs:
		When given a textwriter, check to see if it has a
		null encoding. This was being done for other inputs
		than a textwriter.

Wed Jul 24 13:16:19 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* XmlTextReader.cs: rough line/column support.

2002-07-23  Duncan Mak  <duncan@ximian.com>

	* XmlConvert.cs: Implement the ToDateTime method. ToDateTime
	(string, string []) is particularly strange.

	* XmlException.cs: Remember to call the base serialization
	constructor.

	* XmlNodeReader.cs: Keep a new variable to store the Depth. 

2002-07-14  Jason Diamond  <jason@injektilo.org>

	* XmlAttribute.cs: Removed ownerElement field since we can reuse 
	parentNode field.

	* XmlDocumentNavigator.cs: MoveToParent now moves to the OwnerElement
	if the current node is an attribute.

	* XmlElement.cs: SetAttributeNode now sets the new attribute's
	owner element.

2002-07-12  Jason Diamond  <jason@injektilo.org>

	* XmlDocument.cs: If null was passed in for prefix or namespaceURI when
	creating an element, use String.Empty instead.

2002-07-12	Piers Haken <piersh@friksit.com>

	* XmlAttributeCollection.cs: implement some ItemOf indexers
	* XmlNamedNodeMap.cs: add internal 'Nodes' accessor for the nodeList field
	* XmlNode.cs: SelectNodes: return empty XmlNodeList, not null

2002-07-06  Ajay kumar Dwivedi <adwiv@yahoo.com>


2002-10-26  Piers Haken <piersh@friskit.com>

	* XmlDocumentNavigator.cs: return invalid XPathNodeType (-1) for unknown node types.

2002-10-23  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextReader.cs: don't increment depth for entity references.

2002-10-22  Tim Haynes <thaynes@openlinksw.com>

	* - Fixed the duplication of xmlns:xx = yy when serializing the
	XML for serialization
	
	Fixed the unnecessary parsing/serializing when adding assemblies
	for serialization 

	Avoided setting the XmlNode.InnerXml property
	(as it's not implemented) 

	Fixed the usage/implementation of
	XmlElement.GetElementsByTagName()
	
2002-10-21  Duncan Mak  <duncan@ximian.com>

	* XmlDocument.cs:
	* XmlElement.cs:
	* XmlNode.cs:
	* XmlTextReader.cs: Implementation for XmlNode.InnerXml from
	Atsushi Enomoto <ginga@kit.hi-ho.ne.jp>.

2002-10-18  Duncan Mak  <duncan@ximian.com>

	* XmlDocument.cs: Applied a patch by Atsushi Enomoto
	<ginga@kit.hi-ho.ne.jp>.

2002-10-12  A.Enomoto <ginga@kit.hi-ho.ne.jp>

	* XmlDocument.cs (ImportNode): Implemented

2002-10-06  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlDocument.cs: one more Load method implemented.
	* XmlTextReader.cs: Depth now works.

2002-09-22  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlConvert.cs: IsInvalid is now internal.
	* XmlNamespaceManager.cs: implemented RemoveNamespace
	* XmlTextReader.cs: return BaseURI and Encoding from the parser.
	* XmlTextWriter.cs: implemented WriteName and WriteNmToken.

2002-09-19  Matt Hunter <mahunter@tconl.com>

	* XmlElement.cs: Implementing SetAttributeNode(localName,namespaceURI)
	* XmlAttributeCollection.cs: Implemented Append (XmlAttribute) 
	  
2002-09-19  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlConvert.cs: finished implementation.
	* XmlTextReader.cs: fixed #30239.
	* XmlTextWriter.cs: fixed #30240.

2002-09-15  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextReader.cs: line and position begin with 1.

2002-09-13  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlException.cs: added a new internal constructor for IXmlLineInfo
	and output line and position info in Message.

	* XmlReader.cs: implemented missing bits.

2002-09-12	Piers Haken <piersh@friksit.com>

	* XmlDocumentNavigator.cs: implement MoveToId()

2002-09-05  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextWriter.cs: fixed bug #29886.

2002-08-26  Ravi Pratap  <ravi@ximian.com>


	* XmlAttribute.cs (InnerText): Implement getting this property.

	* XmlNode.cs (InnerText): Ensure that we append only values of
	text nodes.

2002-08-26  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlWriter.cs: made ws and namespaceManager protected. mcs has a bug
	that allowed compiling this.
	[ FIXME: filed bug #29435. mcs should have failed on this ]

2002-08-25  Tim Coleman <tim@timcoleman.com>
        * XmlNode.cs:
                Change CreateNavigator to not be virtual.
        * XmlElement.cs:
                Add set_Prefix and InnerText accessors.
        * XmlEntityReference.cs:
                Add set_Value accessor.
        * XmlTextWriter.cs:
                Make objects which should be private private.
        * XmlWriter.cs:
                Remove WriteStartElementInternal abstract definition.
        * XmlValidatingReader.cs:
                New stubs added.

2002-08-22  Jason Diamond <jason@injektilo.org>

	* XmlAttributeCollection.cs, XmlElement.cs: Implementation of RemoveAll
	and RemoveAllAttributes courtesy of Matt Hunter <xrkune@tconl.com>.

2002-08-22  Jason Diamond <jason@injektilo.org>

	* XmlElement.cs: Correction to previous GetElementsByTagName patch
	courtesy of Matt Hunter <xrkune@tconl.com>.

2002-08-22  Jason Diamond <jason@injektilo.org>

	* XmlDocument.cs, XmlElement.cs: Added implementation of namepsace
	qualified GetElementsByTagName courtesy of Matt Hunter 
	<xrkune@tconl.com>.

2002-08-19  Jason Diamond <jason@injektilo.org>

	* XmlDocument.cs, XmlElement.cs: Added implementation of 
	GetElementsByTagName courtesy of Matt Hunter <xrkune@tconl.com>.

2002-08-16  Jason Diamond <jason@injektilo.org>

	* XmlElement.cs: Fixed writing out qualified elements courtesy of
	Marcus Brgel <marcus.buergel@gmx.de>.

2002-08-13  Tim Coleman <tim@timcoleman.com>
	* XmlTextWriter.cs:
		Partial implementation of WriteQualifiedName ().

2002-08-07  Kral Ferch <kral_ferch@hotmail.com>
	* XmlCharacterData.cs:  Implemented AppendData(), DeleteData(),
		InsertData(), and ReplaceData().  These methods fire the
		NodeChanging and NodeChanged events.
		
	* XmlDocument.cs:  Fixed bugs in onNodeChanged() and onNodeChanging().
	
	* XmlNode.cs:  AppendChild() fires NodeInserting and NodeInserted events.
		RemoveAll() and RemoveChild() fire NodeRemoving and NodeRemoved events.
	
2002-08-03  Tim Coleman <tim@timcoleman.com>
	* XmlNamespaceManager.cs:
		.Net allows the empty namespace to be redefined
		at a later point, but the current implementation
		did not.  This fixes a hashtable conflict.

2002-07-26  Tim Coleman <tim@timcoleman.com>
	* XmlTextWriter.cs:
		When given a textwriter, check to see if it has a
		null encoding. This was being done for other inputs
		than a textwriter.

Wed Jul 24 13:16:19 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* XmlTextReader.cs: rough line/column support.

2002-07-23  Duncan Mak  <duncan@ximian.com>

	* XmlConvert.cs: Implement the ToDateTime method. ToDateTime
	(string, string []) is particularly strange.

	* XmlException.cs: Remember to call the base serialization
	constructor.

	* XmlNodeReader.cs: Keep a new variable to store the Depth. 

2002-07-14  Jason Diamond  <jason@injektilo.org>

	* XmlAttribute.cs: Removed ownerElement field since we can reuse 
	parentNode field.

	* XmlDocumentNavigator.cs: MoveToParent now moves to the OwnerElement
	if the current node is an attribute.

	* XmlElement.cs: SetAttributeNode now sets the new attribute's
	owner element.

2002-07-12  Jason Diamond  <jason@injektilo.org>

	* XmlDocument.cs: If null was passed in for prefix or namespaceURI when
	creating an element, use String.Empty instead.

2002-07-12	Piers Haken <piersh@friksit.com>

	* XmlAttributeCollection.cs: implement some ItemOf indexers
	* XmlNamedNodeMap.cs: add internal 'Nodes' accessor for the nodeList field
	* XmlNode.cs: SelectNodes: return empty XmlNodeList, not null

2002-07-06  Ajay kumar Dwivedi <adwiv@yahoo.com>

	* XmlTextWriter: Fixed Indentation. IndentationOverridden should
		not be set when inside a attribute.

2002-07-06  Ajay kumar Dwivedi <adwiv@yahoo.com>

	* XmlTextWriter: In WriteStartElement, if namespace is null and 
		prefix is null|empty do not write out xmlns=""
	
	* XmlWriter: WriteStartElement calls the virtual method with null
		argument instead of empty string.

2002-07-05  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* XmlTextReader.cs: implemented .ctor (Stream).

2002-06-26  Duncan Mak  <duncan@ximian.com>

	* XmlNodeReader.cs: Implementation of most of the properties, and
	some of the related methods. 

2002-06-23  Piers Haken <piersh@friskit.com>
	
	* XmlDocumentNavigator.cs: implement Clone()
	* XmlElement.cs: remove bogus unimplemented override of InnerText
	* XmlNode.cs: implment SelectNodes/SelectSingleNode
	* XmlNodeArrayList.cs: new support class for SelectNodes

2002-06-21  Ajay kumar Dwivedi <adwiv@yahoo.com>
	
	* XmlQualifiedName: Name and Namespaces are never null. If null is passed
		to the constructor, set them to empty strings.
		Fixed the Operators.
	
2002-06-18  Ajay kumar Dwivedi <adwiv@yahoo.com>
	
	* XmlTextReader.cs: HasLineInfo returns false instead of throwing an
	Exception.

2002-06-14  Duncan Mak  <duncan@ximian.com>

	* XmlConvert.cs: Added CLSCompliant attributes to methods.
	
2002-06-12  Duncan Mak  <duncan@ximian.com>

	* XmlCharacterData.cs (Value): Throw an ArgumentException in the
	set block if the node is read-only.

2002-06-10  Ajay kumar Dwivedi <adwiv@yahoo.com>
	* XmlConstruct.cs : New Internal class with Helper methods for
	Checking XmlConstructs
	* XmlConvert.cs: Implemented most of the methods

2002-06-08  Duncan Mak  <duncan@ximian.com>	

	* XmlDocument.cs (Load):
	Added bits to Load (string) for BaseURI support.

	* XmlAttribute.cs (BaseURI): 
	* XmlDocument.cs (BaseURI): 
	* XmlEntity.cs (BaseURI): Implemented.

2002-05-27  Jason Diamond  <jason@injektilo.org>

	* XmlDocumentNavigator.cs: Added file to directory.

	* XmlNode.cs (CreateNavigator): Implemented.
	(InnerText): Implemented.

	* XmlDocument.cs (NamespaceURI, Prefix): Return String.Empty instead of
	throwing exception.
	(Load(XmlReader)): Allow for namespace qualified attributes.

	* XmlElement.cs: Implemented GetAttribute(string, string) and both 
	GetAttributeNode overloads.
	(SetAttributeNode(XmlAttribute)): Implemented.

	* XmlNamedNodeMap.cs: Fixed copy/paste bugs in GetNamedItem(string, string)
	and RemoveNamedItem(string, string).

	* XmlLinkedNode.cs (PreviousSibling): Implemented.

	* XmlTextReader.cs: Added code to maintain the order of attributes as 
	they're parsed. XML doesn't require this but Microsoft's parser does it and
	matching them makes testing easier so now we have it, too.

2002-05-26  Miguel de Icaza  <miguel@ximian.com>

	* XmlDocument.cs: Implement the Save methods.

2002-05-08  Mike Kestner  <mkestner@speakeasy.net>

	* XmlNamedNodeMap.cs (SetNamedItem): Fixed a copy/paste bug.

2002-04-28  Duncan Mak  <duncan@ximian.com>

	* XmlSignificantWhitespace.cs (Value):
	* XmlWhitespace.cs (Value): Added MonoTODO to the 'set'
	block. Added new private method, IsValidWhitespaceChar, for
	checking.

2002-04-16  Duncan Mak  <duncan@ximian.com>

	* XmlParserContext.cs (NameTable): Fixed a typo in the set block.

2002-04-12  Duncan Mak  <duncan@ximian.com>

	* XmlAttribute.cs (Prefix): Added preliminary code for set block,
	added comment on work that needs to be done here. A new MonoTODO item. 

	* XmlDocument.cs (ctor): Corrected constructor signature, changed
	parameter from 'NameTable' to 'XmlNameTable'.

	* XmlDocumentFragment.cs (InnerXml): Added missing set block.

	* XmlCaseOrder.cs: Moved to System.Xml.XPath.

2002-04-10  Duncan Mak  <duncan@ximian.com>

	* XmlNodeReader.cs: Initial stubs for the class.

2002-04-08  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlAttributes.cs: InnerXml getter, WriteContentTo, and WriteTo
	implementations.
	
	* XmlDeclaration.cs: WriteTo implementation.
	
	* XmlDocument.cs: InnerXml getter implementation.
	
	* XmlElement.cs: InnerXml getter implementation.

	* XmlNode.cs: Removed MonoTODO attrib on OuterXml.
	
	* XmlSignificantWhitespace.cs: WriteTo implementation.
	
	* XmlText.cs: WriteContentTo and WriteTo implementation.
	
	* XmlTextWriter.cs: WriteRaw implementation.
	
	* XmlWhitespace.cs: WriteContentTo and WriteTo implementations.

2002-04-05  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlAttributes.cs: Added reminder MonoTODO to set NamespaceURI
	if prefix in constructor is one of the default ones.
	
	* XmlCharacterData.cs: Returns String.Empty for Value and Data
	even when constructed with null.
	
	* XmlDeclaration.cs: Value doesn't put encoding or standalone
	in if they are empty.
	
	* XmlDocument.cs: Implemented CreateNode methods and this caused
	the changes in the other files in this checkin.
	
	* XmlProcessingInstruction.cs: Returns String.Empty for Value and Data
	even when constructed with null.
	
	* XmlWhitespace.cs: Changed Value 'get' to return Data.

2002-04-01  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlTextWriter.cs: Impls for WriteEndDocument and WriteFullEndElement.
	
2002-03-31  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlTextWriter.cs: Impls for LookupPrefix, WriteBase64,
	and WriteCharEntity.
	
	* XmlWrite.cs:  Fixed bug where attribute namespace decl
	was pushing a scope onto the namespace manager when it shouldn't
	have been.
	
2002-03-31  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlTextWriter.cs: Some tweaks for WriteAttibuteString
	in different states (no open start element, in WriteState.Content mode).
	
2002-03-29  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlTextWriter.cs: XmlLang and XmlSpace properties
	and WriteWhitespace.
	
	* XmlTextWriterOpenElement.cs: scope support for XmlLang
	and XmlSpace.

2002-03-29  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlTextWriter.cs: Working on Attribute methods.
	
	* XmlWriter.cs: Working on Attribute methods.

2002-03-28  Duncan Mak  <duncan@ximian.com>

	* XmlDocument.cs (CreateWhitespace):
	(CreateSignificantWhitespace): Removed extraneous call to the ToCharArray
	method.

	* XmlSignificantWhitespace.cs (Value): Removed MonoTODO attribute.

2002-03-26  Duncan Mak  <duncan@ximian.com>

	* XmlDocument.cs (CreateDocumentType): Implemented.

	* XmlNode.cs (Value): Implemented.

	* XmlProcessingInstruction.cs (InnerText): Implemented. It works just
	like XmlCharacterData.

	* XmlDeclaration.cs (CloneNode): 
	* XmlDocument.cs (CreateXmlDeclaration): Added missing constructor
	arguments.

	* XmlCharacterData.cs (InnerText): Implemented. Funny that the
	docs say it is the "The concatenated values of the node and all
	the children of the node.". I wrote some test programs and
	couldn't get any of the derived nodes to AppendChild. For now,
	InnerText == Data == Value.
	(Substring): Fixed typo.

	* XmlDeclaration.cs (XmlDeclaration): Fixed the constructor parameter signature.

	* XmlImplementation.cs (CreateDocument): Implemented.

2002-03-25  Duncan Mak  <duncan@ximian.com>

	* XmlDeclaration.cs: Rewrote the class, fixed formatting, added
	missing properties (InnerText, Value).
	
	* XmlDocument.cs (CreateXmlDeclaration): Implemented.

2002-03-23  Kral Ferch <kral_ferch@hotmail.com>

	* XmlTextWriter.cs: Impls for BaseStream and
	Namespaces and WriteState.
	
	* XmlWriter.cs: WriteState and WriteStartElementInternal.

2002-03-23  Kral Ferch <kral_ferch@hotmail.com>

	* XmlNodeListChildren.cs: made class internal
	instead of public.  Shouldn't be visible outside
	of System.Xml.
	
	* XmlTextWriter.cs: Implementations for Formatting,
	IndentChar, Indenting, QuoteChar, WriteStartDocument(standalone).
	Suppresses encoding on xml declaration if null stream passed in.
	Formats output including suppressing indentation for elements in
	mixed content mode.
	
	* XmlTextWriterOpenElement.cs: Initial checkin.
	XmlTextWriter uses stack of these objects to track
	state.
	
2002-03-22  Mike Kestner  <mkestner@speakeasy.net>

	* XmlElement.cs: impl HasAttribute(string name).

2002-03-22  Duncan Mak  <duncan@ximian.com>

	* XmlElement.cs: Reformatted.
	(CloneNode) Corrected.

	* XmlDocument.cs (CreateWhitespace):
	(CreateSignificantWhitespace): Implemented.

	* XmlAttribute.cs (CloneNode): Changed the child's CloneNode to
	true, because Attributes have ChildNodes.

2002-03-21  Kral Ferch <kral_ferch@hotmail.com>

	* XmlTextWriter.cs: WriteStartDocument tracks state, writes out
	xml declaration along with encoding.  WriteEndElement throws
	exception if no WriteStartElement exists.

2002-03-20  Duncan Mak  <duncan@ximian.com>

	* XmlEntityReference.cs (CloneNode): Implemented.

	* XmlException.cs (Message): Implemented. We need to cache the
	message string because SystemException doesn't expose 'message'
	from Exception.

	* XmlText.cs (Value): Added in the missing Value property.

2002-03-20  Duncan Mak  <duncan@ximian.com>	

	* XmlAttribute.cs (CloneNode): Implemented.

	* XmlDocumentFragment.cs (CloneNode): Implemented.

	* XmlElement.cs (CloneNode): Implemented.

2002-03-19  Duncan Mak  <duncan@ximian.com>

	* XmlNotation.cs: Added to CVS.

	* XmlAttribute.cs (CloneNode): First crack at the CloneNode method.

	* XmlCDataSection.cs (CloneNode): Implemented.

	* XmlDocumentFragment.cs: Reformatted and added the missing properties
	(InnerXml, OwnerDocument, ParentNode).
	(CloneNode): Implemented.

	* XmlSignificantWhitespace.cs (CloneNode): Implemented.
	(Value) Implemented the 'get' property.

	* XmlWhitespace.cs (Module): implemented.

2002-03-19  Jason Diamond <jason@injektilo.org>

	* XmlDocument.cs: Fixed typo in Load that was duplicating the LocalName
	in the prefix.

2002-03-18  Jason Diamond <jason@injektilo.org>

	* XmlTextReader.cs: Don't restore properties after reading last
	attribute on an element.

	* XmlDocument.cs: Move back to element after reading attributes
	so that IsEmptyElement test succeeds.

2002-03-18  Kral Ferch <kral_ferch@hotmail.com>

	* XmlNamespaceManager.cs: Implemented LookupPrefix.
	
	* XmlTextWriter.cs: Implemented namespace and prefix support.

2002-03-18  Kral Ferch <kral_ferch@hotmail.com>

	* XmlTextReader.cs: Restores properties after
	reading last attribute on an element.
	
	* XmlNode.cs: AppendChild sets the parent
	on the child.

2002-03-17  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlCDataSection.cs: Formatting, Implementation for WriteTo.

	* XmlComment.cs: Implementations for WriteTo and WriteContentTo.
	
	* XmlElement.cs: Fixed bug in WriteTo.
	
	* XmlProcessingInstruction.cs: Formatting.
	
	* XmlTextWriter.cs: Implementations for Close, WriteCData, WriteComment,
	fixes for WriteEndElement, WriteProcessingInstruction.

2002-03-17  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlDocument.cs: Implementations for WriteTo() and WriteContentTo(),
	had Load() add PIs to the document, moved onXXX methods to alphabetical
	order in the file.
	
	* XmlElement.cs: Implementations for WriteTo() and WriteContentTo().
	
	* XmlNode.cs: Implementations for InnerXml Get and OuterXml.
	
	* XmlProcessingInstruction.cs: Implementations for WriteTo() and
	WriteContentTo().
	
	* XmlTextWriter.cs: Implementations for WriteEndElement,
	WriteProcessingInstruction, WriteStartElement, and WriteString.
	
	* XmlWriter.cs: Implemented WriteStartElement() methods.

2002-03-15  Duncan Mak  <duncan@ximian.com>

	* XmlEntity.cs: Added to CVS. Need to implement BaseURI and
	InnerText once I know what they do.

	* XmlDocumentType.cs (XmlDocumentType): Fix the constructor now
	that we can properly chain constructors.
	(CloneNode): implemented.
	(WriteContentTo): Removed MonoTODO attribute as this method has no
	effect in this class.

	* XmlProcessingInstruction.cs (Value): Added the missing Set
	block.
	(InnerText): Added in, but not implemented.

2002-03-14  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlTextWriter.cs: implemented constructors and 
	WriteCData and WriteComment.

2002-03-14  Duncan Mak  <duncan@ximian.com>

	* XmlDocument.cs: Moved the NodeChanged EventHandler to its own
	file, and updated the callbacks to reflect the change.
	(XmlDocument): Added the NameTable constructor.
	(NameTable): Also the NameTable property.

	* XmlNodeChangedEventHandler.cs: Added, replacing the version that
	was in XmlDocument.cs. It has two arguments now (object,
	EventArgs) , instead of one (object).

2002-03-14  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlWriter.cs: Formatting.
	
	* XmlTextWriter.cs: Initial checkin.
	
2002-03-14  Duncan Mak  <duncan@ximian.com>

	* Validation.cs: Removed, replaced by ValidationType.cs.

	* ValidationType.cs: Added.

2002-03-13  Duncan Mak  <duncan@ximian.com>

	* XmlException.cs: Made it [Serializable], implemented good ol'
	GetObjectData, and the serialization constructor.

	* XmlNamedNodeMap.cs (SetNamedItem): Check for the Name property.
	(SetNamedItem): Reverted (added back in) the patch with the
	ReadOnly checks. "Don't doubt yourself, my son... you were right!"

	* XmlNamedNodeMap.cs (GetEnumerator): piggyback on the ArrayList implementation.
	(GetNamedItem (string, string)): implemented.
	(RemoveNamedItem): implemented.
	(SetNamedItem): implemented.

2002-03-12  Kral Ferch  <kral_ferch@hotmail.com>

	* XmlAttribute.cs: Moved a method from amongst properties down to
	it's alphabetical position in the methods section.
	
	* XmlNode.cs: Passes in 'this' to XmlNodeList constructor instead of
	last linked child.  Set XmlNode base class to return false for IsReadOnly().
	Implemented GetEnumerator() and RemoveChild().
	
	* XmlNodeListChildren.cs: Now stores the parent instead of the last child.
	This is to support the behavior that the Enumerator doesn't become invalid
	when changes to the children occur.  Flushed out rest of implementation for
	MoveNext, Current, and Reset.

2002-03-12  Duncan Mak  <duncan@ximian.com>

	* XmlCharacterData.cs: Reformatted the properties for better readability.

	* XmlLinkedNode.cs: Removed the awful boxy comments.

	* XmlNamedNodeMap.cs (Count):
	(Item): Implemented. Tests will be coming.

	* XmlEntityReference.cs: 
	* XmlSignificantWhitespace.cs: Implemented these classes except for
	the Clone, WriteContentTo and WriteTo methods. Will have to
	investigate into these later.

2002-03-11  Duncan Mak  <duncan@ximian.com>

	* IHasXmlNode.cs: Added to CVS.

2002-03-08  Jason Diamond <jason@injektilo.org>

	* XmlParserContext.cs: Added missing constructors and missing Encoding 
	property.

	* XmlTextReader.cs: Start using the XmlParserContext class.

2002-03-08  Jason Diamond <jason@injektilo.org>

	* XmlTextReader.cs: Implemented MoveToElement and MoveToFirstAttribute.

2002-03-08  Mike Kestner  <mkestner@speakeasy.net>

	* XmlNode.cs (Item): Implemented both indexers.

2002-03-08  Jason Diamond  <jason@injektilo.org>

	* DomEncodingType.cs, TreePosition.cs, XPathNodeType.cs, XmlDataType.cs,
	XmlExceptionCode.cs, XmlSortOrder.cs, XmlUtil.cs: Removed files.

2002-03-08  Jason Diamond  <jason@injektilo.org>

	* XmlAttribute.cs: Attribute nodes are supposed to store their values
	as child nodes so updated to reflect that.

	* XmlDocument.cs, XmlElement.cs, XmlNode.cs: Moved code that was
	duplicated in XmlDocument and XmlElement into XmlNode so that it
	wouldn't have to be duplicated in XmlAttribute, too.

2002-03-08  Kral Ferch <kral_ferch@hotmail.com>

	* XmlNodeList.cs, XmlDocument.cs, XmlLinkedNode.cs,
	XmlNode.cs: Formatting.
	
	* XmlNodeListChildren.cs: Implementation of XmlNodeList
	for XmlNode.ChildNodes property.
	
	* XmlNodeListAsArrayList.cs: Removed file.  Using different
	data structure (circular list) in XmlNode so this file
	is no longer valid.
	
	* XmlDocument.cs, XmlElement.cs: New ChildNodes tests found
	bug in setter property of LastLinkedChild so fixed it.
	
2002-03-06  Jason Diamond  <jason@injektilo.org>

	* XmlInputSource.cs, XmlNames_1_0.cs, XmlParse.cs: Removed files.
	We already have a parser in XmlTextReader.

	* XmlException.cs: Removed constructor accepting XmlInputSource.

2002-03-06  Kral Ferch <kral_ferch@hotmail.com>

	* XmlNode.cs: Rewrote this class from scratch with
	MonoToDo attribs and NotImplementedExceptions.  Now defines an
	internal LastLinkedNode property to aid the new implementation.
	XmlNodes only have ref to owner doc and parent nodes now.
	
	* XmlLinkedNode.cs: Added NextLinkedSibling internal property
	and ref to next sibling to support walking our circular child
	node list.
	
	* XmlDocument.cs: Added ref to last child node and overrides
	XmlNode's internal LastLinkedChild property to support walking
	our circular child node list.
	
2002-03-02  Kral Ferch <kral_ferch@hotmail.com>

	* XmlProcessingInstructions.cs: Class was empty.  Implemented
	constructor, properties, and CloneNode() method.  Put in
	MonoToDo attrib for remaining methods.

	* XmlComment.cs: Reformatted and put in MonoToDo attribs.
	Got rid of helper methods and fields since they were no
	longer needed.

	* XmlLinkedNode.cs: Reformatted and put in MonoToDo attribs.

	* XmlDocument.cs: Added code to Load(XmlReader) to create XmlComment,
	XmlCDataSection, and XmlProcessingInstruction nodes. Implemented
	Createxxx() methods for those three node types.

2002-03-02  Jason Diamond <jason@injektilo.org>

	* XmlDocument.cs: Implemented the remaining CreateElement and
	CreateAttribute methods.

	* XmlAttribute.cs: Re-implemented.

	* XmlElement.cs: Set owner element on attributes. Reformatted.

2002-03-02  Jason Diamond <jason@injektilo.org>

	* XmlTextReader.cs: Implemented MoveToNextAttribute().

	* XmlDocument.cs: Reformatted. Adding missing methods and MonoTODO
	attributes. Create attribute nodes while loading. Implemented
	Load(string) and CreateTextNode().

	* XmlCharacterData.cs, XmlText.cs: Re-implemented.

	* XmlCDataSection.cs, XmlComment.cs: Call correct constructor in 
	XmlCharacterData.

	* XmlNamedNodeMap.cs, XmlAttributeCollection.cs: Stubbed out.

2002-03-02  Mike Kestner <mkestner@speakeasy.net>

	* XmlAttribute.cs : Using fix.
	* XmlDocument.cs (CreateAttribute(String)): Implement.

2002-03-02  Jason Diamond <jason@injektilo.org>

	* XmlNamespaceManager.cs: Atomize prefixes and namespaces strings in 
	the name table.

2002-02-28  Jason Diamond <jason@injektilo.org>

	* XmlDocument.cs, XmlNode.cs: Initial implementation of LoadXml 
	courtesy of Kral Ferch <kral.ferch@hotmail.com>.

2002-02-28  Jason Diamond <jason@injektilo.org>

	* XmlException.cs, XmlReader.cs, XmlTextReader.cs: Reformatted, 
	added missing members and MonoTODO attributes.
	
	* XmlTextReader.cs: Throw XmlException instead of System.Exception.

2002-02-27  Jason Diamond <jason@injektilo.org>

	* XmlElement.cs: Reformatted, added missing members and MonoTODO 
	attributes.

2002-02-26  Duncan Mak  <duncan@ximian.com>

	* XmlCDataSection.cs: Initial implementation.

	* NameTable.cs: Fixed the whole thing. Wrote a NUnit test to test
	it out. This should (hopefully) be correct.

2002-02-26  Jason Diamond <jason@injektilo.org>

	* XmlTextReader.cs: Apparently Microsoft's implementation treats
	namespace declarations as attributes so we do now, too.

	* XmlNamespaceManager.cs: HasNamespace fixed so that it only
	checks the current scope.

2002-02-26  Duncan Mak  <duncan@ximian.com>

	* XmlDocumentType.cs: Added a few hacks here and there to
	temporarily fix the "I broke the build issue".

2002-02-25  Jason Diamond <jason@injektilo.org>

	* XmlDocument.cs, XmlElement.cs, XmlNode.xs, XmlNodeList.cs,
	XmlNodeListAsArrayList.cs: Multiple fixes necessary to get
	simple test to pass. The existing code is really shitty so I'll
	probably start writing tests and refactoring before much else 
	can get done.

2002-02-25  Duncan Mak  <duncan@ximian.com>

	* NameTable.cs: Implemented.

	* XmlDeclaration.cs: It should inherit from XmlLinkedNode, not XmlNode.

2002-02-24  Duncan Mak  <duncan@ximian.com>
	
	* XmlNodeOrder.cs: Added to CVS.

	* XmlQualifiedName.cs: Fixed a warning from Equals ().

	* XmlTokenizedType.cs: Added to CVS.

	* XmlUrlResolver.cs: Added to CVS with one TODO task.

2002-02-23  Duncan Mak  <duncan@ximian.com>

	* XmlQualifiedName.cs: Fixed ToString () and added the operators
	(== and !=).

2002-02-23  Jason Diamond <jason@injektilo.org>

	* XmlTextReader.cs: Added support for qualified attributes.

2002-02-23  Jason Diamond <jason@injektilo.org>

	* XmlNamespaceManager.cs: Initial implementation.
	
	* XmlTextReader.cs: Added support for NamespaceURI property on
	elements.

2002-02-23  Nick Drochak <ndrochak@gol.com>

	* ChangeLog: Add the change log to this directory

	* XmlQualifiedName.cs: Fixed compile errors so it would build. Still has
	MonoTODO's
