#!/bin/sh -e

function show_help () {
cat <<EOL
Usage: configure [options]
    -h, --help              Displays this help
    --enable-ios            Enable IOS build (disabled by default)
    --enable-android        Enable Android build (disabled by default)
    --enable-wasm           Enable WebAssembly build (disabled by default)
    --enable-bcl            Enable BLC build (disabled by default)
EOL
}

CONFIGURED_FILE=configure.inc

rm -f $CONFIGURED_FILE

echo "# Configure arguments: $*" >> $CONFIGURED_FILE

while test x$1 != x; do
	case $1 in
	--enable-ios)
		echo "ENABLE_IOS=1" >> $CONFIGURED_FILE
		shift
		;;
	--enable-android)
		echo "ENABLE_ANDROID=1" >> $CONFIGURED_FILE
		shift
		;;
	--enable-wasm)
		echo "ENABLE_WASM=1" >> $CONFIGURED_FILE
		shift
		;;
	--enable-bcl)
		echo "ENABLE_BCL=1" >> $CONFIGURED_FILE
		shift
		;;
	--help|-h)
		show_help
		exit 0
		;;
	*)
		echo Unknown configure argument $1 >&2
		shift
		;;
	esac
done
