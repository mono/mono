2004-12-11  Martin Baulig  <martin@ximian.com>

	* get.c (get_escaped_name): Correctly escape nested classes.

2004-12-11  Martin Baulig  <martin@ximian.com>

	* get.c (get_class_name): Renamed to get_escaped_class_name() and
	return an escaped class name; correctly escape nested classes.

2004-12-11  Martin Baulig  <martin@ximian.com>

	* get.c (dis_stringify_type): Added `gboolean is_def' argument; if
	false, display type parameters as numbers and not as names.
	(dis_stringify_object_with_class): Added `gboolean is_def' argument.
	(dis_stringify_array): Likewise.

2004-12-10  Martin Baulig  <martin@ximian.com>

	* get.c (init_key_table): Added `type'.
	(get_generic_param): Also escape the type parameter names.
	Correctly handle multiple constraints.

2004-12-10  Martin Baulig  <martin@ximian.com>

	* get.c (get_fieldref_signature): Escape the field type and name
	here, too.

2004-12-10  Martin Baulig  <martin@ximian.com>

	Started to add generics support to monodis.

	* get.c (get_typedef_or_ref): Added `MonoGenericContext *'.
	(get_field_signature, get_field): Likewise.
	(get_methodref_signature, get_methodspec): Likewise.
        (get_token, get_token_type, get_typespec): Likewise.
        (get_method, get_method_type_param): Likewise.
	(get_method_override, dis_stringify_method_signature): Likewise.
	(get_type, get_ret_type, get_param): Likewise.

	* dis-cil.c (disasemble_cil): Added `MonoGenericContext *'.

2004-12-09  Martin Baulig  <martin@ximian.com>

	* get.c (get_generic_param): Take a `MonoGenericContainer *' and
	use it to print things instead of manually parsing the metadata.

	* main.c (dis_generic_param_and_constraints): Removed, use
	get_generic_param() instead.
	(dis_method_list): Added `MonoGenericContext *' argument.

Mon Dec 6 13:31:48 CET 2004 Paolo Molaro <lupus@ximian.com>

	* main.c: add a --filter=filename option to load a file
	with a list of types, fields, methods to disassemble.

2004-12-02  Miguel de Icaza  <miguel@ximian.com>

	* main.c: Rename compilercontrolled to privatescope

	* get.c (get_class_name): Correct implementation that correctly
	handles nested classes.

2004-11-26  Miguel de Icaza  <miguel@ximian.com>

	* main.c: Better implementation of the quote keyword, list all of
	the known keywords to ildasm here. 

	* get.c (dis_stringify_object_with_class): Take an argument
	`prefix' that controls whether the `class', `valuetype' labels are
	used.  This is needed for the catch clause that takes the type
	directly. 
	(get_method_core): Rename get_method to get_method_core, and allow
	for only part of the signature to be specified, so we can produce
	.override signatures correctly.
	(get_method_override): Pass false as the `fullsig' argument.

	(get_typedef): no longer quote the type, we quote in the call site
	elsewhere.   Avoids double quotes.
	
	* main.c (quote_keyword): Quote keywords.

Tue Nov 9 17:29:28 CET 2004 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, get.c, get.h: update to exception clause structure changes.

2004-11-08  Ben Maurer  <bmaurer@ximian.com>

	* get.c, dump.c: warning free.

2004-10-21  Jackson Harper  <jackson@ximian.com>

	* get.c: Escape typedef names.

2004-10-19    <vargaz@freemail.hu>

	* main.c: Applied patch from Alexandre Rocha Lima e Marcondes  (alexandremarcondes@psl-pr.softwarelivre.org). Really fix 2.95 build.

2004-10-04  Sebastien Pouliot  <sebastien@ximian.com>

	* dump.c: Added new "internal" security actions for non-CAS demands:
	NonCasDemand, NonCasLinkDemand and NonCasInheritance.
	* main.c: Added new "internal" security actions for non-CAS demands:
	noncasdemand, noncaslinkdemand and noncasinheritance.

2004-09-24  Zoltan Varga  <vargaz@freemail.hu>

	* main.c: Add support for pinvoke flags BestFit and 
	ThrowOnUnmappableChar.

2004-09-23  Miguel de Icaza  <miguel@ximian.com>

	* main.c (dis_directive_assemblyref): Dump the locale and public
	key tokens 

	* get.c (dis_stringify_object_with_class): Escape assembly name. 

	* main.c (dis_directive_assemblyref): Escape assembly name

2004-09-21  Martin Baulig  <martin@ximian.com>

	* main.c (main): If just a single assembly was specified, use the
	runtime version it requires.

2004-09-16  Sebastien Pouliot  <sebastien@ximian.com>

	* dump.c: Added new security actions added in 2.0: LinkDemandChoice,
	InheritanceDemandChoice and DemandChoice.
	* main.c: Added ".permissionset" to output IL. Removed "hassecurity"
	as MS ilasm can't compile it.

2004-09-16  Zoltan Varga  <vargaz@freemail.hu>

	* get.c (get_token): Add support for memberrefs.

2004-09-06  Zoltan Varga  <vargaz@freemail.hu>

	* main.c: Fix build && warnings.

2004-09-05  Jambunathan K  <kjambunathan@novell.com>
	* main.c (dump_cattrs_list): Newly carved out of dump_cattrs.
	
	Renamed cattrs_for_method() to more meaningful
	dump_cattrs_for_method_params()
	
	(dump_cattrs_for_method_params): Fixed so that ".param[]" gets
	dumped only when necessary. i.e., when a method parameter has
	either a default value and/or when it has a custom attribute.

2004-09-06  Zoltan Varga  <vargaz@freemail.hu>

	* get.c: Fix printing of unmanaged calling conventions.
	(get_constant): Fix warning.

2004-08-28  Jambunathan K  <kjambunathan@novell.com>
	* main.c: modified cattrs_for_method so that
	  emitting of ".param[] = ..." is complete.
	
	* get.c: Modified get_constant() so that
	  1. MONO_TYPE_CHAR now handles unicode characters
	  2. MONO_TYPE_I8 now emits int64(...)
	  3. MONO_TYPE_STRING emits a bytearray()

2004-08-18  Jambunathan K  <kjambunathan@novell.com>
	* get.c: Changed dis_stringify_param to emit [opt] for parameters
	  that are marked as Optional.

	* dump.c: Fixed dump_table_constant so that the parent field's
	  description is correctly displayed.

2004-08-08  Zoltan Varga  <vargaz@freemail.hu>

	* get.c (get_typespec): Append '*' to pointer types. Fixes #62331.

2004-08-03  Martin Baulig  <martin@ximian.com>

	* dump.c (method_dor_to_token): Moved to get.c and made public.

	* get.c (get_method_override): New public function.

	* main.c (dis_code): Added `.override' for override methods.

2004-08-02  Martin Baulig  <martin@ximian.com>

	* get.c (dis_stringify_object_with_class): Include our generic
	arguments in the method's class name.

	* main.c (dis_generic_param_and_constraints): Use the new
	constraints syntax.

2004-08-02  Martin Baulig  <martin@ximian.com>

	* dump.c (dump_stream_blob): Format this nicely.
	(dump_table_standalonesig): New public function.

	* main.c (dis_locals): If --show-tokens was requested, print the
	standalone signature token.
	(table_list): Added "--standalonesig".

2004-07-09  Jackson Harper  <jackson@ximian.com>

	* get.c: Make "class" the default so only valuetypes get the
	"valuetype" modifier. Otherwise object, string, int,... will get
	it.
	
2004-07-08  Jackson Harper  <jackson@ximian.com>

	* main.c: Spaces after visibility types.
	
2004-07-06  Jackson Harper  <jackson@ximian.com>

	* get.c: Add float cast for outputing floats. Patch by Steve Brown.
	
2004-06-25  Jackson Harper  <jackson@ximian.com>

	* get.c: Add a few more keywords to be escaped.
	* main.c: MS's ildasm writes '// end of class' not '// end of
	type'. The python.net tool searches for this string.
	
2004-06-24  David Waite  <mass@akuma.org>

	* dump.c: change to C90-style comments from C99/C++-style
	
2004-06-23  Raja R Harinath  <rharinath@novell.com>

	* main.c (dis_event_signature): Decode and print event_flags.

2004-06-20  Jackson Harper  <jackson@ximian.com>

	* dis-cil.c: Handle switch statements with no labels.
	
2004-06-19  Jackson Harper  <jackson@ximian.com>

	* dump.c/h: New function to dump the contents of the blob
	stream. I found it useful for debugging so I will share.
	* main.c: Add --blob switch to dump the blob stream.
	* monodis.1: Document --blob
	
2004-06-19  Jackson Harper  <jackson@ximian.com>

	* get.c/h: New function to stringify function pointers.
	
2004-06-19  Jackson Harper  <jackson@ximian.com>

	* get.c: Fix name escaping so we dont escape everything in the
	world anymore.
	
2004-06-11  Martin Baulig  <martin@ximian.com>

	* get.c (get_methodref_signature): Include "vararg " in the
	signature of a varargs method.

2004-06-11  Martin Baulig  <martin@ximian.com>

	* get.c (get_methodref_signature): If we're a varargs method,
	print "..." for the sentinel followed by the actual types.

2004-06-08  Martin Baulig  <martin@ximian.com>

	* dump.c (dump_table_memberref): Added support for MethodDef
	parents.	

2004-05-06  Bernie Solomon  <bernard@ugsolutions.com>

	* dump.c:
	* get.c:
	* main.c:
	* util.c:
	* util.h: rename map_t dis_map_t to avoid AIX symbol clash

2004-04-01  Martin Baulig  <martin@ximian.com>

	* dump.c (dump_table_memberref): Added support for TypeDef's.

2004-03-29  Jackson Harper  <jackson@ximian.com>

	* main.c: Handle pinvoke info where there is not an impl_map
	entry.
	
2004-03-27  Vladimir Vukicevic  <vladimir@pobox.com>

       * get.c (get_constant): output bool consts as bool(true) or
       bool(false)  (to be same as ildasm, also what mono and ms
       ilasm expect)

2004-01-31  Martin Baulig  <martin@ximian.com>

	* get.c (get_methodspec): It's a methoddef or ref token.

2004-01-26  Martin Baulig  <martin@ximian.com>

	* main.cs (--show-tokens): New command line argument to show
	type tokens in the disassembly.

	* get.c (get_typedef, get_typespec, get_typeref): If
	`show_tokens', include the token in the type name.
	(get_type): Do some type parsing here and include the token in the
	returned type name if requested.
	(get_method): Include tokens if requested.

2004-01-17  Zoltan Varga  <vargaz@freemail.hu>

	* main.c get.c: Add support for dumping the custom attributes of
	modules.

2004-01-09  Jackson Harper  <jackson@ximian.com>

	* monodis.1: Add --show-method-tokens switch
	* get.c: When stringifying methods show the method token if the
	show-method-tokens flag is set.
	* get.h: Add show_method_tokens flag
	* main.c: Add --show-method-tokens switch
	
2004-01-09  Jackson Harper  <jackson@ximian.com>

	* monodis.1: Add typespec switch
	
2004-01-08  Jackson Harper  <jackson@ximian.com>

	* main.c: Add switch to dump typespec table.
	* dump.c/dump.h: Add function for dumping typespec table.
	
2003-12-19  Zoltan Varga  <vargaz@freemail.hu>

	* dump.c (dump_table_exported): Fix output.

2003-12-08  Jackson Harper <jackson@ximian.com>

	* main.cs: escape module names.
	
2003-12-03  Zoltan Varga  <vargaz@freemail.hu>

	* main.c (dis_field_list): Update after changes to 
	mono_metadata_get_constant_index ().

2003-11-26  Zoltan Varga  <vargaz@freemail.hu>

	* dump.c dump.h main.c: Added support for dumping the ImplMap table
	(--implmap).

	* main.c (dis_method_list): Avoid disassembling native code.

2003-11-19  Zoltan Varga  <vargaz@freemail.hu>

	* get.c (dis_stringify_modifiers): Fix display of modreq and modopt.

Thu Nov 13 16:12:09 CET 2003 Paolo Molaro <lupus@ximian.com>

	* util.h, dump.c: get rid of ugly CSIZE macro.

2003-11-01  Zoltan Varga  <vargaz@freemail.hu>

	* main.c: Add disassembly of module, moduleref and file tables.

	* get.h get.c: Add support for modulerefs.

	* dump.c: Avoid crash on empty assembly table.

2003-10-22 Jackson Harper <jackson@ximian.com>

	* main.c: Use escaped names for method, and type names. Initialize
	the name table.
	* main.c (visibility_map): Fix typo, should be nested family not
	family
	* main.c (dis_data): Use uppercase hex to avoid name conflicts.
	* get.c/get.h: New method to get an escaped name. This method will
	take a name and escape it if it is an ilasm keyword, or uses a non
	id char. Use escaped names for type, method, field, and parameter names.
	* get.c (get_typespec): A typespec can be used for anything, so we
	need to handle all types not just modified types.
	* get.c (dis_stringify_object_with_class): Handle nested classes
	* get.c (get_token): Add field keyword to field tokens.
	
2003-10-21 Jackson Harper <jackson@ximian.com>

	* get.c (get_fieldref_signature): Use MONO_MEMBERREF_SIGNATURE in
	the member ref table.
	
2003-10-21  Martin Baulig  <martin@ximian.com>

	* get.c (get_typespec): Add MONO_TYPE_VAR and MONO_TYPE_MVAR.

2003-10-18 Jackson Harper <jackson@ximian.com>

	* dis-cil.c (get_encoded_user_string): use g_strescape instead of
	escaping manually.
	* util.c (hex_dump): Use uppercase hex so there are no conflicts
	with ilasm keywords ie cf
	
2003-10-17 Jackson Harper <jackson@ximian.com>

	* dis-cil.c (get_encoded_user_string): Escape user strings when
	loading. ie ""quote"" should be "\"quote\"".
	* dis-cil.c (dissasemble_cil): Write SEH debug info into a comment
	block. Combine SEH blocks that have the same offset and length,
	this prevents creating invalid SEH blocks. 
	
2003-10-15  Zoltan Varga  <vargaz@freemail.hu>

	* get.c (get_ret_type): Remove needless warning message.

2003-10-13 Jackson Harper <jackson@ximian.com>

	* get.c: stringify nested types properly ie Outer/Inner.
	
2003-10-10 Jackson Harper <jackson@ximian.com>

	* dump.c: When dumping methodspecs dump the full methodspec with
	signature, and dump the signature.
	
2003-10-10 Jackson Harper <jackson@ximian.com>

	* get.c/get.h: Add methods to get stringified methodspecs and
	method type parameters. 
	
2003-10-09 Jackson Harper <jackson@ximian.com>

	* main.c/get.c: Remove magic numbers, use constants.
	
2003-10-08 Jackson Harper <jackson@ximian.com>

	* main.c (dis_genericparam): renamed to
	dis_generic_param_and_constraints, allow a table type to be passed
	to the method so this could be used with generic methods (It is
	not though).
	* get.c/get.h (get_generic_param): method to stringify generic
	type and method parameters.
	* get.c (dis_stringify_method_signature): Add generic parameters.
	
2003-10-08 Jackson Harper <jackson@ximian.com>

	* main.c (dis_type): NULL cnst_block so we dont explode on
	interfaces.
	* main.c (dis_genericparam): oops, fix off-by-one error.
	
2003-10-08 Jackson Harper <jackson@ximian.com>

	* get.c/get.h add method to get a methoddef from an index, simplify
	get_typd_or_methdef, use new get_methoddef to get the method
	because we have a method index not a method token.
	
2003-10-07 Jackson Harper <jackson@ximian.com>

	* main.c: When dis. generic parameters the TypeOrMethodDef token
	only needs to be shifted 1 bit. Added dis of generic constraints.
	* get.c/get.h: New method for getting a TypeOrMethodDef token
	* dump.c: When dumping generic parameters and generic constraints
	output readable names instead of just tokens.
	
2003-10-01 Jackson Harper <jackson@latitudegeo.com>
	
	* main.c: Fix visibility level names, when outputing pinvoke info
	quote the module and method names, properties have specialname,
	and rtspecialname flags	(nothing else), dis global methods and
	fields FIXME: indentation issues.
	* get.h: declare get_fieldref_signature
	* get.c: Fix unsigned ints (not uint), single quote argument names
	(this is kinda a hack, ildasm will only single quote arg names
	that are ilasm keywords), remove fixme, we know what typedbyref
	means, output fieldref signatures instead of their token value.
	
2003-09-19 Jackson Harper <jackson@latitudegeo.com>

	* dis-cil.c: Output fault blocks, and filter blocks. If in a
	filter block outptut 0xDC as endfilter if in a fault output as
	endfault.
	
2003-08-22  Zoltan Varga  <vargaz@freemail.hu>

	* main.c (dis_event_list): Same for event methods.

	* get.c (dis_stringify_method_signature): New argument specifying
	whenever to return a fully qualified method name.
	* dump.c main.c: Updated to work with the new function.

	* main.c (dis_property_methods): Print fully qualified method names 
	for property methods. Fixes #46221.

2003-07-22 Jackson Harper <jackson@latitudegeo.com>

	* main.c: Dissasemble generic type parameters for type
	definitions. TODO: Sort type parameters by index, and
	auto-generate names for parameters that have no name.
	
Fri Jul 18 13:12:38 CEST 2003 Paolo Molaro <lupus@ximian.com>

	* get.c: updates for array type representation changes.

2003-06-16 Jackson Harper <jackson@latitudegeo.com>

	* get.c: Fix modopt and modreq
		
Thu May 29 12:21:47 CEST 2003 Paolo Molaro <lupus@ximian.com>

	* dump.c, get.c: misc fixes.

Wed May 7 16:50:00 CEST 2003 Paolo Molaro <lupus@ximian.com>

	* main.c: output custom attributes for method parameters.

Wed May 7 16:24:43 CEST 2003 Paolo Molaro <lupus@ximian.com>

	* main.c: output nested types inside their nesting class.

2003-04-12  Zoltan Varga  <vargaz@freemail.hu>

	* get.c (dis_stringify_modifiers): Print a space between custom modifers.
	* get.c (get_custom_mod): Handle multiple custom modifiers aka bug #30812.
	* main.c: Print klass name at the end of each method to make it easier
	to find a given method.

2003-03-31  Miguel de Icaza  <miguel@ximian.com>

	* main.c: Sorted command line options table by name.

	* dump.c: Add support for dumping the new generic tables. 

	* monodis.1: Update man page.
	
2003-03-09 Jackson Harper <jackson@latitudegeo.com>

	* main.c: Ouput implements clause as a comma seperated list.

Thu Feb  6 02:43:23 PST 2003 Piers Haken <piersh@friskit.com>

	* dump.c: more warning cleanups

Mon Jan 27 17:16:50 CET 2003 Paolo Molaro <lupus@ximian.com>

	* get.c: decode also the size info in get_marshal_info()
	for ByValStr and ByValArray.

Tue Sep 24 11:48:53 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: use mono_type_size () to get the size of
	a blob of data for a type (Zoltan Varga spotted the bug).

2002-09-22  Gonzalo Paniagua Javier <gonzalo@ximian.com>

	* get.c: closes bug #30814. Thanks to Zoltan Varga.

Mon Sep 16 18:49:55 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c, get.c, dump.c: updates for changes in libmetadata.

Fri Sep 13 15:39:41 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: dump public key.
	* get.c, util.h, util.c: prettyfy data dumps.

2002-08-28  Dick Porter  <dick@ximian.com>

	* Makefile.am: Export HOST_CC for w32 builds

Tue Aug 6 12:40:09 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: use mono_image_get_entry_point ().

Fri Jul 26 11:41:32 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c, dump.h, dump.c: output hash value in File table.
	Add dumper function for DeclSecurity table.

Fri Jul 19 14:20:10 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: handle null parent.

2002-07-02  Martin Baulig  <martin@gnome.org>

	* get.c (dis_stringify_object_with_class): New static function to
	stringify an object when we already have its class.
	(dis_stringify_object): Get the class and call dis_stringify_object().
	(get_method): Call dis_stringify_object_with_class() since we already
	have the object's class.

Thu Jun 20 11:50:38 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c, dump.c, dump.h: code to dump the MethodImpl table.

Mon Jun 17 17:31:19 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* get.h, get.c: get_marshal_info() to get a marshal descriptor.
	* main.c, dump.h, dump.c: added code to dump the FieldMarshl table.

Tue Jun 11 14:11:12 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* get.c: handle modulerefs.
	* main.c: fix --mscorlib argument handling.

Fri Jun 7 19:39:43 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* get.c: handle typerefs of nested types. Don't print "."
	with an empty namespace.

Sat Jun 1 13:57:17 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: print byte values correctly.

2002-05-20  Martin Baulig  <martin@gnome.org>

	* main.c: Added `--output=FILENAME' command line option.

	* monodis.1: Documented it here.

Thu May 16 17:21:07 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c, dump,c, get.h, get.c: diassemble custom attributes.

Wed May 15 16:02:56 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: output field RVA data.

Fri May 10 21:00:52 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: print field offset info if needed.

Wed May 1 17:07:56 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c, dump.h, main.c: dump ExportedTypes table.
	* get.c: fix get_module (), remove magic numbers.
	* monodis.1: update manpage (hi miguel!:)

Mon Apr 29 12:12:35 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c, dump.h, main.c: support for dumping the manifest resource table.

Mon Apr 15 11:35:05 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c, dump.h, get.c, get.h, main.c: support for dumping the
	module table and guid values.

Mon Apr 8 17:15:04 CEST 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: removed unneeded runtime invoke support.

Thu Mar 28 16:52:11 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, dump.c, get.c, main.c, util.h: spring warning cleanup.

Thu Mar 28 11:29:58 CET 2002 Paolo Molaro <lupus@ximian.com>

	* util.c: when an invalid flags combination is seen,
	return the string "invalid-flags", so disassembly can continue.

Tue Mar 19 18:15:29 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: use unsigned for variables.

Sat Mar 16 19:13:57 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: handle TypeSpec token in memberref table dump.

2002-03-08  Nick Drochak  <ndrochak@gol.com>

	* monodis.1: Add info about new parameter
	* main.c: Add flag to remember if user wants to us mscorlib for
	non-corilb assembly names
	* get.c(get_typedef): use mscorlib for assembly name only
	if user specifies it with a command line parameter. Default
	behavior is now to use actual assembly name.
 
Tue Mar 5 18:11:01 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: print index of the methodsemantics table.
	* main.cs: print event information.

Wed Feb 20 22:10:48 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: fix the fix and more complete custom attribute decoder.

Tue Feb 19 20:20:15 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: the prolog is before each arg in the custom attribute blob.

Mon Feb 18 15:48:38 CET 2002 Paolo Molaro <lupus@ximian.com>

	* get.c: include last param.

Thu Feb 14 18:59:37 CET 2002 Paolo Molaro <lupus@ximian.com>

	* main.c: output pack and size info if needed.

2002-02-13  Dietmar Maurer  <dietmar@ximian.com>

	* *.c: s/MonoMetadata/MonoImage/ 

Tue Feb 12 14:33:53 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: make all the indexes printed starting from 1.

Fri Feb 8 19:28:31 CET 2002 Paolo Molaro <lupus@ximian.com>

	* get.c: don't abort if a methodref is not found, usa alternative way
	to get the method name.

Fri Feb 8 12:29:41 CET 2002 Paolo Molaro <lupus@ximian.com>

	* Makefile.am: correct linking order.
	* dis-cil.c: use opcode info from opcodes.h instead of a copy of the data.

Thu Jan 31 18:21:12 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: reverse order when outputting start try blocks.

Mon Jan 14 17:00:23 CET 2002 Paolo Molaro <lupus@ximian.com>

	* dump.c: more info in method table dump.

Mon Dec 24 17:24:13 CET 2001 Paolo Molaro <lupus@ximian.com>

	* main.c, dump.h, dump.c: add dump_table_nestedclass().
	* dis-cil.c: output int64 as hex.

Tue Dec 18 18:48:00 CET 2001 Paolo Molaro <lupus@ximian.com>

	* main.c: use mono_metadata_methods_from_property() and
	mono_metadata_properties_from_typedef() from metadata instead of
	custom code.

Tue Nov 27 16:31:52 CET 2001 Paolo Molaro <lupus@ximian.com>

	* main.c: output a marker for method (used in debug support).

Mon Nov 19 11:32:28 CET 2001 Paolo Molaro <lupus@ximian.com>

	* main.c: remove arch_create_jit_trampoline().

Thu Nov 15 17:42:03 CET 2001 Paolo Molaro <lupus@ximian.com>

	* dump.c: decode more info in the constant table.
	* get.c: show literals the same way ildasm does.
	* main.c: decode literal values for fields.

Fri Nov 2 19:04:21 CET 2001 Paolo Molaro <lupus@ximian.com>

	* main.c, dump, dump.c: decode the customattr table.
	* dump.c: handle also field signature when dumping the memberref
	table.

2001-11-07  Miguel de Icaza  <miguel@ximian.com>

	* main.c (dis_property_methods): Added missing colon which avoided
	setting loc.t

2001-10-10  Dietmar Maurer  <dietmar@ximian.com>

	* main.c (arch_compile_method):  added to compute vtable entry

Mon Oct 8 16:13:55 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* get.c, get.h: MonoArray changed in MonoArrayType.
	* main.c: guard against calling bsearch with a NULL pointer
	(pointed out by Laurent Rioux, smoux).

Thu Oct 4 19:05:56 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: fix printing of exception stuff.
	* dump.c: display some more info in the typedef table dump.
	* main.c: typo fix and method list fix.

2001-10-04  Dick Porter  <dick@ximian.com>

	* meta.h: include mono-endian.h not endian.h

2001-10-02  Dietmar Maurer  <dietmar@ximian.com>

	* get.c (get_method): always write namespace and class name.

2001-09-06  Miguel de Icaza  <miguel@ximian.com>

	* monodis.1: Update man page.

Tue Aug 28 15:54:45 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* main.c, dump.c, dump.h, get.c: added dump_table_interfaceimpl ().
	Output info about interfaces when disassembling a type. Many small
	changes to make the output correct assembler.

Mon Aug 27 20:13:49 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, get.c: some endian fixes.
	* main.c: colon-separate version numbers. Print also namespace
	when outputting class information.

Fri Aug 24 16:10:12 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* get.c, main.c, get.h: updates for MonoParam merge in MonoType.

2001-08-24  Dietmar Maurer  <dietmar@ximian.com>

	* main.c (disassemble_file): use assembly_open instead of image_open

Wed Aug 22 16:22:22 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: add a newline after branch instructions. Move
	end of exception handler code at the end.

Tue Aug 21 18:51:05 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: correctly print the label for multi-byte opcodes.

Mon Aug 20 19:33:34 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* util.c: add a space when decoding multiple flags.
	* dump.c, dump.h, main.c: decode the property map and
	methodsemantics tables. Disassemble property information
	to .property IL directives.
	* get.c: allow passing a NULL as method in dis_stringify_method ()
	if a methoddef_row is given.
	
2001-08-20  Dietmar Maurer  <dietmar@ximian.com>

	* get.c (dis_stringify_type): support pinned values

Sat Aug 18 11:24:07 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dump.c, get.c, get.h, main.c: dis_stringify_method_signature()
	gets an optional methodef_row index instead of a name, so it
	can figure out also the names and attributes of params.
	parse_method_signature() and free_method_signature() removed as
	they are useless now.

2001-08-17  Dietmar Maurer  <dietmar@ximian.com>

	* main.c (pinvoke_info): bug fix - use the right column in the table

2001-08-14  Dietmar Maurer  <dietmar@ximian.com>

	* get.c (dis_stringify_type): use strconcat instead of strjoin

Sat Aug 4 12:36:54 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* get.c, get.h, main.c, dump.c: implement dis_stringify_method_signature().
	More magic constants replaced by enum values (spotted at least 3 real bugs
	doing this). Print usage information if an unknown option is given.
	Print the full signature when dumping the method table.
	Changed method and field table dumps to show the typedef name the field
	or method belongs to.

Fri Aug 3 18:30:16 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* get.c (get_method): fix use of unitialized variable and
	remove magic constants all over the place.

Wed Aug 1 22:46:45 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: properly decode the switch opcode.
	
2001-08-01  Dietmar Maurer  <dietmar@ximian.com>

	* get.c (get_token): decode typedef and typeref tokens

	* main.c (dis_method_list): don't decode the next row, that is
	totally unnecessary

Tue Jul 31 17:48:11 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, dis-cil.h, dump.c, dump.h, get.c, get.h, main.c, push-pop.h:
	massive namespace cleanup.
	* main.c: dis_locals() now just strigifies a MonoMethodHeader.

2001-07-31  Dietmar Maurer  <dietmar@ximian.com>

	* main.c (pinvoke_flags): impl.

Mon Jul 30 20:08:37 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, dis-cil.h, main.c: changes to disassemble also
	the information about try/catch/finally blocks.

2001-07-27  Dietmar Maurer  <dietmar@ximian.com>

	* get.c (dis_stringify_type): return "void" if !type
	(dis_stringify_type): print type* instead of *type

Thu Jul 26 13:22:28 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c, dump.c, get.c, main.c: updates to match changes in metadata.
	Removed dead code.

2001-07-17  Miguel de Icaza  <miguel@ximian.com>

	* main.c (usage): Print out all the arguments.

	* get.c, main.c, dump.c: Remove `expand', `get_encoded_value',
	`get_blob_encoded_size' and replaced with the proper functions
	from metadata.c

2001-07-15  Miguel de Icaza  <miguel@ximian.com>

	* main.c (dis_code): Only display .entrypoint when we are dealing
	with a module that contains an entry point.  This removes a bunch
	of warnings for .dll dumping

Sun Jul 15 17:29:10 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* get.h,get.c: added some dis_stringify_object() functions:
	metadata decoding is now done in libmetadata. Still need to use
	them throughhout the code (and move other decode code to
	metadata). Fix also field decoding (band-aid until we load
	also referenced assemblies).
	* dis/main.c: start using the new routines.

2001-07-13  Miguel de Icaza  <miguel@ximian.com>

	* get.c (get_method): GOOD. Implemented this other bad boy.

2001-07-12  Miguel de Icaza  <miguel@ximian.com>

	* get.c (get_token_type): Implement TOKEN_TYPE_TYPE_SPEC.
	(get_typespec): Implement.
	(get_typedef_or_ref): Use get_typespec.

	* dis-cil.c (dissasemble_cil): Implement InlineField
	(dissasemble_cil): Implement InlineTok.

	* get.c (get_token, get_field): Implemented.  Worked around lame
	tables in the spec.

Wed Jul 11 18:52:15 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dis-cil.c: output real name of local var.
	* dump.c: output more info about fields (flags and type). Properly decode
	Property signatures. Decode also method table.
	* main.c: Fix local variable info. Hopefully fix field and property list.

Mon Jul  9 16:39:41 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dump.c: write stuff to output, not stderr. Give more info for properties.
	* dump.c,dump.h,main.c: implement dump_table_event(), dump_table_file(),
	dump_table_moduleref().
	* get.c: first attempt to decode string constants, need to find if and where
	this is actually specified.

Fri Jul  6 19:49:21 CEST 2001 Paolo Molaro <lupus@ximian.com>

	* dump.c,dump.h: implement dump_table_property().
	* main.c: implement local variable info disassembling.
	Annotate entrypoint method. Remove memory leak in 
	parse_method_signature ().

2001-07-04  Miguel de Icaza  <miguel@ximian.com>
	
	* get.c (get_methodref_signature): Implement.

	* dump.c (dump_table_memberref): Add memberref dumping.

Tue,  3 Jul 2001 18:32:10 +0200 Paolo Molaro <lupus@ximian.com>

	* main.c: return on failure.

2001-07-02  Miguel de Icaza  <miguel@ximian.com>

	* dis-cil.c (get_encoded_user_string): Return a string from the
	#US heap. o

	* get.c (get_blob_encoded_size): Implement 23.1.4 decoding.

2001-07-01  Miguel de Icaza  <miguel@ximian.com>

	* dis-cil.c: New file.  CIL opcode dissasembler.

2001-06-27  Miguel de Icaza  <miguel@ximian.com>

	* main.c: Split code.

2001-06-22  Miguel de Icaza  <miguel@ximian.com>

	* main.c: More work on the disassembler and on the understanding
	of the metadata file format.   

